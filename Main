<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NEXUS ULTRA — nexus-ultra-platforms.com | Complete AI Digital Platform</title>
<meta name="description" content="The world's most complete AI platform. 50+ AI tools, games, e-commerce, affiliate marketing, social media hub — all free at nexus-ultra-platforms.com">
<meta name="author" content="Rananisar AI Studio — nisarllc206@gmail.com">
<link rel="canonical" href="https://nexus-ultra-platforms.com">
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=Space+Mono:wght@400;700&family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #04050a;
  --surface: #0b0d18;
  --card: #111425;
  --border: rgba(99,102,241,0.18);
  --accent: #6366f1;
  --accent2: #f43f5e;
  --accent3: #10b981;
  --accent4: #f59e0b;
  --accent5: #06b6d4;
  --text: #e8eaf6;
  --muted: #7b83b0;
  --glow: rgba(99,102,241,0.4);
}
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:'Outfit',sans-serif;overflow-x:hidden}

/* Animated bg */
body::before{
  content:'';position:fixed;inset:0;
  background:radial-gradient(ellipse 80% 50% at 20% 0%,rgba(99,102,241,0.12) 0%,transparent 60%),
             radial-gradient(ellipse 60% 40% at 80% 100%,rgba(244,63,94,0.08) 0%,transparent 50%);
  pointer-events:none;z-index:0
}

/* NAVBAR */
nav{
  position:fixed;top:0;left:0;right:0;z-index:999;
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 40px;
  background:rgba(4,5,10,0.85);
  backdrop-filter:blur(20px);
  border-bottom:1px solid var(--border);
}
.logo{
  font-family:'Syne',sans-serif;font-size:1.4rem;font-weight:800;
  background:linear-gradient(135deg,#6366f1,#f43f5e,#f59e0b);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  letter-spacing:-0.5px
}
.nav-links{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.nav-links a{
  color:var(--muted);text-decoration:none;font-size:0.82rem;font-weight:600;
  padding:6px 14px;border-radius:20px;transition:all 0.2s;letter-spacing:0.3px;
  border:1px solid transparent
}
.nav-links a:hover{color:var(--text);background:var(--card);border-color:var(--border)}
.nav-cta{
  background:var(--accent);color:#fff!important;border-color:var(--accent)!important;
  box-shadow:0 0 20px var(--glow)
}
.hamburger{display:none;flex-direction:column;gap:5px;cursor:pointer;padding:5px}
.hamburger span{width:24px;height:2px;background:var(--text);border-radius:2px;transition:0.3s}

/* HERO */
.hero{
  min-height:100vh;display:flex;align-items:center;justify-content:center;
  text-align:center;padding:120px 20px 80px;position:relative
}
.hero-badge{
  display:inline-flex;align-items:center;gap:8px;
  background:rgba(99,102,241,0.12);border:1px solid var(--border);
  padding:6px 16px;border-radius:20px;font-size:0.78rem;color:var(--accent);
  font-weight:600;letter-spacing:1px;text-transform:uppercase;margin-bottom:24px
}
.badge-dot{width:7px;height:7px;background:var(--accent3);border-radius:50%;animation:pulse 1.5s infinite}
@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:0.5;transform:scale(1.5)}}

.hero h1{
  font-family:'Syne',sans-serif;font-size:clamp(2.5rem,7vw,5.5rem);
  font-weight:800;line-height:1.05;margin-bottom:24px;
}
.hero h1 span{
  background:linear-gradient(135deg,#6366f1 0%,#f43f5e 50%,#f59e0b 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent
}
.hero p{font-size:clamp(1rem,2vw,1.25rem);color:var(--muted);max-width:700px;margin:0 auto 40px;line-height:1.7}
.hero-btns{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin-bottom:60px}
.btn-primary{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff;padding:14px 32px;border-radius:50px;font-weight:700;
  border:none;cursor:pointer;font-size:1rem;transition:all 0.3s;
  box-shadow:0 8px 32px rgba(99,102,241,0.35);font-family:'Outfit',sans-serif
}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 12px 40px rgba(99,102,241,0.5)}
.btn-secondary{
  background:transparent;color:var(--text);padding:14px 32px;border-radius:50px;
  font-weight:600;border:1px solid var(--border);cursor:pointer;font-size:1rem;
  transition:all 0.3s;font-family:'Outfit',sans-serif
}
.btn-secondary:hover{background:var(--card);border-color:var(--accent)}

.stats-row{
  display:flex;gap:40px;justify-content:center;flex-wrap:wrap;
  padding-top:40px;border-top:1px solid var(--border)
}
.stat{text-align:center}
.stat-num{font-family:'Syne',sans-serif;font-size:2rem;font-weight:800;color:var(--accent)}
.stat-label{font-size:0.8rem;color:var(--muted);margin-top:4px}

/* SECTIONS */
section{padding:100px 20px;position:relative;z-index:1}
.section-tag{
  display:inline-block;background:rgba(99,102,241,0.1);
  border:1px solid var(--border);padding:4px 14px;border-radius:20px;
  font-size:0.75rem;color:var(--accent);font-weight:700;letter-spacing:1.5px;
  text-transform:uppercase;margin-bottom:16px
}
.section-title{
  font-family:'Syne',sans-serif;font-size:clamp(1.8rem,4vw,3rem);
  font-weight:800;margin-bottom:16px;line-height:1.15
}
.section-sub{color:var(--muted);font-size:1.05rem;line-height:1.7;max-width:600px}
.text-center{text-align:center;margin:0 auto}

/* TOOLS GRID */
.tools-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:20px;max-width:1200px;margin:60px auto 0
}
.tool-card{
  background:var(--card);border:1px solid var(--border);border-radius:20px;
  padding:28px;transition:all 0.3s;cursor:pointer;position:relative;overflow:hidden
}
.tool-card::before{
  content:'';position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(99,102,241,0.05),transparent);
  opacity:0;transition:0.3s
}
.tool-card:hover{transform:translateY(-4px);border-color:var(--accent);box-shadow:0 20px 60px rgba(99,102,241,0.2)}
.tool-card:hover::before{opacity:1}
.tool-icon{font-size:2.5rem;margin-bottom:16px;display:block}
.tool-name{font-family:'Syne',sans-serif;font-size:1.1rem;font-weight:700;margin-bottom:8px}
.tool-desc{color:var(--muted);font-size:0.9rem;line-height:1.6;margin-bottom:16px}
.tool-badge{
  display:inline-block;padding:3px 10px;border-radius:10px;font-size:0.72rem;font-weight:700
}
.badge-free{background:rgba(16,185,129,0.15);color:var(--accent3);border:1px solid rgba(16,185,129,0.3)}
.badge-hot{background:rgba(244,63,94,0.15);color:var(--accent2);border:1px solid rgba(244,63,94,0.3)}
.badge-new{background:rgba(245,158,11,0.15);color:var(--accent4);border:1px solid rgba(245,158,11,0.3)}

/* AI STUDIO - Interactive */
.studio-container{
  max-width:1200px;margin:60px auto 0;
  display:grid;grid-template-columns:280px 1fr;gap:0;
  background:var(--card);border:1px solid var(--border);border-radius:24px;overflow:hidden
}
.studio-sidebar{
  background:var(--surface);border-right:1px solid var(--border);padding:24px 0
}
.studio-tab{
  display:flex;align-items:center;gap:12px;padding:14px 24px;
  cursor:pointer;transition:0.2s;font-size:0.9rem;color:var(--muted);font-weight:500
}
.studio-tab:hover,.studio-tab.active{background:rgba(99,102,241,0.1);color:var(--text);border-right:2px solid var(--accent)}
.studio-tab span{font-size:1.3rem}
.studio-main{padding:32px;min-height:500px}
.studio-panel{display:none}
.studio-panel.active{display:block}
.studio-panel h3{font-family:'Syne',sans-serif;font-size:1.3rem;font-weight:700;margin-bottom:8px}
.studio-panel p{color:var(--muted);font-size:0.9rem;margin-bottom:24px}

/* INPUTS */
.inp{
  width:100%;background:var(--surface);border:1px solid var(--border);
  border-radius:12px;padding:14px 18px;color:var(--text);font-size:0.95rem;
  font-family:'Outfit',sans-serif;outline:none;transition:0.2s;margin-bottom:14px
}
.inp:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--glow)}
textarea.inp{resize:vertical;min-height:100px}
select.inp{cursor:pointer}

.gen-btn{
  background:linear-gradient(135deg,var(--accent),#7c3aed);
  color:#fff;padding:12px 28px;border-radius:12px;font-weight:700;
  border:none;cursor:pointer;font-size:0.95rem;font-family:'Outfit',sans-serif;
  transition:all 0.3s;display:inline-flex;align-items:center;gap:8px;width:100%
  ;justify-content:center
}
.gen-btn:hover{transform:translateY(-1px);box-shadow:0 8px 24px rgba(99,102,241,0.4)}
.gen-btn:active{transform:scale(0.98)}

.output-area{
  background:var(--surface);border:1px solid var(--border);border-radius:12px;
  padding:20px;margin-top:16px;min-height:120px;font-family:'Space Mono',monospace;
  font-size:0.85rem;line-height:1.7;color:var(--muted);white-space:pre-wrap;
  display:none
}
.output-area.visible{display:block}

/* VIDEO OPTIONS */
.video-options{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:16px}
.vid-opt{
  background:var(--surface);border:1px solid var(--border);padding:8px 16px;
  border-radius:8px;cursor:pointer;font-size:0.85rem;transition:0.2s;font-family:'Outfit',sans-serif;color:var(--muted)
}
.vid-opt.sel,.vid-opt:hover{background:rgba(99,102,241,0.15);border-color:var(--accent);color:var(--text)}

/* PROGRESS */
.progress-bar{
  width:100%;height:6px;background:var(--surface);border-radius:3px;
  margin-top:16px;overflow:hidden;display:none
}
.progress-fill{
  height:100%;border-radius:3px;
  background:linear-gradient(90deg,var(--accent),var(--accent2),var(--accent3));
  background-size:200%;animation:progress-anim 2s ease infinite,move 3s linear forwards;
  width:0%
}
@keyframes progress-anim{0%{background-position:0%}100%{background-position:200%}}
@keyframes move{0%{width:0%}90%{width:95%}100%{width:100%}}
.progress-bar.active{display:block}

/* GAME PLAYGROUND */
.games-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:16px;max-width:1200px;margin:60px auto 0
}
.game-card{
  background:var(--card);border:1px solid var(--border);border-radius:16px;
  padding:24px;text-align:center;cursor:pointer;transition:all 0.3s;position:relative;overflow:hidden
}
.game-card:hover{transform:translateY(-4px);border-color:var(--accent2);box-shadow:0 16px 40px rgba(244,63,94,0.2)}
.game-icon{font-size:3rem;margin-bottom:12px;display:block}
.game-name{font-family:'Syne',sans-serif;font-weight:700;margin-bottom:6px}
.game-meta{font-size:0.8rem;color:var(--muted)}

/* GAME AREA */
.game-area{
  max-width:800px;margin:30px auto 0;background:var(--card);
  border:1px solid var(--border);border-radius:20px;padding:30px;display:none
}
.game-area.active{display:block}

/* SNAKE */
#snakeCanvas{
  border:2px solid var(--accent);border-radius:8px;display:block;margin:0 auto 16px;
  background:#060a14
}
.game-controls{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-bottom:16px}
.game-btn{
  background:var(--surface);border:1px solid var(--border);color:var(--text);
  padding:10px 20px;border-radius:8px;cursor:pointer;font-family:'Outfit',sans-serif;font-weight:600;transition:0.2s
}
.game-btn:hover,.game-btn.active{background:rgba(99,102,241,0.2);border-color:var(--accent)}
.score-display{font-family:'Syne',sans-serif;font-size:1.5rem;text-align:center;margin-bottom:16px}
.score-display span{color:var(--accent)}

/* QUIZ */
#quiz-container .question{
  font-size:1.1rem;font-weight:600;margin-bottom:20px;line-height:1.5
}
.quiz-options{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:20px}
.quiz-opt{
  background:var(--surface);border:1px solid var(--border);padding:14px;
  border-radius:10px;cursor:pointer;transition:0.2s;font-size:0.9rem;text-align:center
}
.quiz-opt:hover{border-color:var(--accent);background:rgba(99,102,241,0.1)}
.quiz-opt.correct{border-color:var(--accent3);background:rgba(16,185,129,0.15)}
.quiz-opt.wrong{border-color:var(--accent2);background:rgba(244,63,94,0.15)}

/* ECOMMERCE */
.ecom-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;max-width:1200px;margin:60px auto 0
}
.product-card{
  background:var(--card);border:1px solid var(--border);border-radius:20px;overflow:hidden;transition:all 0.3s
}
.product-card:hover{transform:translateY(-4px);box-shadow:0 20px 60px rgba(0,0,0,0.4)}
.product-img{
  width:100%;height:200px;object-fit:cover;
  display:flex;align-items:center;justify-content:center;font-size:4rem;
  background:linear-gradient(135deg,var(--surface),var(--card))
}
.product-body{padding:20px}
.product-name{font-weight:700;margin-bottom:6px}
.product-price{
  font-family:'Syne',sans-serif;font-size:1.4rem;font-weight:800;
  color:var(--accent);margin-bottom:8px
}
.product-old{text-decoration:line-through;color:var(--muted);font-size:0.9rem;margin-left:8px}
.product-stars{color:var(--accent4);margin-bottom:12px;font-size:0.9rem}
.add-cart{
  width:100%;background:linear-gradient(135deg,var(--accent),#7c3aed);
  color:#fff;padding:10px;border:none;border-radius:10px;font-weight:700;
  cursor:pointer;font-family:'Outfit',sans-serif;transition:0.3s
}
.add-cart:hover{opacity:0.9}

/* AFFILIATE */
.affiliate-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;max-width:1200px;margin:60px auto 0}
.affiliate-card{
  background:var(--card);border:1px solid var(--border);border-radius:20px;padding:28px;transition:all 0.3s
}
.affiliate-card:hover{transform:translateY(-3px);border-color:var(--accent3)}
.aff-platform{display:flex;align-items:center;gap:12px;margin-bottom:16px}
.aff-logo{font-size:2rem}
.aff-name{font-family:'Syne',sans-serif;font-weight:700}
.aff-commission{
  background:rgba(16,185,129,0.1);border:1px solid rgba(16,185,129,0.3);
  padding:8px 16px;border-radius:8px;color:var(--accent3);font-weight:700;margin-bottom:16px;font-size:0.9rem
}
.aff-link{
  display:block;background:var(--surface);border:1px solid var(--border);
  padding:10px 14px;border-radius:8px;color:var(--accent5);font-size:0.82rem;
  font-family:'Space Mono',monospace;margin-bottom:12px;word-break:break-all;cursor:pointer
}
.copy-btn{
  background:rgba(6,182,212,0.1);border:1px solid rgba(6,182,212,0.3);
  color:var(--accent5);padding:8px 16px;border-radius:8px;font-size:0.82rem;
  cursor:pointer;font-family:'Outfit',sans-serif;font-weight:600;transition:0.2s;width:100%
}
.copy-btn:hover{background:rgba(6,182,212,0.2)}

/* SOCIAL MEDIA */
.social-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;max-width:1200px;margin:60px auto 0}
.social-card{
  background:var(--card);border:1px solid var(--border);border-radius:16px;
  padding:24px;text-align:center;transition:all 0.3s;cursor:pointer
}
.social-card:hover{transform:translateY(-4px)}
.social-icon{font-size:2.5rem;margin-bottom:12px;display:block}
.social-name{font-weight:700;font-size:1rem;margin-bottom:4px}
.social-followers{color:var(--muted);font-size:0.82rem}
.social-btn{
  display:block;margin-top:14px;background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff;padding:8px;border-radius:8px;font-size:0.82rem;font-weight:700;border:none;cursor:pointer;width:100%;font-family:'Outfit',sans-serif
}

/* MARKETING */
.marketing-tools{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;max-width:1200px;margin:60px auto 0}
.mkt-card{
  background:var(--card);border:1px solid var(--border);border-radius:20px;padding:28px;transition:all 0.3s
}
.mkt-card:hover{transform:translateY(-3px);border-color:var(--accent4)}
.mkt-icon{font-size:2.5rem;margin-bottom:14px}
.mkt-title{font-family:'Syne',sans-serif;font-weight:700;margin-bottom:8px;font-size:1.1rem}
.mkt-desc{color:var(--muted);font-size:0.88rem;line-height:1.6;margin-bottom:16px}
.mkt-action{
  background:rgba(245,158,11,0.1);border:1px solid rgba(245,158,11,0.3);
  color:var(--accent4);padding:10px;border-radius:8px;font-size:0.85rem;
  font-weight:700;cursor:pointer;width:100%;border-bottom-width:1px;font-family:'Outfit',sans-serif;transition:0.2s
}
.mkt-action:hover{background:rgba(245,158,11,0.2)}

/* CART & NOTIFICATION */
.cart-btn{
  position:fixed;bottom:30px;right:30px;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;
  font-size:1.4rem;cursor:pointer;box-shadow:0 8px 32px rgba(99,102,241,0.5);z-index:999;border:none;
  transition:all 0.3s
}
.cart-btn:hover{transform:scale(1.1)}
.cart-count{
  position:absolute;top:-5px;right:-5px;background:var(--accent2);
  color:#fff;font-size:0.7rem;font-weight:700;width:20px;height:20px;
  border-radius:50%;display:flex;align-items:center;justify-content:center
}

.toast{
  position:fixed;bottom:100px;right:30px;background:var(--card);border:1px solid var(--accent3);
  color:var(--text);padding:12px 20px;border-radius:12px;font-size:0.9rem;font-weight:600;
  z-index:1000;transform:translateX(200px);transition:0.3s;box-shadow:0 8px 30px rgba(0,0,0,0.4)
}
.toast.show{transform:translateX(0)}

/* PRICING */
.pricing-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;max-width:1000px;margin:60px auto 0}
.price-card{
  background:var(--card);border:1px solid var(--border);border-radius:24px;padding:36px;
  text-align:center;transition:all 0.3s;position:relative
}
.price-card.featured{
  border-color:var(--accent);box-shadow:0 0 60px rgba(99,102,241,0.25);
  background:linear-gradient(135deg,rgba(99,102,241,0.05),var(--card))
}
.featured-badge{
  position:absolute;top:-14px;left:50%;transform:translateX(-50%);
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#fff;padding:4px 20px;border-radius:20px;font-size:0.78rem;font-weight:700
}
.plan-name{font-family:'Syne',sans-serif;font-weight:800;font-size:1.2rem;margin-bottom:4px}
.plan-price{
  font-family:'Syne',sans-serif;font-size:3rem;font-weight:800;
  color:var(--accent);margin:16px 0 4px
}
.plan-price span{font-size:1rem;color:var(--muted)}
.plan-features{list-style:none;margin:20px 0;text-align:left}
.plan-features li{
  padding:8px 0;border-bottom:1px solid var(--border);font-size:0.9rem;
  color:var(--muted);display:flex;align-items:center;gap:8px
}
.plan-features li::before{content:'✓';color:var(--accent3);font-weight:700}
.plan-btn{
  width:100%;padding:14px;border-radius:12px;font-weight:700;border:none;
  cursor:pointer;font-size:1rem;font-family:'Outfit',sans-serif;transition:all 0.3s;margin-top:16px
}
.plan-btn.primary{background:linear-gradient(135deg,var(--accent),#7c3aed);color:#fff}
.plan-btn.secondary{background:var(--surface);color:var(--text);border:1px solid var(--border)}
.plan-btn:hover{transform:translateY(-2px);opacity:0.9}

/* FOOTER */
footer{
  background:var(--surface);border-top:1px solid var(--border);
  padding:60px 40px 30px;position:relative;z-index:1
}
.footer-grid{display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:40px;max-width:1200px;margin:0 auto 40px}
.footer-brand .logo{display:block;margin-bottom:12px;font-size:1.6rem}
.footer-brand p{color:var(--muted);font-size:0.88rem;line-height:1.7}
.footer-col h4{font-family:'Syne',sans-serif;font-weight:700;margin-bottom:16px;font-size:0.95rem}
.footer-col a{display:block;color:var(--muted);text-decoration:none;font-size:0.88rem;margin-bottom:8px;transition:0.2s}
.footer-col a:hover{color:var(--accent)}
.footer-bottom{
  border-top:1px solid var(--border);padding-top:24px;display:flex;
  align-items:center;justify-content:space-between;flex-wrap:gap;max-width:1200px;margin:0 auto;
  color:var(--muted);font-size:0.82rem
}
.social-row{display:flex;gap:12px}
.social-link{
  width:36px;height:36px;background:var(--card);border:1px solid var(--border);
  border-radius:8px;display:flex;align-items:center;justify-content:center;
  font-size:1rem;cursor:pointer;transition:0.2s;text-decoration:none
}
.social-link:hover{border-color:var(--accent)}

/* TABS NAV */
.section-tabs{
  display:flex;gap:8px;flex-wrap:wrap;margin-bottom:40px;justify-content:center
}
.s-tab{
  background:var(--card);border:1px solid var(--border);color:var(--muted);
  padding:8px 20px;border-radius:20px;cursor:pointer;font-size:0.88rem;font-weight:600;
  transition:0.2s;font-family:'Outfit',sans-serif
}
.s-tab:hover,.s-tab.active{background:rgba(99,102,241,0.15);border-color:var(--accent);color:var(--text)}

/* SEPARATOR */
.sep{width:60px;height:3px;background:linear-gradient(90deg,var(--accent),var(--accent2));border-radius:2px;margin:16px 0 32px}
.sep.center{margin:16px auto 32px}

@media(max-width:768px){
  nav{padding:14px 20px}
  .nav-links{display:none;flex-direction:column;position:fixed;top:70px;left:0;right:0;
    background:var(--bg);border-bottom:1px solid var(--border);padding:20px;gap:4px}
  .nav-links.open{display:flex}
  .hamburger{display:flex}
  .studio-container{grid-template-columns:1fr}
  .studio-sidebar{display:flex;overflow-x:auto;border-right:none;border-bottom:1px solid var(--border)}
  .studio-tab{min-width:fit-content;border-right:none!important}
  .footer-grid{grid-template-columns:1fr 1fr}
  .quiz-options{grid-template-columns:1fr}
}

/* ===== API KEY MANAGER ===== */
#api-key-modal{
  position:fixed;inset:0;z-index:99999;display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,0.75);backdrop-filter:blur(8px);
  opacity:0;pointer-events:none;transition:opacity 0.3s
}
#api-key-modal.open{opacity:1;pointer-events:all}
.api-modal-box{
  background:var(--card);border:1px solid rgba(99,102,241,0.35);
  border-radius:24px;padding:36px;width:min(520px,95vw);
  box-shadow:0 40px 100px rgba(0,0,0,0.8),0 0 0 1px rgba(99,102,241,0.15);
  animation:apiBoxIn 0.4s cubic-bezier(.22,1,.36,1)
}
@keyframes apiBoxIn{from{transform:translateY(30px) scale(0.95);opacity:0}to{transform:none;opacity:1}}
.api-modal-head{display:flex;align-items:center;gap:14px;margin-bottom:24px}
.api-modal-icon{
  width:52px;height:52px;border-radius:16px;
  background:linear-gradient(135deg,var(--accent),#7c3aed);
  display:flex;align-items:center;justify-content:center;font-size:1.6rem;flex-shrink:0
}
.api-modal-title{font-family:'Syne',sans-serif;font-size:1.25rem;font-weight:800}
.api-modal-sub{font-size:0.82rem;color:var(--muted);margin-top:2px}
.api-key-input-wrap{position:relative;margin-bottom:16px}
.api-key-input{
  width:100%;background:var(--surface);border:1px solid var(--border);
  border-radius:12px;padding:14px 50px 14px 18px;color:var(--text);
  font-size:0.9rem;font-family:'Space Mono',monospace;outline:none;
  transition:border-color 0.2s;letter-spacing:0.5px
}
.api-key-input:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(99,102,241,0.15)}
.api-key-toggle{
  position:absolute;right:14px;top:50%;transform:translateY(-50%);
  background:none;border:none;color:var(--muted);cursor:pointer;font-size:1rem;
  transition:color 0.2s
}
.api-key-toggle:hover{color:var(--text)}
.api-status-row{display:flex;align-items:center;gap:8px;margin-bottom:20px;font-size:0.82rem}
.api-status-dot{width:8px;height:8px;border-radius:50%;background:var(--muted);flex-shrink:0;transition:background 0.3s}
.api-status-dot.connected{background:#10b981;box-shadow:0 0 8px rgba(16,185,129,0.6);animation:apiPulse 1.5s infinite}
.api-status-dot.error{background:var(--accent2)}
@keyframes apiPulse{0%,100%{opacity:1}50%{opacity:0.4}}
.api-status-text{color:var(--muted)}
.api-status-text.connected{color:#10b981}
.api-status-text.error{color:var(--accent2)}
.api-modal-btns{display:flex;gap:10px}
.api-save-btn{
  flex:1;background:linear-gradient(135deg,var(--accent),#7c3aed);
  color:#fff;padding:12px;border-radius:10px;border:none;cursor:pointer;
  font-weight:700;font-family:'Outfit',sans-serif;font-size:0.95rem;transition:all 0.2s
}
.api-save-btn:hover{opacity:0.9;transform:translateY(-1px)}
.api-clear-btn{
  background:rgba(244,63,94,0.1);border:1px solid rgba(244,63,94,0.25);
  color:var(--accent2);padding:12px 18px;border-radius:10px;cursor:pointer;
  font-weight:700;font-family:'Outfit',sans-serif;font-size:0.88rem;transition:all 0.2s
}
.api-clear-btn:hover{background:rgba(244,63,94,0.18)}
.api-info-box{
  background:rgba(99,102,241,0.07);border:1px solid rgba(99,102,241,0.18);
  border-radius:10px;padding:13px 16px;font-size:0.8rem;color:var(--muted);
  line-height:1.7;margin-bottom:20px
}
.api-info-box strong{color:var(--accent)}
.api-info-box a{color:var(--accent);text-decoration:none}
.api-info-box a:hover{text-decoration:underline}
.api-usage-row{
  display:flex;gap:8px;justify-content:space-between;margin-top:16px;
  padding-top:16px;border-top:1px solid var(--border)
}
.api-usage-stat{text-align:center;flex:1}
.api-usage-num{font-family:'Syne',sans-serif;font-size:1.1rem;font-weight:800;color:var(--accent)}
.api-usage-label{font-size:0.7rem;color:var(--muted);margin-top:2px}

/* Floating API key button */
#api-key-fab{
  position:fixed;bottom:100px;right:24px;z-index:9998;
  width:52px;height:52px;border-radius:50%;border:none;cursor:pointer;
  background:linear-gradient(135deg,var(--accent),#7c3aed);
  color:#fff;font-size:1.2rem;box-shadow:0 8px 24px rgba(99,102,241,0.5);
  transition:all 0.3s;display:flex;align-items:center;justify-content:center
}
#api-key-fab:hover{transform:scale(1.1) rotate(15deg);box-shadow:0 12px 32px rgba(99,102,241,0.7)}
#api-key-fab .fab-tooltip{
  position:absolute;right:64px;background:var(--card);border:1px solid var(--border);
  padding:6px 12px;border-radius:8px;font-size:0.78rem;font-weight:700;
  white-space:nowrap;opacity:0;transition:opacity 0.2s;pointer-events:none;font-family:'Outfit',sans-serif
}
#api-key-fab:hover .fab-tooltip{opacity:1}
#api-key-fab .fab-indicator{
  position:absolute;top:-2px;right:-2px;width:14px;height:14px;
  border-radius:50%;background:var(--muted);border:2px solid var(--bg);
  transition:background 0.3s
}
#api-key-fab .fab-indicator.connected{background:#10b981}
#api-key-fab .fab-indicator.error{background:var(--accent2)}

/* AI LIVE indicator in studio */
.ai-live-badge{
  display:inline-flex;align-items:center;gap:6px;
  background:rgba(16,185,129,0.1);border:1px solid rgba(16,185,129,0.25);
  color:#10b981;padding:4px 12px;border-radius:20px;font-size:0.72rem;
  font-weight:700;letter-spacing:1px;margin-left:8px;vertical-align:middle
}
.ai-live-dot{width:6px;height:6px;background:#10b981;border-radius:50%;animation:apiPulse 1.2s infinite}
.ai-mode-notice{
  background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2);
  border-radius:10px;padding:10px 16px;font-size:0.82rem;color:var(--muted);
  margin-bottom:14px;display:flex;align-items:center;gap:8px
}
.ai-mode-notice.active-api{border-color:rgba(16,185,129,0.3);background:rgba(16,185,129,0.06);color:#10b981}
.api-loading{
  display:flex;align-items:center;gap:10px;padding:20px;color:var(--accent);
  font-family:'Space Mono',monospace;font-size:0.85rem
}
.api-spinner{
  width:20px;height:20px;border:2px solid var(--border);
  border-top-color:var(--accent);border-radius:50%;
  animation:spin 0.8s linear infinite;flex-shrink:0
}
@keyframes spin{to{transform:rotate(360deg)}}

/* ===== PROJECT DASHBOARD GENERATOR SECTION ===== */
#proj-dashboard-section{display:none;padding:100px 20px 60px;position:relative;z-index:1}
#proj-dashboard-section.visible{display:block}

.pd-wrap{max-width:1200px;margin:0 auto}

/* Top nav tabs */
.pd-nav{
  display:flex;gap:8px;flex-wrap:wrap;margin-bottom:28px;
  background:var(--card);border:1px solid var(--border);
  border-radius:16px;padding:10px 14px
}
.pd-tab{
  background:transparent;border:1px solid var(--border);color:var(--muted);
  padding:9px 20px;border-radius:10px;cursor:pointer;font-size:0.85rem;
  font-weight:700;transition:0.2s;font-family:'Outfit',sans-serif;
  display:flex;align-items:center;gap:7px
}
.pd-tab.active,.pd-tab:hover{
  background:rgba(99,102,241,0.15);border-color:var(--accent);color:var(--text)
}
.pd-page{display:none;animation:fadeSlide 0.3s ease}
.pd-page.active{display:block}

/* Stats */
.pd-stats{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap:14px;margin-bottom:24px
}
.pd-stat{
  background:var(--card);border:1px solid var(--border);border-radius:14px;
  padding:20px;text-align:center;transition:0.3s;
  border-bottom:3px solid var(--accent)
}
.pd-stat:nth-child(2){border-bottom-color:var(--accent3)}
.pd-stat:nth-child(3){border-bottom-color:var(--accent4)}
.pd-stat:nth-child(4){border-bottom-color:var(--accent2)}
.pd-stat:hover{transform:translateY(-3px)}
.pd-stat-icon{font-size:1.8rem;margin-bottom:8px}
.pd-stat-num{
  font-family:'Syne',sans-serif;font-size:2rem;font-weight:800;color:var(--accent)
}
.pd-stat:nth-child(2) .pd-stat-num{color:var(--accent3)}
.pd-stat:nth-child(3) .pd-stat-num{color:var(--accent4)}
.pd-stat:nth-child(4) .pd-stat-num{color:var(--accent2)}
.pd-stat-label{font-size:0.75rem;color:var(--muted);margin-top:4px}

/* Cards */
.pd-card{
  background:var(--card);border:1px solid var(--border);border-radius:16px;
  padding:22px;margin-bottom:18px
}
.pd-card h3{
  font-family:'Syne',sans-serif;font-weight:700;font-size:1rem;
  margin-bottom:16px;display:flex;align-items:center;gap:8px
}

/* Progress bar */
.pd-progress-track{
  width:100%;height:10px;background:var(--surface);border-radius:10px;
  overflow:hidden;margin:10px 0
}
.pd-progress-fill{
  height:100%;border-radius:10px;transition:width 0.4s ease;
  background:linear-gradient(90deg,var(--accent),var(--accent2))
}
.pd-progress-text{
  text-align:center;font-family:'Syne',sans-serif;font-weight:700;
  font-size:0.95rem;color:var(--accent);margin-top:6px
}

/* Grid 2col */
.pd-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:18px;margin-bottom:18px}

/* Inputs */
.pd-inp{
  width:100%;background:var(--surface);border:1px solid var(--border);
  border-radius:10px;padding:11px 14px;color:var(--text);font-size:0.88rem;
  font-family:'Outfit',sans-serif;outline:none;margin-bottom:12px;
  transition:border-color 0.2s
}
.pd-inp:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(99,102,241,0.12)}
textarea.pd-inp{resize:vertical;min-height:80px}

/* Buttons */
.pd-btn{
  padding:10px 20px;border-radius:10px;border:none;cursor:pointer;
  font-weight:700;font-family:'Outfit',sans-serif;font-size:0.88rem;transition:0.2s
}
.pd-btn-primary{
  background:linear-gradient(135deg,var(--accent),#7c3aed);color:#fff;
  box-shadow:0 4px 15px rgba(99,102,241,0.3)
}
.pd-btn-primary:hover{opacity:0.9;transform:translateY(-1px)}
.pd-btn-danger{
  background:rgba(244,63,94,0.12);border:1px solid rgba(244,63,94,0.25);
  color:var(--accent2)
}
.pd-btn-danger:hover{background:rgba(244,63,94,0.2)}
.pd-btn-success{
  background:rgba(16,185,129,0.12);border:1px solid rgba(16,185,129,0.25);
  color:var(--accent3)
}
.pd-btn-success:hover{background:rgba(16,185,129,0.2)}
.pd-btn-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:4px}

/* Task items */
.pd-task-item{
  background:var(--surface);border:1px solid var(--border);border-radius:12px;
  padding:14px 16px;margin-bottom:10px;
  display:flex;justify-content:space-between;align-items:center;
  transition:0.25s;border-left:4px solid var(--accent)
}
.pd-task-item:hover{border-color:var(--accent);box-shadow:0 4px 18px rgba(99,102,241,0.12)}
.pd-task-item.priority-high{border-left-color:var(--accent2)}
.pd-task-item.priority-medium{border-left-color:var(--accent4)}
.pd-task-item.priority-low{border-left-color:var(--accent3)}
.pd-task-item.done{opacity:0.55}
.pd-task-name{font-weight:700;font-size:0.92rem;margin-bottom:5px}
.pd-task-name.done-text{text-decoration:line-through;color:var(--muted)}
.pd-task-meta{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.pd-badge{
  display:inline-block;padding:3px 10px;border-radius:8px;
  font-size:0.68rem;font-weight:700;letter-spacing:0.3px
}
.pd-badge-high{background:rgba(244,63,94,0.15);color:var(--accent2);border:1px solid rgba(244,63,94,0.25)}
.pd-badge-medium{background:rgba(245,158,11,0.15);color:var(--accent4);border:1px solid rgba(245,158,11,0.25)}
.pd-badge-low{background:rgba(16,185,129,0.15);color:var(--accent3);border:1px solid rgba(16,185,129,0.25)}
.pd-badge-completed{background:rgba(16,185,129,0.15);color:var(--accent3);border:1px solid rgba(16,185,129,0.25)}
.pd-badge-progress{background:rgba(6,182,212,0.15);color:var(--accent5);border:1px solid rgba(6,182,212,0.25)}
.pd-badge-pending{background:rgba(245,158,11,0.12);color:var(--accent4);border:1px solid rgba(245,158,11,0.25)}
.pd-task-actions{display:flex;gap:7px;flex-shrink:0}
.pd-act-btn{
  width:32px;height:32px;border-radius:8px;border:1px solid var(--border);
  background:var(--card);color:var(--muted);cursor:pointer;font-size:0.85rem;
  display:flex;align-items:center;justify-content:center;transition:0.2s
}
.pd-act-btn:hover{border-color:var(--accent);color:var(--accent)}
.pd-act-btn.del:hover{border-color:var(--accent2);color:var(--accent2)}
.pd-act-btn.done-btn:hover{border-color:var(--accent3);color:var(--accent3)}

/* Member items */
.pd-member-item{
  background:var(--surface);border:1px solid var(--border);border-radius:12px;
  padding:14px 16px;margin-bottom:10px;
  display:flex;align-items:center;gap:14px;transition:0.2s
}
.pd-member-item:hover{border-color:var(--accent)}
.pd-member-avatar{
  width:42px;height:42px;border-radius:50%;
  background:linear-gradient(135deg,var(--accent),#7c3aed);
  display:flex;align-items:center;justify-content:center;
  font-family:'Syne',sans-serif;font-weight:800;font-size:1.1rem;flex-shrink:0
}
.pd-member-name{font-weight:700;font-size:0.9rem;margin-bottom:3px}
.pd-member-meta{font-size:0.75rem;color:var(--muted)}

/* Filter bar */
.pd-filter-bar{
  display:flex;gap:10px;flex-wrap:wrap;
  background:var(--surface);border:1px solid var(--border);
  border-radius:12px;padding:14px 16px;margin-bottom:16px
}
.pd-filter-bar .pd-inp{margin-bottom:0;flex:1;min-width:130px}

/* Chart area */
.pd-chart-wrap{position:relative;height:260px;margin-top:10px}

/* Empty state */
.pd-empty{
  text-align:center;padding:32px;color:var(--muted);font-size:0.88rem
}
.pd-empty-icon{font-size:2.5rem;display:block;margin-bottom:10px}

/* Modal */
.pd-modal{
  position:fixed;inset:0;z-index:99998;display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,0.7);backdrop-filter:blur(8px);
  opacity:0;pointer-events:none;transition:opacity 0.3s
}
.pd-modal.open{opacity:1;pointer-events:all}
.pd-modal-box{
  background:var(--card);border:1px solid rgba(99,102,241,0.3);
  border-radius:20px;padding:30px;width:min(540px,94vw);
  max-height:90vh;overflow-y:auto;
  box-shadow:0 40px 80px rgba(0,0,0,0.7);
  animation:apiBoxIn 0.35s cubic-bezier(.22,1,.36,1)
}
.pd-modal-box h2{
  font-family:'Syne',sans-serif;font-weight:800;font-size:1.2rem;
  margin-bottom:20px;display:flex;align-items:center;gap:10px
}

/* Activity feed */
.pd-activity-item{
  padding:9px 0;border-bottom:1px solid var(--border);font-size:0.82rem;
  display:flex;align-items:center;gap:8px
}
.pd-activity-dot{width:7px;height:7px;border-radius:50%;background:var(--accent3);flex-shrink:0}
.pd-activity-time{color:var(--muted);font-size:0.72rem;margin-left:auto;flex-shrink:0}

/* Deadline items */
.pd-deadline-item{
  padding:10px 12px;background:var(--surface);border-radius:10px;
  margin-bottom:8px;border-left:3px solid var(--accent4);font-size:0.84rem
}
.pd-deadline-name{font-weight:700;margin-bottom:3px}
.pd-deadline-date{font-size:0.75rem;color:var(--accent4)}

/* Search bar */
.pd-search-row{display:flex;gap:10px;margin-bottom:16px}
.pd-search-inp{
  flex:1;background:var(--surface);border:1px solid var(--border);
  border-radius:10px;padding:10px 14px;color:var(--text);
  font-family:'Outfit',sans-serif;font-size:0.88rem;outline:none;transition:0.2s
}
.pd-search-inp:focus{border-color:var(--accent)}

@media(max-width:600px){
  .pd-task-item{flex-direction:column;align-items:flex-start}
  .pd-task-actions{margin-top:8px}
  .pd-filter-bar{flex-direction:column}
  .pd-filter-bar .pd-inp{min-width:unset}
}

/* ===== MESSENGER MULTI-CURRENCY BOT SECTION ===== */
#messenger-bot-section{display:none;padding:100px 20px 60px;position:relative;z-index:1}
#messenger-bot-section.visible{display:block}
.mb-wrap{max-width:1200px;margin:0 auto}

/* Bot header */
.mb-header{
  background:linear-gradient(135deg,rgba(24,119,242,0.15),rgba(99,102,241,0.12));
  border:1px solid rgba(24,119,242,0.3);border-radius:20px;
  padding:28px 32px;margin-bottom:24px;
  display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:16px
}
.mb-logo{display:flex;align-items:center;gap:14px}
.mb-logo-icon{
  width:58px;height:58px;border-radius:16px;
  background:linear-gradient(135deg,#1877F2,#7c3aed);
  display:flex;align-items:center;justify-content:center;font-size:1.9rem;flex-shrink:0;
  box-shadow:0 8px 24px rgba(24,119,242,0.4)
}
.mb-logo-title{font-family:'Syne',sans-serif;font-size:1.35rem;font-weight:800}
.mb-logo-sub{font-size:0.8rem;color:var(--muted);margin-top:3px}
.mb-live-badge{
  display:inline-flex;align-items:center;gap:6px;
  background:rgba(16,185,129,0.12);border:1px solid rgba(16,185,129,0.3);
  color:var(--accent3);padding:6px 14px;border-radius:20px;
  font-size:0.75rem;font-weight:700;margin-top:6px
}

/* Nav tabs */
.mb-nav{
  display:flex;gap:4px;background:var(--card);border:1px solid var(--border);
  border-radius:14px;padding:8px 10px;margin-bottom:24px;flex-wrap:wrap
}
.mb-tab{
  display:flex;align-items:center;gap:7px;padding:9px 18px;border-radius:10px;
  border:none;cursor:pointer;font-weight:700;font-size:0.84rem;
  font-family:'Outfit',sans-serif;color:var(--muted);background:transparent;transition:0.2s
}
.mb-tab.active,.mb-tab:hover{
  background:rgba(24,119,242,0.15);color:var(--text);border:1px solid rgba(24,119,242,0.25)
}
.mb-tab.active{color:#1877F2}
.mb-page{display:none;animation:fadeSlide 0.3s ease}
.mb-page.active{display:block}

/* Chat preview */
.mb-chat-wrap{
  background:var(--card);border:1px solid var(--border);border-radius:20px;
  overflow:hidden;margin-bottom:22px
}
.mb-chat-header{
  background:linear-gradient(135deg,#1877F2,#0d62d0);
  padding:16px 20px;display:flex;align-items:center;gap:12px
}
.mb-chat-avatar{
  width:40px;height:40px;border-radius:50%;
  background:rgba(255,255,255,0.2);
  display:flex;align-items:center;justify-content:center;font-size:1.2rem
}
.mb-chat-name{font-weight:700;font-size:0.95rem;color:#fff}
.mb-chat-status{font-size:0.72rem;color:rgba(255,255,255,0.75);display:flex;align-items:center;gap:4px}
.mb-chat-status-dot{width:6px;height:6px;border-radius:50%;background:#4ade80}
.mb-chat-body{padding:18px;max-height:380px;overflow-y:auto;display:flex;flex-direction:column;gap:10px;background:var(--surface)}
.mb-msg{max-width:76%;word-break:break-word}
.mb-msg.bot{align-self:flex-start}
.mb-msg.user{align-self:flex-end}
.mb-bubble{
  padding:10px 14px;border-radius:18px;font-size:0.85rem;line-height:1.5
}
.mb-msg.bot .mb-bubble{
  background:var(--card);border:1px solid var(--border);border-bottom-left-radius:4px
}
.mb-msg.user .mb-bubble{
  background:linear-gradient(135deg,#1877F2,#0d62d0);color:#fff;
  border-bottom-right-radius:4px
}
.mb-msg-time{font-size:0.65rem;color:var(--muted);margin-top:3px;padding:0 4px}
.mb-msg.user .mb-msg-time{text-align:right}
.mb-quick-replies{display:flex;flex-wrap:wrap;gap:8px;padding:12px 18px 8px;border-top:1px solid var(--border)}
.mb-qr{
  padding:7px 14px;border-radius:20px;border:2px solid #1877F2;
  color:#1877F2;background:transparent;cursor:pointer;font-size:0.8rem;
  font-weight:700;font-family:'Outfit',sans-serif;transition:0.2s
}
.mb-qr:hover{background:#1877F2;color:#fff}
.mb-chat-input{
  display:flex;gap:10px;padding:14px 18px;border-top:1px solid var(--border);align-items:center
}
.mb-chat-inp{
  flex:1;background:var(--surface);border:1px solid var(--border);
  border-radius:24px;padding:10px 16px;color:var(--text);
  font-family:'Outfit',sans-serif;font-size:0.88rem;outline:none;transition:0.2s
}
.mb-chat-inp:focus{border-color:#1877F2}
.mb-send-btn{
  width:40px;height:40px;border-radius:50%;background:#1877F2;
  border:none;cursor:pointer;font-size:1rem;color:#fff;
  display:flex;align-items:center;justify-content:center;transition:0.2s;flex-shrink:0
}
.mb-send-btn:hover{background:#0d62d0;transform:scale(1.05)}

/* Currency cards */
.mb-currency-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin-bottom:20px}
.mb-currency-card{
  background:var(--card);border:2px solid var(--border);border-radius:14px;
  padding:16px;text-align:center;cursor:pointer;transition:0.25s
}
.mb-currency-card:hover,.mb-currency-card.selected{
  border-color:#1877F2;background:rgba(24,119,242,0.08)
}
.mb-currency-card.selected{box-shadow:0 0 0 2px rgba(24,119,242,0.3)}
.mb-currency-symbol{font-size:1.6rem;font-family:'Syne',sans-serif;font-weight:800;color:#1877F2;margin-bottom:4px}
.mb-currency-code{font-size:0.78rem;font-weight:700;color:var(--text)}
.mb-currency-name{font-size:0.68rem;color:var(--muted);margin-top:2px}

/* Price converter */
.mb-converter{
  background:var(--card);border:1px solid var(--border);border-radius:16px;padding:22px;margin-bottom:20px
}
.mb-converter h3{font-family:'Syne',sans-serif;font-weight:700;margin-bottom:16px;font-size:1rem}
.mb-conv-row{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.mb-conv-inp{
  flex:1;min-width:120px;background:var(--surface);border:1px solid var(--border);
  border-radius:10px;padding:12px 14px;color:var(--text);font-size:1rem;
  font-family:'Syne',sans-serif;font-weight:700;outline:none;transition:0.2s
}
.mb-conv-inp:focus{border-color:#1877F2}
.mb-conv-select{
  background:var(--surface);border:1px solid var(--border);
  border-radius:10px;padding:12px 14px;color:var(--text);font-size:0.88rem;
  font-family:'Outfit',sans-serif;outline:none;cursor:pointer
}
.mb-conv-arrow{
  width:36px;height:36px;background:rgba(24,119,242,0.15);border:1px solid rgba(24,119,242,0.3);
  border-radius:50%;display:flex;align-items:center;justify-content:center;
  font-size:1rem;cursor:pointer;transition:0.2s;flex-shrink:0
}
.mb-conv-arrow:hover{background:#1877F2;color:#fff}
.mb-conv-result{
  background:linear-gradient(135deg,rgba(24,119,242,0.1),rgba(99,102,241,0.08));
  border:1px solid rgba(24,119,242,0.25);border-radius:12px;padding:16px 20px;
  margin-top:14px;font-family:'Syne',sans-serif;font-size:1.3rem;font-weight:800;
  color:#1877F2;text-align:center
}

/* Code viewer */
.mb-code-wrap{
  background:var(--card);border:1px solid var(--border);border-radius:16px;overflow:hidden;margin-bottom:20px
}
.mb-code-header{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 18px;background:var(--surface);border-bottom:1px solid var(--border);flex-wrap:wrap;gap:10px
}
.mb-code-title{font-family:'Space Mono',monospace;font-size:0.82rem;color:var(--accent3)}
.mb-code-actions{display:flex;gap:8px}
.mb-code-btn{
  padding:6px 14px;border-radius:8px;border:1px solid var(--border);
  background:var(--card);color:var(--muted);cursor:pointer;
  font-size:0.76rem;font-weight:700;font-family:'Outfit',sans-serif;transition:0.2s
}
.mb-code-btn:hover{border-color:var(--accent);color:var(--accent)}
.mb-code-btn.copy-success{background:rgba(16,185,129,0.1);border-color:var(--accent3);color:var(--accent3)}
pre.mb-code{
  margin:0;padding:20px;overflow-x:auto;font-family:'Space Mono',monospace;
  font-size:0.76rem;line-height:1.7;color:var(--text);background:var(--surface);
  max-height:400px;overflow-y:auto
}
pre.mb-code .kw{color:#c792ea}
pre.mb-code .fn{color:#82aaff}
pre.mb-code .str{color:#c3e88d}
pre.mb-code .cm{color:#546e7a;font-style:italic}
pre.mb-code .num{color:#f78c6c}
pre.mb-code .dec{color:#ffcb6b}

/* Workflow steps */
.mb-workflow-steps{display:flex;flex-direction:column;gap:0}
.mb-step{
  display:flex;gap:16px;padding:16px 0;
  border-bottom:1px solid var(--border);
}
.mb-step:last-child{border-bottom:none}
.mb-step-num{
  width:32px;height:32px;border-radius:50%;flex-shrink:0;
  background:linear-gradient(135deg,#1877F2,#7c3aed);
  display:flex;align-items:center;justify-content:center;
  font-family:'Syne',sans-serif;font-weight:800;font-size:0.85rem;color:#fff
}
.mb-step-title{font-weight:700;font-size:0.9rem;margin-bottom:4px}
.mb-step-desc{font-size:0.8rem;color:var(--muted);line-height:1.5}

/* Info cards */
.mb-info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:14px;margin-bottom:20px}
.mb-info-card{
  background:var(--card);border:1px solid var(--border);border-radius:14px;padding:18px;
  display:flex;align-items:flex-start;gap:12px
}
.mb-info-icon{
  width:42px;height:42px;border-radius:12px;flex-shrink:0;
  background:rgba(24,119,242,0.12);
  display:flex;align-items:center;justify-content:center;font-size:1.2rem
}
.mb-info-title{font-weight:700;font-size:0.85rem;margin-bottom:3px}
.mb-info-desc{font-size:0.75rem;color:var(--muted);line-height:1.5}

/* Link banner */
.mb-link-banner{
  background:linear-gradient(135deg,#1877F2,#7c3aed);
  border-radius:16px;padding:24px 28px;margin-bottom:22px;
  display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:16px
}
.mb-link-banner h3{font-family:'Syne',sans-serif;font-weight:800;font-size:1.1rem;color:#fff}
.mb-link-banner p{font-size:0.82rem;color:rgba(255,255,255,0.8);margin-top:4px}
.mb-visit-btn{
  display:inline-flex;align-items:center;gap:8px;
  background:#fff;color:#1877F2;padding:11px 22px;border-radius:12px;
  font-weight:800;font-size:0.9rem;text-decoration:none;
  font-family:'Syne',sans-serif;transition:0.2s;white-space:nowrap
}
.mb-visit-btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,0.25)}

/* ===== AI AUTOMATION STUDIO SECTION ===== */
#automation-studio-section{display:none;padding:100px 20px 60px;position:relative;z-index:1}
#automation-studio-section.visible{display:block}
.as-wrap{max-width:1200px;margin:0 auto}

/* Studio header */
.as-header{
  background:linear-gradient(135deg,rgba(59,130,246,0.15),rgba(147,51,234,0.12));
  border:1px solid rgba(99,102,241,0.3);border-radius:20px;
  padding:28px 32px;margin-bottom:24px;
  display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:16px
}
.as-logo{display:flex;align-items:center;gap:14px}
.as-logo-icon{
  width:56px;height:56px;border-radius:14px;
  background:linear-gradient(135deg,#3b82f6,#7c3aed);
  display:flex;align-items:center;justify-content:center;font-size:1.8rem;flex-shrink:0
}
.as-logo-title{font-family:'Syne',sans-serif;font-size:1.4rem;font-weight:800}
.as-logo-sub{font-size:0.8rem;color:var(--muted);margin-top:3px}
.as-wa-btn{
  display:inline-flex;align-items:center;gap:8px;
  background:linear-gradient(135deg,#16a34a,#15803d);
  color:#fff;padding:11px 22px;border-radius:12px;
  font-weight:700;font-size:0.9rem;text-decoration:none;
  border:none;cursor:pointer;transition:all 0.25s;font-family:'Outfit',sans-serif;
  box-shadow:0 4px 16px rgba(22,163,74,0.35)
}
.as-wa-btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(22,163,74,0.5)}

/* Studio nav */
.as-nav{
  display:flex;gap:4px;background:var(--card);border:1px solid var(--border);
  border-radius:14px;padding:8px 10px;margin-bottom:24px;flex-wrap:wrap
}
.as-tab{
  display:flex;align-items:center;gap:7px;
  padding:9px 18px;border-radius:10px;border:none;cursor:pointer;
  font-weight:700;font-size:0.85rem;font-family:'Outfit',sans-serif;
  color:var(--muted);background:transparent;transition:0.2s
}
.as-tab.active,.as-tab:hover{
  background:rgba(99,102,241,0.15);color:var(--text);border:1px solid rgba(99,102,241,0.25)
}
.as-tab.active{color:var(--accent)}
.as-page{display:none;animation:fadeSlide 0.3s ease}
.as-page.active{display:block}

/* Stat cards */
.as-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:14px;margin-bottom:22px}
.as-stat{
  background:var(--card);border:1px solid var(--border);border-radius:14px;
  padding:20px;display:flex;align-items:center;gap:14px;transition:0.3s
}
.as-stat:hover{transform:translateY(-3px);border-color:var(--accent)}
.as-stat:nth-child(1){border-left:4px solid #3b82f6}
.as-stat:nth-child(2){border-left:4px solid var(--accent3)}
.as-stat:nth-child(3){border-left:4px solid #7c3aed}
.as-stat:nth-child(4){border-left:4px solid var(--accent4)}
.as-stat-icon{
  width:46px;height:46px;border-radius:12px;flex-shrink:0;
  display:flex;align-items:center;justify-content:center;font-size:1.3rem
}
.as-stat:nth-child(1) .as-stat-icon{background:rgba(59,130,246,0.15)}
.as-stat:nth-child(2) .as-stat-icon{background:rgba(16,185,129,0.15)}
.as-stat:nth-child(3) .as-stat-icon{background:rgba(124,58,237,0.15)}
.as-stat:nth-child(4) .as-stat-icon{background:rgba(245,158,11,0.15)}
.as-stat-num{font-family:'Syne',sans-serif;font-size:1.6rem;font-weight:800;line-height:1}
.as-stat-label{font-size:0.75rem;color:var(--muted);margin-top:3px}

/* Charts area */
.as-charts{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:18px;margin-bottom:22px}
.as-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:22px}
.as-card h3{font-family:'Syne',sans-serif;font-weight:700;font-size:0.95rem;margin-bottom:16px;display:flex;align-items:center;gap:8px}
.as-chart-canvas{width:100%!important;height:220px!important}

/* Workflows list */
.as-workflow-item{
  background:var(--surface);border:1px solid var(--border);border-radius:12px;
  padding:16px 18px;margin-bottom:10px;
  display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;
  transition:0.25s
}
.as-workflow-item:hover{border-color:var(--accent);background:rgba(99,102,241,0.04)}
.as-workflow-left{display:flex;align-items:center;gap:14px}
.as-workflow-icon{
  width:48px;height:48px;border-radius:12px;flex-shrink:0;
  background:linear-gradient(135deg,#3b82f6,#7c3aed);
  display:flex;align-items:center;justify-content:center;font-size:1.3rem
}
.as-workflow-name{font-weight:700;font-size:0.92rem;margin-bottom:3px}
.as-workflow-plat{font-size:0.76rem;color:var(--muted)}
.as-workflow-right{display:flex;align-items:center;gap:20px}
.as-workflow-execs{text-align:right}
.as-workflow-execs-num{font-family:'Syne',sans-serif;font-weight:700;font-size:1.05rem}
.as-workflow-execs-label{font-size:0.72rem;color:var(--muted)}
.as-running-badge{
  background:rgba(16,185,129,0.15);border:1px solid rgba(16,185,129,0.3);
  color:var(--accent3);padding:5px 14px;border-radius:20px;
  font-size:0.72rem;font-weight:700;display:flex;align-items:center;gap:5px
}
.as-running-dot{width:6px;height:6px;border-radius:50%;background:var(--accent3);animation:apiPulse 1.2s infinite}

/* AI Tools grid */
.as-tools-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
.as-tool-card{
  background:var(--card);border:1px solid var(--border);border-radius:16px;
  padding:22px;transition:0.3s
}
.as-tool-card:hover{box-shadow:0 16px 40px rgba(99,102,241,0.18);border-color:var(--accent);transform:translateY(-3px)}
.as-tool-head{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:16px}
.as-tool-icon-wrap{
  width:48px;height:48px;border-radius:12px;
  background:linear-gradient(135deg,#3b82f6,#7c3aed);
  display:flex;align-items:center;justify-content:center;font-size:1.4rem;flex-shrink:0
}
.as-tool-name{font-family:'Syne',sans-serif;font-weight:700;font-size:0.95rem;margin-bottom:3px}
.as-tool-sub{font-size:0.75rem;color:var(--muted)}
.as-tool-configure{
  width:100%;background:linear-gradient(135deg,#3b82f6,#7c3aed);
  color:#fff;padding:10px;border-radius:10px;border:none;cursor:pointer;
  font-weight:700;font-family:'Outfit',sans-serif;font-size:0.88rem;
  margin-top:14px;padding-top:14px;border-top:1px solid var(--border);transition:0.2s
}
.as-tool-configure:hover{opacity:0.88}

/* Playground */
.as-playground{display:grid;grid-template-columns:1fr 1fr;gap:20px}
@media(max-width:700px){.as-playground{grid-template-columns:1fr}}
.as-play-label{font-size:0.82rem;font-weight:700;color:var(--muted);margin-bottom:7px;display:block;letter-spacing:0.3px}
.as-play-select,.as-play-textarea{
  width:100%;background:var(--surface);border:1px solid var(--border);
  border-radius:10px;padding:12px 14px;color:var(--text);
  font-family:'Outfit',sans-serif;font-size:0.88rem;outline:none;
  transition:border-color 0.2s;margin-bottom:14px
}
.as-play-select:focus,.as-play-textarea:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(99,102,241,0.12)}
.as-play-textarea{resize:vertical;min-height:120px}
.as-generate-btn{
  width:100%;background:linear-gradient(135deg,#3b82f6,#7c3aed);
  color:#fff;padding:13px;border-radius:12px;border:none;cursor:pointer;
  font-weight:700;font-family:'Outfit',sans-serif;font-size:0.95rem;
  box-shadow:0 4px 16px rgba(59,130,246,0.35);transition:0.25s
}
.as-generate-btn:hover{opacity:0.9;transform:translateY(-1px);box-shadow:0 8px 24px rgba(59,130,246,0.5)}
.as-output-box{
  background:var(--surface);border:1px solid var(--border);border-radius:10px;
  padding:16px;min-height:200px;font-size:0.85rem;color:var(--muted);
  font-family:'Space Mono',monospace;line-height:1.7;white-space:pre-wrap
}

/* 3D Logo section */
.as-logo-3d-wrap{
  background:var(--card);border:1px solid var(--border);border-radius:20px;
  overflow:hidden;margin-bottom:22px;position:relative
}
.as-logo-3d-inner{
  background:linear-gradient(135deg,#020818,#050f2e);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  padding:40px 20px;min-height:500px;position:relative;overflow:hidden
}
/* Star field */
.as-stars-field{position:absolute;inset:0;pointer-events:none}
/* Grid floor */
.as-grid-floor{
  position:absolute;bottom:-20%;left:50%;
  transform:translateX(-50%) rotateX(75deg);
  width:200%;height:200%;
  background-image:linear-gradient(rgba(0,245,255,0.12) 1px,transparent 1px),linear-gradient(90deg,rgba(0,245,255,0.12) 1px,transparent 1px);
  background-size:50px 50px;pointer-events:none
}
/* Scanlines */
.as-scanlines{
  position:absolute;inset:0;pointer-events:none;
  background:repeating-linear-gradient(to bottom,transparent 0px,transparent 2px,rgba(0,0,0,0.06) 2px,rgba(0,0,0,0.06) 4px);
  z-index:1
}
/* Glow ring */
.as-glow-ring{
  position:absolute;width:280px;height:280px;border-radius:50%;
  border:1px solid rgba(0,245,255,0.2);
  box-shadow:0 0 60px rgba(0,245,255,0.1),inset 0 0 60px rgba(0,245,255,0.05);
  animation:rotatering 12s linear infinite;z-index:2
}
@keyframes rotatering{to{transform:rotate(360deg)}}
.as-glow-ring::before{
  content:'';position:absolute;top:-4px;left:calc(50% - 4px);
  width:8px;height:8px;border-radius:50%;background:#00f5ff;
  box-shadow:0 0 16px #00f5ff,0 0 32px #00f5ff
}
/* Canvas */
#as-logo-canvas{position:relative;z-index:3;display:block}
/* Brand text */
.as-brand-text{position:relative;z-index:4;text-align:center;margin-top:8px}
.as-brand-name{
  font-family:'Syne',sans-serif;font-size:clamp(1.6rem,4vw,3rem);font-weight:900;
  letter-spacing:0.3em;
  background:linear-gradient(135deg,#00f5ff 0%,#ffffff 40%,#ff006e 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  filter:drop-shadow(0 0 20px rgba(0,245,255,0.5));
  animation:shimmerLogo 4s ease-in-out infinite;background-size:200% 100%
}
@keyframes shimmerLogo{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.as-brand-sub{
  font-size:clamp(0.55rem,1.2vw,0.75rem);font-weight:300;
  letter-spacing:0.6em;color:rgba(0,245,255,0.6);text-transform:uppercase;margin-top:5px
}
.as-deco-line{display:flex;align-items:center;gap:10px;margin:10px auto 0;width:fit-content}
.as-deco-line span{display:block;height:1px;width:70px;background:linear-gradient(90deg,transparent,#00f5ff,transparent)}
.as-deco-dot{width:5px;height:5px;border-radius:50%;background:#ffd700;box-shadow:0 0 8px #ffd700;animation:pulse 2s ease-in-out infinite}
/* Corner badges */
.as-badge{
  position:absolute;z-index:4;font-family:'Space Mono',monospace;
  font-size:0.5rem;letter-spacing:0.12em;color:rgba(0,245,255,0.4);text-transform:uppercase;line-height:1.6
}
.as-badge.tl{top:16px;left:16px}
.as-badge.tr{top:16px;right:16px;text-align:right}
.as-badge.bl{bottom:16px;left:16px}
.as-badge.br{bottom:16px;right:16px;text-align:right}

/* Footer strip */
.as-footer-strip{
  background:var(--surface);border:1px solid var(--border);border-radius:16px;
  padding:28px;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:24px;margin-top:22px
}
.as-footer-col h4{font-family:'Syne',sans-serif;font-weight:700;margin-bottom:12px;font-size:0.9rem}
.as-footer-col ul{list-style:none;padding:0}
.as-footer-col ul li{color:var(--muted);font-size:0.82rem;margin-bottom:7px;display:flex;align-items:center;gap:6px}
.as-footer-col ul li::before{content:'•';color:var(--accent)}

/* ===== RANANISAR PORTFOLIO SECTION ===== */
#portfolio-section{display:none;padding:100px 20px 60px;position:relative;z-index:1}
#portfolio-section.visible{display:block}

.pf-nav{
  display:flex;gap:8px;flex-wrap:wrap;margin-bottom:32px;
  background:var(--card);border:1px solid var(--border);
  border-radius:16px;padding:12px 16px;justify-content:center
}
.pf-tab{
  background:transparent;border:1px solid var(--border);color:var(--muted);
  padding:9px 20px;border-radius:12px;cursor:pointer;font-size:0.85rem;
  font-weight:600;transition:0.2s;font-family:'Outfit',sans-serif;
  display:flex;align-items:center;gap:6px
}
.pf-tab.active,.pf-tab:hover{
  background:rgba(99,102,241,0.18);border-color:var(--accent);color:var(--text)
}
.pf-page{display:none;animation:fadeSlide 0.3s ease}
.pf-page.active{display:block}

/* Hero banner */
.pf-hero{
  background:linear-gradient(135deg,rgba(99,102,241,0.15),rgba(124,58,237,0.1),rgba(244,63,94,0.08));
  border:1px solid rgba(99,102,241,0.25);border-radius:24px;
  padding:50px 32px;text-align:center;margin-bottom:32px;position:relative;overflow:hidden
}
.pf-hero::before{
  content:'';position:absolute;inset:0;
  background:radial-gradient(ellipse 60% 50% at 50% 0%,rgba(99,102,241,0.12),transparent);
  pointer-events:none
}
.pf-hero-avatar{
  width:100px;height:100px;border-radius:50%;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  display:flex;align-items:center;justify-content:center;
  font-size:3rem;margin:0 auto 20px;
  box-shadow:0 0 0 4px rgba(99,102,241,0.2),0 0 0 8px rgba(99,102,241,0.1)
}
.pf-hero h1{
  font-family:'Syne',sans-serif;font-size:clamp(1.8rem,4vw,2.8rem);
  font-weight:900;margin-bottom:10px;color:var(--text)
}
.pf-hero p{color:var(--muted);font-size:1.05rem;margin-bottom:24px;line-height:1.7}
.pf-hero-tags{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-bottom:28px}
.pf-tag{
  background:rgba(99,102,241,0.1);border:1px solid rgba(99,102,241,0.2);
  color:var(--accent);padding:5px 14px;border-radius:20px;
  font-size:0.78rem;font-weight:700;letter-spacing:0.5px
}
.pf-hero-btns{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
.pf-btn-primary{
  background:linear-gradient(135deg,var(--accent),#7c3aed);
  color:#fff;padding:12px 28px;border-radius:50px;font-weight:700;
  border:none;cursor:pointer;font-size:0.95rem;font-family:'Outfit',sans-serif;
  transition:all 0.3s;box-shadow:0 6px 24px rgba(99,102,241,0.35)
}
.pf-btn-primary:hover{transform:translateY(-2px);box-shadow:0 10px 32px rgba(99,102,241,0.5)}
.pf-btn-secondary{
  background:transparent;color:var(--text);padding:12px 28px;border-radius:50px;
  font-weight:600;border:1px solid var(--border);cursor:pointer;
  font-size:0.95rem;font-family:'Outfit',sans-serif;transition:all 0.3s
}
.pf-btn-secondary:hover{background:var(--card);border-color:var(--accent)}

/* Stats */
.pf-stats{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:14px;margin-bottom:30px
}
.pf-stat-card{
  background:var(--card);border:1px solid var(--border);border-radius:14px;
  padding:20px;text-align:center;transition:0.3s;
  border-bottom:3px solid var(--accent)
}
.pf-stat-card:nth-child(2){border-bottom-color:var(--accent3)}
.pf-stat-card:nth-child(3){border-bottom-color:var(--accent4)}
.pf-stat-card:nth-child(4){border-bottom-color:var(--accent2)}
.pf-stat-card:hover{transform:translateY(-3px)}
.pf-stat-num{font-family:'Syne',sans-serif;font-size:1.8rem;font-weight:800;color:var(--accent)}
.pf-stat-card:nth-child(2) .pf-stat-num{color:var(--accent3)}
.pf-stat-card:nth-child(3) .pf-stat-num{color:var(--accent4)}
.pf-stat-card:nth-child(4) .pf-stat-num{color:var(--accent2)}
.pf-stat-label{font-size:0.75rem;color:var(--muted);margin-top:4px}

/* Section headers */
.pf-section-head{margin-bottom:24px}
.pf-section-head h2{
  font-family:'Syne',sans-serif;font-size:1.5rem;font-weight:800;
  margin-bottom:8px;color:var(--text)
}
.pf-section-head p{color:var(--muted);font-size:0.9rem}
.pf-divider{
  width:50px;height:3px;border-radius:2px;margin:10px 0 20px;
  background:linear-gradient(90deg,var(--accent),var(--accent2))
}

/* Feature cards */
.pf-features{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:16px;margin-bottom:30px
}
.pf-feat{
  background:var(--card);border:1px solid var(--border);border-radius:16px;
  padding:22px;transition:0.3s;border-left:4px solid var(--accent)
}
.pf-feat:nth-child(2){border-left-color:var(--accent2)}
.pf-feat:nth-child(3){border-left-color:var(--accent3)}
.pf-feat:nth-child(4){border-left-color:var(--accent4)}
.pf-feat:nth-child(5){border-left-color:var(--accent5)}
.pf-feat:nth-child(6){border-left-color:#ec4899}
.pf-feat:hover{transform:translateY(-4px);box-shadow:0 12px 30px rgba(99,102,241,0.15)}
.pf-feat-icon{font-size:2.2rem;margin-bottom:12px;display:block}
.pf-feat-title{font-family:'Syne',sans-serif;font-weight:700;margin-bottom:6px;font-size:0.95rem}
.pf-feat-desc{color:var(--muted);font-size:0.82rem;line-height:1.6}

/* Highlight box */
.pf-highlight{
  background:rgba(245,158,11,0.08);border:1px solid rgba(245,158,11,0.2);
  border-left:4px solid var(--accent4);border-radius:12px;
  padding:18px 20px;margin:20px 0
}
.pf-highlight h3{color:var(--accent4);font-size:0.95rem;margin-bottom:6px}
.pf-highlight p{color:var(--muted);font-size:0.85rem;line-height:1.6}

/* Services grid */
.pf-services{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:18px;margin-bottom:28px
}
.pf-service{
  background:var(--card);border:1px solid var(--border);border-radius:16px;
  padding:22px;transition:0.3s;position:relative;overflow:hidden
}
.pf-service:hover{border-color:var(--accent);transform:translateY(-3px);box-shadow:0 16px 40px rgba(99,102,241,0.15)}
.pf-service-icon{font-size:2.5rem;margin-bottom:12px;display:block}
.pf-service h3{font-family:'Syne',sans-serif;font-weight:700;margin-bottom:6px}
.pf-service p{color:var(--muted);font-size:0.82rem;margin-bottom:12px;line-height:1.5}
.pf-service-price{
  font-family:'Syne',sans-serif;font-size:1.1rem;font-weight:800;color:var(--accent);
  margin-bottom:10px
}
.pf-badge{
  display:inline-block;padding:4px 12px;border-radius:10px;
  font-size:0.7rem;font-weight:700;margin-right:4px
}
.pf-badge-blue{background:rgba(99,102,241,0.15);color:var(--accent);border:1px solid rgba(99,102,241,0.25)}
.pf-badge-green{background:rgba(16,185,129,0.15);color:var(--accent3);border:1px solid rgba(16,185,129,0.25)}
.pf-badge-red{background:rgba(244,63,94,0.15);color:var(--accent2);border:1px solid rgba(244,63,94,0.25)}
.pf-badge-gold{background:rgba(245,158,11,0.15);color:var(--accent4);border:1px solid rgba(245,158,11,0.25)}

/* Portfolio grid */
.pf-portfolio-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:18px;margin-bottom:28px
}
.pf-portfolio-item{
  background:linear-gradient(135deg,var(--card),var(--surface));
  border:1px solid var(--border);border-radius:16px;
  padding:28px;text-align:center;transition:0.3s;cursor:pointer
}
.pf-portfolio-item:hover{transform:scale(1.03);border-color:var(--accent);box-shadow:0 16px 40px rgba(99,102,241,0.2)}
.pf-portfolio-icon{font-size:3rem;margin-bottom:14px;display:block}
.pf-portfolio-item h3{font-family:'Syne',sans-serif;font-weight:700;margin-bottom:6px}
.pf-portfolio-item p{color:var(--muted);font-size:0.82rem;margin-bottom:12px}

/* Affiliate earning table */
.pf-earn-table{
  width:100%;border-collapse:collapse;margin-top:16px;border-radius:12px;overflow:hidden
}
.pf-earn-table th{
  background:linear-gradient(135deg,var(--accent),#7c3aed);
  color:#fff;padding:12px 16px;text-align:left;font-size:0.85rem;font-weight:700
}
.pf-earn-table td{
  padding:12px 16px;border-bottom:1px solid var(--border);font-size:0.85rem;color:var(--muted)
}
.pf-earn-table tr:last-child td{
  background:rgba(245,158,11,0.08);color:var(--accent4);font-weight:700;border-bottom:none
}
.pf-earn-table tr:hover td{background:rgba(99,102,241,0.05)}

/* Affiliate product cards */
.pf-aff-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:14px;margin-bottom:24px
}
.pf-aff-card{
  background:var(--card);border:1px solid rgba(16,185,129,0.2);
  border-radius:14px;padding:20px;text-align:center;transition:0.3s
}
.pf-aff-card:hover{border-color:var(--accent3);transform:translateY(-3px)}
.pf-aff-card h3{font-family:'Syne',sans-serif;font-weight:700;margin-bottom:6px}
.pf-aff-card p{color:var(--muted);font-size:0.78rem;margin-bottom:10px}
.pf-aff-price{font-family:'Syne',sans-serif;font-size:1.2rem;font-weight:800;color:var(--accent3);margin-bottom:12px}
.pf-copy-link{
  width:100%;background:rgba(16,185,129,0.12);border:1px solid rgba(16,185,129,0.25);
  color:var(--accent3);padding:8px;border-radius:8px;font-size:0.78rem;
  font-weight:700;cursor:pointer;font-family:'Outfit',sans-serif;transition:0.2s
}
.pf-copy-link:hover{background:rgba(16,185,129,0.22)}

/* Contact cards */
.pf-contact-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:16px;margin-bottom:28px
}
.pf-contact-card{
  background:var(--card);border:1px solid var(--border);border-radius:14px;
  padding:22px;transition:0.3s;text-align:center
}
.pf-contact-card:hover{border-color:var(--accent);transform:translateY(-3px)}
.pf-contact-card .ci{font-size:2rem;display:block;margin-bottom:10px}
.pf-contact-card h3{font-family:'Syne',sans-serif;font-weight:700;margin-bottom:6px;font-size:0.95rem}
.pf-contact-card a{color:var(--accent);text-decoration:none;font-size:0.85rem}
.pf-contact-card a:hover{text-decoration:underline}

/* CTA box */
.pf-cta-box{
  background:linear-gradient(135deg,rgba(99,102,241,0.12),rgba(124,58,237,0.08),rgba(244,63,94,0.06));
  border:1px solid rgba(99,102,241,0.25);border-radius:20px;
  padding:40px;text-align:center;margin-top:24px
}
.pf-cta-box h2{font-family:'Syne',sans-serif;font-size:1.6rem;font-weight:800;margin-bottom:10px}
.pf-cta-box p{color:var(--muted);margin-bottom:24px;font-size:0.95rem}

/* Freelancing start section */
.pf-start-box{
  background:var(--surface);border:1px solid var(--border);border-radius:16px;
  padding:24px;margin-top:24px
}
.pf-start-box h3{font-family:'Syne',sans-serif;font-weight:700;margin-bottom:14px;font-size:1.05rem}
.pf-platform-btns{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
.pf-platform-btn{
  background:var(--card);border:1px solid var(--border);color:var(--text);
  padding:10px 22px;border-radius:10px;font-weight:700;font-size:0.88rem;
  cursor:pointer;transition:0.2s;text-decoration:none;font-family:'Outfit',sans-serif;
  display:flex;align-items:center;gap:7px
}
.pf-platform-btn:hover{border-color:var(--accent);background:rgba(99,102,241,0.1);color:var(--accent)}

@media(max-width:600px){
  .pf-hero{padding:32px 18px}
  .pf-services{grid-template-columns:1fr}
  .pf-portfolio-grid{grid-template-columns:1fr 1fr}
  .pf-aff-grid{grid-template-columns:1fr 1fr}
}
#video-section{display:none;padding:100px 20px 60px;position:relative;z-index:1}
#video-section.visible{display:block}

.video-player-wrap{
  max-width:900px;margin:0 auto 40px;
  background:var(--card);border:1px solid var(--border);
  border-radius:24px;overflow:hidden;
  box-shadow:0 40px 100px rgba(0,0,0,0.6)
}
.vp-titlebar{
  background:var(--surface);padding:12px 20px;
  display:flex;align-items:center;gap:10px;
  border-bottom:1px solid var(--border)
}
.vp-dot{width:12px;height:12px;border-radius:50%}
.vp-url-bar{
  flex:1;background:rgba(255,255,255,0.04);border-radius:8px;
  padding:5px 14px;font-family:'Space Mono',monospace;font-size:0.7rem;
  color:var(--muted);margin:0 12px
}
.vp-canvas{
  position:relative;width:100%;padding-bottom:56.25%;
  background:#000;overflow:hidden
}
.vp-canvas canvas{position:absolute;inset:0;width:100%;height:100%}
.vp-controls{
  background:rgba(0,0,0,0.9);padding:14px 20px;
  display:flex;align-items:center;gap:14px;
  border-top:1px solid rgba(255,255,255,0.06)
}
.vp-play{
  width:38px;height:38px;border-radius:50%;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  border:none;color:#fff;font-size:1rem;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  transition:0.2s;flex-shrink:0
}
.vp-play:hover{transform:scale(1.1)}
.vp-progress{
  flex:1;height:4px;background:rgba(255,255,255,0.1);
  border-radius:2px;cursor:pointer;position:relative
}
.vp-progress-fill{
  height:100%;border-radius:2px;
  background:linear-gradient(90deg,var(--accent),var(--accent2));
  width:0%;transition:width 0.1s linear;pointer-events:none
}
.vp-time{font-family:'Space Mono',monospace;font-size:0.72rem;color:var(--muted);flex-shrink:0}
.vp-vol,.vp-full{
  background:none;border:none;color:var(--muted);cursor:pointer;
  font-size:1rem;padding:4px;transition:0.2s;flex-shrink:0
}
.vp-vol:hover,.vp-full:hover{color:var(--text)}

/* VIDEO SCENE TABS */
.vscene-tabs{
  display:flex;gap:8px;flex-wrap:wrap;
  max-width:900px;margin:0 auto 20px;justify-content:center
}
.vscene-tab{
  background:var(--card);border:1px solid var(--border);color:var(--muted);
  padding:8px 18px;border-radius:20px;cursor:pointer;font-size:0.82rem;font-weight:600;
  transition:0.2s;font-family:'Outfit',sans-serif
}
.vscene-tab.active,.vscene-tab:hover{
  background:rgba(99,102,241,0.18);border-color:var(--accent);color:var(--text)
}

/* VIDEO INFO CARDS */
.video-info-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:16px;max-width:900px;margin:24px auto 0
}
.video-info-card{
  background:var(--card);border:1px solid var(--border);border-radius:16px;padding:22px;
  transition:0.3s
}
.video-info-card:hover{border-color:var(--accent);transform:translateY(-3px)}
.vic-icon{font-size:2rem;margin-bottom:10px;display:block}
.vic-title{font-family:'Syne',sans-serif;font-weight:700;margin-bottom:6px}
.vic-desc{color:var(--muted);font-size:0.85rem;line-height:1.6}

/* ===== PROMPT SAMPLES PAGE ===== */
#prompt-samples{display:none;padding:100px 20px 60px;position:relative;z-index:1}
#prompt-samples.visible{display:block}

.ps-category-bar{
  display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-bottom:36px
}
.ps-cat{
  background:var(--card);border:1px solid var(--border);color:var(--muted);
  padding:8px 20px;border-radius:20px;cursor:pointer;font-size:0.85rem;font-weight:600;
  transition:0.2s;font-family:'Outfit',sans-serif
}
.ps-cat.active,.ps-cat:hover{
  background:rgba(99,102,241,0.18);border-color:var(--accent);color:var(--text)
}

.ps-grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
  gap:20px;max-width:1200px;margin:0 auto
}
.ps-card{
  background:var(--card);border:1px solid var(--border);border-radius:20px;
  padding:24px;transition:all 0.3s;cursor:pointer;position:relative;overflow:hidden
}
.ps-card:hover{border-color:var(--accent);transform:translateY(-4px);box-shadow:0 20px 60px rgba(99,102,241,0.15)}
.ps-card-header{display:flex;align-items:center;gap:12px;margin-bottom:14px}
.ps-card-icon{
  width:44px;height:44px;border-radius:12px;display:flex;align-items:center;
  justify-content:center;font-size:1.4rem;flex-shrink:0
}
.ps-card-meta{flex:1}
.ps-card-title{font-family:'Syne',sans-serif;font-weight:700;font-size:0.95rem;margin-bottom:2px}
.ps-card-cat{font-size:0.72rem;color:var(--muted);font-weight:600;letter-spacing:1px;text-transform:uppercase}
.ps-card-prompt{
  background:var(--surface);border:1px solid var(--border);border-radius:10px;
  padding:14px;font-size:0.82rem;color:rgba(200,204,240,0.75);line-height:1.7;
  font-family:'Space Mono',monospace;margin-bottom:14px;
  max-height:120px;overflow:hidden;position:relative
}
.ps-card-prompt::after{
  content:'';position:absolute;bottom:0;left:0;right:0;height:40px;
  background:linear-gradient(transparent,var(--card))
}
.ps-card-footer{display:flex;gap:8px;align-items:center}
.ps-copy-btn{
  background:rgba(99,102,241,0.12);border:1px solid rgba(99,102,241,0.25);
  color:var(--accent);padding:7px 16px;border-radius:8px;font-size:0.78rem;
  font-weight:700;cursor:pointer;font-family:'Outfit',sans-serif;transition:0.2s;flex:1
}
.ps-copy-btn:hover{background:rgba(99,102,241,0.22);border-color:var(--accent)}
.ps-use-btn{
  background:linear-gradient(135deg,var(--accent),#7c3aed);
  color:#fff;padding:7px 16px;border-radius:8px;font-size:0.78rem;
  font-weight:700;cursor:pointer;font-family:'Outfit',sans-serif;transition:0.2s;border:none
}
.ps-use-btn:hover{opacity:0.9;transform:translateY(-1px)}
.ps-platform-tag{
  position:absolute;top:14px;right:14px;
  padding:3px 10px;border-radius:8px;font-size:0.68rem;font-weight:700
}

/* Search bar */
.ps-search-wrap{max-width:600px;margin:0 auto 32px;position:relative}
.ps-search{
  width:100%;background:var(--card);border:1px solid var(--border);
  border-radius:50px;padding:14px 50px 14px 22px;color:var(--text);
  font-size:0.95rem;font-family:'Outfit',sans-serif;outline:none;transition:0.2s
}
.ps-search:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--glow)}
.ps-search-icon{
  position:absolute;right:18px;top:50%;transform:translateY(-50%);
  color:var(--muted);font-size:1.1rem;pointer-events:none
}
.ps-stats-row{
  display:flex;gap:20px;justify-content:center;flex-wrap:wrap;margin-bottom:36px
}
.ps-stat{
  background:var(--card);border:1px solid var(--border);border-radius:12px;
  padding:12px 22px;text-align:center
}
.ps-stat-num{font-family:'Syne',sans-serif;font-size:1.5rem;font-weight:800;color:var(--accent)}
.ps-stat-label{font-size:0.72rem;color:var(--muted);margin-top:2px}

@media(max-width:768px){
  .vp-url-bar{display:none}
  .ps-grid{grid-template-columns:1fr}
  .video-info-grid{grid-template-columns:1fr 1fr}
}
@media(max-width:480px){
  .video-info-grid{grid-template-columns:1fr}
  .ps-card-prompt{max-height:90px}
}
#dashboard-section{display:none;padding:100px 20px 60px;position:relative;z-index:1}
#dashboard-section.visible{display:block}
.db-nav{
  display:flex;gap:8px;flex-wrap:wrap;margin-bottom:28px;
  background:var(--card);border:1px solid var(--border);
  border-radius:16px;padding:12px 16px
}
.db-tab{
  background:transparent;border:1px solid var(--border);color:var(--muted);
  padding:8px 18px;border-radius:12px;cursor:pointer;font-size:0.88rem;
  font-weight:600;transition:0.2s;font-family:'Outfit',sans-serif
}
.db-tab.active,.db-tab:hover{background:rgba(99,102,241,0.18);border-color:var(--accent);color:var(--text)}
.db-page{display:none;animation:fadeSlide 0.35s ease}
.db-page.active{display:block}
@keyframes fadeSlide{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.db-card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:26px;margin-bottom:20px}
.db-card h3{font-family:'Syne',sans-serif;font-weight:700;font-size:1.05rem;margin-bottom:16px;display:flex;align-items:center;gap:8px}
.db-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,1fr));gap:16px;margin-bottom:24px}
.db-stat{
  background:var(--card);border:1px solid var(--border);border-radius:14px;
  padding:22px 18px;text-align:center;transition:0.3s;border-left:4px solid var(--accent)
}
.db-stat:nth-child(2){border-left-color:var(--accent3)}
.db-stat:nth-child(3){border-left-color:var(--accent4)}
.db-stat:nth-child(4){border-left-color:var(--accent5)}
.db-stat:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(99,102,241,0.15)}
.db-stat-icon{font-size:2rem;margin-bottom:8px}
.db-stat-num{font-family:'Syne',sans-serif;font-size:2rem;font-weight:800;color:var(--accent)}
.db-stat:nth-child(2) .db-stat-num{color:var(--accent3)}
.db-stat:nth-child(3) .db-stat-num{color:var(--accent4)}
.db-stat:nth-child(4) .db-stat-num{color:var(--accent5)}
.db-stat-label{font-size:0.8rem;color:var(--muted);margin-top:4px}
.db-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:20px}
.db-inp{
  width:100%;background:var(--surface);border:1px solid var(--border);
  border-radius:10px;padding:11px 15px;color:var(--text);font-size:0.9rem;
  font-family:'Outfit',sans-serif;outline:none;transition:0.2s;margin-bottom:12px
}
.db-inp:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--glow)}
.db-btn{
  padding:10px 22px;border-radius:10px;border:none;cursor:pointer;
  font-weight:700;font-size:0.88rem;font-family:'Outfit',sans-serif;transition:all 0.2s
}
.db-btn-primary{background:linear-gradient(135deg,var(--accent),#7c3aed);color:#fff}
.db-btn-danger{background:rgba(244,63,94,0.15);color:var(--accent2);border:1px solid rgba(244,63,94,0.3)}
.db-btn:hover{transform:translateY(-1px);opacity:0.9}
.db-progress-bar{width:100%;height:10px;background:var(--surface);border-radius:6px;overflow:hidden;margin:10px 0}
.db-progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent2),var(--accent3));transition:width 0.4s ease;border-radius:6px}
.task-row{
  background:var(--surface);border:1px solid var(--border);border-radius:12px;
  padding:16px 20px;margin-bottom:10px;display:flex;justify-content:space-between;
  align-items:center;transition:0.3s;gap:12px
}
.task-row:hover{border-color:var(--accent);transform:translateX(-3px)}
.task-row-info{flex:1}
.task-row-title{font-weight:700;margin-bottom:4px;font-size:0.95rem}
.task-row-meta{font-size:0.78rem;color:var(--muted)}
.task-row-actions{display:flex;gap:8px;flex-shrink:0}
.db-badge{
  display:inline-block;padding:3px 10px;border-radius:8px;
  font-size:0.72rem;font-weight:700;margin-left:6px
}
.db-badge-high{background:rgba(244,63,94,0.15);color:var(--accent2);border:1px solid rgba(244,63,94,0.25)}
.db-badge-medium{background:rgba(245,158,11,0.15);color:var(--accent4);border:1px solid rgba(245,158,11,0.25)}
.db-badge-low{background:rgba(16,185,129,0.15);color:var(--accent3);border:1px solid rgba(16,185,129,0.25)}
.db-badge-completed{background:rgba(16,185,129,0.15);color:var(--accent3)}
.db-badge-progress{background:rgba(6,182,212,0.15);color:var(--accent5)}
.db-badge-pending{background:rgba(244,63,94,0.1);color:var(--accent2)}
.db-modal{
  display:none;position:fixed;inset:0;background:rgba(0,0,0,0.75);
  z-index:2000;align-items:center;justify-content:center
}
.db-modal.open{display:flex}
.db-modal-box{
  background:var(--card);border:1px solid var(--border);border-radius:20px;
  padding:32px;max-width:560px;width:90%;max-height:90vh;overflow-y:auto
}
.db-modal-box h2{font-family:'Syne',sans-serif;font-weight:800;margin-bottom:20px;font-size:1.3rem}
.member-row{
  background:var(--surface);border:1px solid var(--border);border-radius:12px;
  padding:16px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center
}
.member-avatar{
  width:42px;height:42px;border-radius:50%;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  display:flex;align-items:center;justify-content:center;
  font-weight:800;font-size:1rem;flex-shrink:0;font-family:'Syne',sans-serif
}
.chart-wrap{position:relative;height:280px;margin-top:16px}
.db-filter-row{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:16px}
.db-filter-row .db-inp{margin-bottom:0;flex:1;min-width:140px}
.db-empty{color:var(--muted);font-size:0.9rem;text-align:center;padding:24px;opacity:0.7}
@media(max-width:600px){
  .task-row{flex-direction:column;align-items:flex-start}
  .task-row-actions{width:100%}
  .db-filter-row .db-inp{min-width:100%}
}
</style>
</head>
<body>

<!-- NAVBAR -->
<nav>
  <a href="https://nexus-ultra-platforms.com" target="_blank" class="logo" style="text-decoration:none">⚡ NEXUS ULTRA</a>
  <div class="nav-links" id="navLinks">
    <a href="#ai-studio">AI Studio</a>
    <a href="#games">Games</a>
    <a href="#ecommerce">Shop</a>
    <a href="#affiliate">Affiliate</a>
    <a href="nisar-affiliate-platform.html" target="_blank" style="background:linear-gradient(135deg,rgba(0,255,136,.15),rgba(0,212,255,.1));border:1px solid rgba(0,255,136,.3);color:#00ff88;font-weight:700">⚡ Affiliate Hub</a>
    <a href="#social">Social</a>
    <a href="#marketing">Marketing</a>
    <a href="#pricing">Pricing</a>
    <a href="#dashboard" onclick="showDashboard()">📊 Dashboard</a>
    <a href="#video-section" onclick="showVideoSection()">🎬 Video</a>
    <a href="#prompt-samples" onclick="showPromptSamples()">✨ Prompts</a>
    <a href="#portfolio-section" onclick="showPortfolioSection()">🧠 Portfolio</a>
    <a href="#proj-dashboard-section" onclick="showProjDashboard()">📊 Projects</a>
    <a href="#automation-studio-section" onclick="showAutomationStudio()">⚡ Studio</a>
    <a href="#messenger-bot-section" onclick="showMessengerBot()">💬 Bot</a>
    <a href="#pricing" class="nav-cta">Get Free</a>
  </div>
  <div class="hamburger" onclick="toggleNav()" id="hamburger">
    <span></span><span></span><span></span>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div>
    <div class="hero-badge"><span class="badge-dot"></span>🚀 World's Most Complete AI Platform — 100% Free</div>
    <h1>Build, Create & Grow<br><span>Everything Digital</span><br>With AI Power</h1>
    <p>Generate prompts, images, videos, play games, run affiliate marketing, manage social media, build ecommerce stores — all in one ultra-powerful platform.</p>
    <div class="hero-btns">
      <button class="btn-primary" onclick="scrollTo('ai-studio')">🎯 Start Creating Free</button>
      <button class="btn-secondary" onclick="scrollTo('games')">🎮 Play Games</button>
    </div>
    <div class="stats-row">
      <div class="stat"><div class="stat-num">50+</div><div class="stat-label">AI Tools</div></div>
      <div class="stat"><div class="stat-num">10M+</div><div class="stat-label">Users</div></div>
      <div class="stat"><div class="stat-num">$0</div><div class="stat-label">Cost Forever</div></div>
      <div class="stat"><div class="stat-num">99.9%</div><div class="stat-label">Uptime</div></div>
    </div>
  </div>
</section>

<!-- AI TOOLS OVERVIEW -->
<section style="padding:60px 20px">
  <div class="text-center" style="max-width:700px;margin:0 auto 40px">
    <div class="section-tag">⚡ All Features</div>
    <h2 class="section-title">Every Tool You'll <span style="color:var(--accent)">Ever Need</span></h2>
    <div class="sep center"></div>
  </div>
  <div class="tools-grid">
    <div class="tool-card" onclick="scrollTo('ai-studio')">
      <span class="tool-icon">✍️</span>
      <div class="tool-name">Prompt Generator</div>
      <div class="tool-desc">Generate powerful AI prompts for ChatGPT, Midjourney, DALL-E and more.</div>
      <span class="tool-badge badge-free">FREE</span>
    </div>
    <div class="tool-card" onclick="scrollTo('ai-studio')">
      <span class="tool-icon">🎨</span>
      <div class="tool-name">Image Generator</div>
      <div class="tool-desc">Create stunning AI art, product images, logos, and social media graphics.</div>
      <span class="tool-badge badge-hot">HOT 🔥</span>
    </div>
    <div class="tool-card" onclick="scrollTo('ai-studio')">
      <span class="tool-icon">🎬</span>
      <div class="tool-name">Video Generator</div>
      <div class="tool-desc">Generate 10-20 minute videos with AI — scripts, scenes, voiceovers included.</div>
      <span class="tool-badge badge-new">NEW</span>
    </div>
    <div class="tool-card" onclick="scrollTo('ai-studio')">
      <span class="tool-icon">🤖</span>
      <div class="tool-name">AI Tool Builder</div>
      <div class="tool-desc">Build custom AI tools, chatbots, and automation workflows — no code needed.</div>
      <span class="tool-badge badge-free">FREE</span>
    </div>
    <div class="tool-card" onclick="scrollTo('games')">
      <span class="tool-icon">🎮</span>
      <div class="tool-name">Game Playground</div>
      <div class="tool-desc">Play and build games — Snake, Quiz, Memory, Math and more fun games.</div>
      <span class="tool-badge badge-hot">FUN 🎉</span>
    </div>
    <div class="tool-card" onclick="scrollTo('affiliate')">
      <span class="tool-icon">💰</span>
      <div class="tool-name">Affiliate Marketing</div>
      <div class="tool-desc">Promote products, track links, and earn commissions from top platforms.</div>
      <span class="tool-badge badge-new">EARN $</span>
    </div>
    <div class="tool-card" onclick="scrollTo('social')">
      <span class="tool-icon">📱</span>
      <div class="tool-name">Social Media Hub</div>
      <div class="tool-desc">Manage all social platforms, schedule posts, and grow your audience.</div>
      <span class="tool-badge badge-free">FREE</span>
    </div>
    <div class="tool-card" onclick="scrollTo('ecommerce')">
      <span class="tool-icon">🛒</span>
      <div class="tool-name">E-Commerce Store</div>
      <div class="tool-desc">Complete digital store with products, payments, and marketing tools.</div>
      <span class="tool-badge badge-hot">HOT 🔥</span>
    </div>
    <div class="tool-card" onclick="scrollTo('marketing')">
      <span class="tool-icon">📊</span>
      <div class="tool-name">Digital Marketing</div>
      <div class="tool-desc">Email marketing, SEO tools, landing pages, and analytics dashboard.</div>
      <span class="tool-badge badge-new">POWER</span>
    </div>
  </div>
</section>

<!-- AI STUDIO -->
<section id="ai-studio">
  <div class="text-center" style="max-width:700px;margin:0 auto 10px">
    <div class="section-tag">🤖 AI Studio</div>
    <h2 class="section-title">Complete <span style="color:var(--accent)">AI Workshop</span></h2>
    <div class="sep center"></div>
  </div>
  <div class="studio-container">
    <div class="studio-sidebar">
      <div class="studio-tab active" onclick="openTab('prompt')"><span>✍️</span>Prompt Gen</div>
      <div class="studio-tab" onclick="openTab('image')"><span>🎨</span>Image Gen</div>
      <div class="studio-tab" onclick="openTab('video')"><span>🎬</span>Video Gen</div>
      <div class="studio-tab" onclick="openTab('tool')"><span>🤖</span>AI Tool Gen</div>
      <div class="studio-tab" onclick="openTab('code')"><span>💻</span>Code Gen</div>
      <div class="studio-tab" onclick="openTab('copy')"><span>📝</span>Copywriting</div>
      <div class="studio-tab" onclick="openTab('seo')"><span>🔍</span>SEO Writer</div>
    </div>

    <div class="studio-main">
      <!-- PROMPT GEN -->
      <div class="studio-panel active" id="tab-prompt">
        <h3>✍️ AI Prompt Generator</h3>
        <p>Generate powerful prompts for any AI tool in seconds.</p>
        <select class="inp" id="prompt-type">
          <option>Select Prompt Type...</option>
          <option>ChatGPT Prompt</option>
          <option>Midjourney Image Prompt</option>
          <option>DALL-E Art Prompt</option>
          <option>Video Script Prompt</option>
          <option>Marketing Copy Prompt</option>
          <option>Code Generation Prompt</option>
          <option>Story Writing Prompt</option>
          <option>Social Media Prompt</option>
        </select>
        <input class="inp" id="prompt-topic" placeholder="Enter your topic or idea (e.g., futuristic city, product launch, etc.)">
        <select class="inp" id="prompt-style">
          <option>Select Style...</option>
          <option>Professional</option><option>Creative</option>
          <option>Casual</option><option>Technical</option><option>Cinematic</option>
        </select>
        <button class="gen-btn" onclick="generatePrompt()">⚡ Generate Prompt</button>
        <div class="progress-bar" id="pb-prompt"><div class="progress-fill"></div></div>
        <div class="output-area" id="out-prompt"></div>
      </div>

      <!-- IMAGE GEN -->
      <div class="studio-panel" id="tab-image">
        <h3>🎨 AI Image Generator</h3>
        <p>Create stunning AI-generated images for any purpose.</p>
        <textarea class="inp" id="img-prompt" placeholder="Describe your image: e.g., 'A futuristic cyberpunk city at night with neon lights and flying cars, ultra HD, cinematic'"></textarea>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
          <select class="inp" id="img-style">
            <option>Art Style...</option>
            <option>Photorealistic</option><option>Digital Art</option>
            <option>Oil Painting</option><option>Anime</option>
            <option>Watercolor</option><option>Cyberpunk</option>
            <option>Minimalist</option><option>3D Render</option>
          </select>
          <select class="inp" id="img-ratio">
            <option>Aspect Ratio...</option>
            <option>1:1 Square</option><option>16:9 Landscape</option>
            <option>9:16 Portrait</option><option>4:3 Standard</option>
          </select>
        </div>
        <button class="gen-btn" onclick="generateImage()">🎨 Generate Image Prompt</button>
        <div class="progress-bar" id="pb-image"><div class="progress-fill"></div></div>
        <div class="output-area" id="out-image"></div>
      </div>

      <!-- VIDEO GEN -->
      <div class="studio-panel" id="tab-video">
        <h3>🎬 AI Video Generator</h3>
        <p>Generate complete video scripts and production plans.</p>
        <input class="inp" id="vid-topic" placeholder="Video topic: e.g., 'How AI is changing the future'">
        <div class="video-options">
          <div class="vid-opt sel" onclick="selVid(this,'10')">📺 10 min</div>
          <div class="vid-opt" onclick="selVid(this,'15')">🎬 15 min</div>
          <div class="vid-opt" onclick="selVid(this,'20')">🎥 20 min</div>
        </div>
        <select class="inp" id="vid-genre">
          <option>Video Type...</option>
          <option>YouTube Tutorial</option><option>Marketing Video</option>
          <option>Documentary</option><option>Short Film</option>
          <option>Product Demo</option><option>Vlog</option>
          <option>Educational</option><option>Entertainment</option>
        </select>
        <button class="gen-btn" onclick="generateVideo()">🎬 Generate Video Plan</button>
        <div class="progress-bar" id="pb-video"><div class="progress-fill"></div></div>
        <div class="output-area" id="out-video"></div>
      </div>

      <!-- AI TOOL -->
      <div class="studio-panel" id="tab-tool">
        <h3>🤖 AI Tool Generator</h3>
        <p>Build custom AI-powered tools and workflows without coding.</p>
        <input class="inp" id="tool-name" placeholder="Tool name: e.g., 'Customer Support Bot'">
        <textarea class="inp" id="tool-desc" placeholder="Describe what your AI tool should do..."></textarea>
        <select class="inp" id="tool-type">
          <option>Tool Type...</option>
          <option>Chatbot</option><option>Content Writer</option>
          <option>Data Analyzer</option><option>Email Responder</option>
          <option>Social Media Manager</option><option>SEO Optimizer</option>
          <option>Lead Generator</option><option>Sales Assistant</option>
        </select>
        <button class="gen-btn" onclick="generateTool()">🤖 Build AI Tool</button>
        <div class="progress-bar" id="pb-tool"><div class="progress-fill"></div></div>
        <div class="output-area" id="out-tool"></div>
      </div>

      <!-- CODE GEN -->
      <div class="studio-panel" id="tab-code">
        <h3>💻 Code Generator</h3>
        <p>Generate clean, production-ready code for any project.</p>
        <textarea class="inp" id="code-req" placeholder="Describe your code requirement..."></textarea>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
          <select class="inp" id="code-lang">
            <option>Language...</option>
            <option>JavaScript</option><option>Python</option>
            <option>HTML/CSS</option><option>React</option>
            <option>Node.js</option><option>PHP</option>
          </select>
          <select class="inp" id="code-type">
            <option>Type...</option>
            <option>Function</option><option>Full App</option>
            <option>API</option><option>Component</option>
          </select>
        </div>
        <button class="gen-btn" onclick="generateCode()">💻 Generate Code</button>
        <div class="progress-bar" id="pb-code"><div class="progress-fill"></div></div>
        <div class="output-area" id="out-code"></div>
      </div>

      <!-- COPY -->
      <div class="studio-panel" id="tab-copy">
        <h3>📝 AI Copywriting</h3>
        <p>Write compelling sales copy, ads, and marketing content.</p>
        <input class="inp" id="copy-product" placeholder="Product/Service name">
        <select class="inp" id="copy-type">
          <option>Content Type...</option>
          <option>Sales Page</option><option>Facebook Ad</option>
          <option>Email Campaign</option><option>Instagram Caption</option>
          <option>Product Description</option><option>Landing Page</option>
        </select>
        <textarea class="inp" id="copy-info" placeholder="Key features, benefits, target audience..."></textarea>
        <button class="gen-btn" onclick="generateCopy()">📝 Generate Copy</button>
        <div class="progress-bar" id="pb-copy"><div class="progress-fill"></div></div>
        <div class="output-area" id="out-copy"></div>
      </div>

      <!-- SEO -->
      <div class="studio-panel" id="tab-seo">
        <h3>🔍 SEO Content Writer</h3>
        <p>Generate SEO-optimized articles that rank on Google.</p>
        <input class="inp" id="seo-keyword" placeholder="Primary keyword: e.g., 'best AI tools 2024'">
        <input class="inp" id="seo-title" placeholder="Article title (optional)">
        <select class="inp" id="seo-length">
          <option>Article Length...</option>
          <option>500 words (Short)</option><option>1000 words (Medium)</option>
          <option>2000 words (Long)</option><option>5000 words (Pillar)</option>
        </select>
        <button class="gen-btn" onclick="generateSEO()">🔍 Generate SEO Article</button>
        <div class="progress-bar" id="pb-seo"><div class="progress-fill"></div></div>
        <div class="output-area" id="out-seo"></div>
      </div>
    </div>
  </div>
</section>

<!-- GAMES PLAYGROUND -->
<section id="games" style="background:var(--surface)">
  <div class="text-center" style="max-width:700px;margin:0 auto 10px">
    <div class="section-tag">🎮 Game Studio</div>
    <h2 class="section-title">Play & Build <span style="color:var(--accent2)">Games</span></h2>
    <div class="sep center"></div>
  </div>
  <div class="games-grid">
    <div class="game-card" onclick="loadGame('snake')">
      <span class="game-icon">🐍</span>
      <div class="game-name">Snake Classic</div>
      <div class="game-meta">Use arrow keys • Eat food • Get score</div>
    </div>
    <div class="game-card" onclick="loadGame('quiz')">
      <span class="game-icon">🧠</span>
      <div class="game-name">AI Knowledge Quiz</div>
      <div class="game-meta">10 questions • Tech & AI</div>
    </div>
    <div class="game-card" onclick="loadGame('memory')">
      <span class="game-icon">🃏</span>
      <div class="game-name">Memory Cards</div>
      <div class="game-meta">Match pairs • Train brain</div>
    </div>
    <div class="game-card" onclick="loadGame('math')">
      <span class="game-icon">🔢</span>
      <div class="game-name">Math Challenge</div>
      <div class="game-meta">Solve fast • Beat clock</div>
    </div>
    <div class="game-card" onclick="loadGame('word')">
      <span class="game-icon">📚</span>
      <div class="game-name">Word Scramble</div>
      <div class="game-meta">Unscramble words quickly</div>
    </div>
    <div class="game-card" onclick="loadGame('click')">
      <span class="game-icon">🎯</span>
      <div class="game-name">Click Speed Test</div>
      <div class="game-meta">How fast can you click?</div>
    </div>
  </div>

  <!-- GAME AREA -->
  <div class="game-area" id="game-area" style="max-width:800px;margin:30px auto 0">
    <div id="game-content"></div>
  </div>
</section>

<!-- ECOMMERCE -->
<section id="ecommerce">
  <div class="text-center" style="max-width:700px;margin:0 auto 10px">
    <div class="section-tag">🛒 Digital Store</div>
    <h2 class="section-title">Premium <span style="color:var(--accent3)">Digital Products</span></h2>
    <div class="sep center"></div>
  </div>
  <div class="ecom-grid">
    <div class="product-card">
      <div class="product-img">🤖</div>
      <div class="product-body">
        <div class="product-name">AI Marketing Mastery Course</div>
        <div class="product-stars">⭐⭐⭐⭐⭐ (2.4k reviews)</div>
        <div><span class="product-price">$29</span><span class="product-old">$197</span></div>
        <button class="add-cart" onclick="addCart('AI Marketing Course','29')">🛒 Add to Cart</button>
      </div>
    </div>
    <div class="product-card">
      <div class="product-img">📊</div>
      <div class="product-body">
        <div class="product-name">SEO Domination Toolkit</div>
        <div class="product-stars">⭐⭐⭐⭐⭐ (1.8k reviews)</div>
        <div><span class="product-price">$19</span><span class="product-old">$147</span></div>
        <button class="add-cart" onclick="addCart('SEO Toolkit','19')">🛒 Add to Cart</button>
      </div>
    </div>
    <div class="product-card">
      <div class="product-img">💡</div>
      <div class="product-body">
        <div class="product-name">1000+ ChatGPT Prompts Pack</div>
        <div class="product-stars">⭐⭐⭐⭐⭐ (5.2k reviews)</div>
        <div><span class="product-price">$9</span><span class="product-old">$97</span></div>
        <button class="add-cart" onclick="addCart('ChatGPT Prompts','9')">🛒 Add to Cart</button>
      </div>
    </div>
    <div class="product-card">
      <div class="product-img">🎨</div>
      <div class="product-body">
        <div class="product-name">Canva Templates Mega Bundle</div>
        <div class="product-stars">⭐⭐⭐⭐☆ (980 reviews)</div>
        <div><span class="product-price">$39</span><span class="product-old">$299</span></div>
        <button class="add-cart" onclick="addCart('Canva Bundle','39')">🛒 Add to Cart</button>
      </div>
    </div>
    <div class="product-card">
      <div class="product-img">📧</div>
      <div class="product-body">
        <div class="product-name">Email Marketing Empire Course</div>
        <div class="product-stars">⭐⭐⭐⭐⭐ (3.1k reviews)</div>
        <div><span class="product-price">$49</span><span class="product-old">$397</span></div>
        <button class="add-cart" onclick="addCart('Email Marketing','49')">🛒 Add to Cart</button>
      </div>
    </div>
    <div class="product-card">
      <div class="product-img">💻</div>
      <div class="product-body">
        <div class="product-name">Full Stack Dev Bootcamp</div>
        <div class="product-stars">⭐⭐⭐⭐⭐ (4.7k reviews)</div>
        <div><span class="product-price">$79</span><span class="product-old">$799</span></div>
        <button class="add-cart" onclick="addCart('Dev Bootcamp','79')">🛒 Add to Cart</button>
      </div>
    </div>
  </div>
</section>

<!-- AFFILIATE MARKETING -->
<section id="affiliate" style="background:var(--surface)">
  <div class="text-center" style="max-width:700px;margin:0 auto 10px">
    <div class="section-tag">💰 Affiliate Hub</div>
    <h2 class="section-title">Earn with <span style="color:var(--accent4)">Affiliate Marketing</span></h2>
    <div class="sep center"></div>
    <p class="section-sub" style="margin:0 auto">Promote top products and earn recurring commissions from leading platforms.</p>
  </div>

  <!-- ⚡ AFFILIATE HUB PLATFORM PROMO BANNER -->
  <div style="max-width:1200px;margin:40px auto 10px;background:linear-gradient(135deg,rgba(0,255,136,.07),rgba(0,212,255,.05),rgba(0,0,0,.4));border:1px solid rgba(0,255,136,.25);border-radius:24px;padding:32px 36px;display:flex;align-items:center;gap:30px;flex-wrap:wrap;position:relative;overflow:hidden">
    <!-- Glow bg -->
    <div style="position:absolute;top:-40px;right:-40px;width:200px;height:200px;border-radius:50%;background:radial-gradient(circle,rgba(0,255,136,.12),transparent 70%);pointer-events:none"></div>
    <div style="position:absolute;bottom:-40px;left:100px;width:160px;height:160px;border-radius:50%;background:radial-gradient(circle,rgba(0,212,255,.08),transparent 70%);pointer-events:none"></div>
    <!-- Icon -->
    <div style="width:72px;height:72px;border-radius:18px;background:linear-gradient(135deg,#00ff88,#00a855);display:flex;align-items:center;justify-content:center;font-size:2rem;box-shadow:0 8px 28px rgba(0,255,136,.4);flex-shrink:0">⚡</div>
    <!-- Text -->
    <div style="flex:1;min-width:220px;position:relative;z-index:1">
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:6px">
        <span style="font-family:'Syne',sans-serif;font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,#00ff88,#00d4ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text">NISAR NEXUS AFFILIATE HUB</span>
        <span style="background:rgba(0,255,136,.15);border:1px solid rgba(0,255,136,.3);color:#00ff88;font-size:.65rem;font-weight:800;padding:3px 9px;border-radius:99px;letter-spacing:.08em">NEW</span>
      </div>
      <p style="color:rgba(232,240,254,.65);font-size:.88rem;line-height:1.6;max-width:520px">Complete Affiliate & Social Media Marketing Platform — Products add karo, links auto-generate hongi, WhatsApp/Facebook/Instagram/TikTok pe auto-sync! Dashboard, Analytics, Campaign Manager sab ek jagah.</p>
      <div style="display:flex;flex-wrap:wrap;gap:8px;margin-top:12px">
        <span style="background:rgba(0,255,136,.1);border:1px solid rgba(0,255,136,.2);color:#00ff88;font-size:.68rem;font-weight:700;padding:3px 10px;border-radius:99px">🔗 Auto Link Generate</span>
        <span style="background:rgba(0,212,255,.1);border:1px solid rgba(0,212,255,.2);color:#00d4ff;font-size:.68rem;font-weight:700;padding:3px 10px;border-radius:99px">🔄 Auto Sync</span>
        <span style="background:rgba(255,0,110,.1);border:1px solid rgba(255,0,110,.2);color:#ff006e;font-size:.68rem;font-weight:700;padding:3px 10px;border-radius:99px">📱 All Platforms</span>
        <span style="background:rgba(255,204,0,.1);border:1px solid rgba(255,204,0,.2);color:#ffcc00;font-size:.68rem;font-weight:700;padding:3px 10px;border-radius:99px">📊 Analytics</span>
        <span style="background:rgba(191,0,255,.1);border:1px solid rgba(191,0,255,.2);color:#bf00ff;font-size:.68rem;font-weight:700;padding:3px 10px;border-radius:99px">🗓️ Scheduler</span>
      </div>
    </div>
    <!-- CTA Button -->
    <div style="display:flex;flex-direction:column;gap:10px;align-items:center;flex-shrink:0;position:relative;z-index:1">
      <a href="nisar-affiliate-platform.html" target="_blank" style="display:inline-flex;align-items:center;gap:9px;background:linear-gradient(135deg,#00ff88,#00a855);color:#000;font-weight:800;font-size:.92rem;padding:14px 26px;border-radius:12px;text-decoration:none;box-shadow:0 8px 28px rgba(0,255,136,.45);transition:all .2s;white-space:nowrap;font-family:'Outfit',sans-serif" onmouseover="this.style.transform='translateY(-2px)';this.style.boxShadow='0 12px 36px rgba(0,255,136,.65)'" onmouseout="this.style.transform='';this.style.boxShadow='0 8px 28px rgba(0,255,136,.45)'">
        ⚡ Open Affiliate Hub
      </a>
      <div style="font-size:.68rem;color:rgba(0,255,136,.6);text-align:center;font-family:'Space Mono',monospace">100% Free • No Login Needed</div>
    </div>
  </div>
  <!-- END PROMO BANNER -->
  <div class="affiliate-grid">
    <div class="affiliate-card">
      <div class="aff-platform"><span class="aff-logo">🛍️</span><div><div class="aff-name">Amazon Associates</div><div style="color:var(--muted);font-size:0.82rem">World's Largest Marketplace</div></div></div>
      <div class="aff-commission">💰 Up to 10% Commission</div>
      <div class="aff-link" onclick="copyLink(this)">https://affiliate.amazon.com/nexus?ref=YOUR_ID</div>
      <button class="copy-btn" onclick="copyParent(this)">📋 Copy Affiliate Link</button>
    </div>
    <div class="affiliate-card">
      <div class="aff-platform"><span class="aff-logo">🎓</span><div><div class="aff-name">Udemy Partner</div><div style="color:var(--muted);font-size:0.82rem">Top Online Learning Platform</div></div></div>
      <div class="aff-commission">💰 Up to 15% Per Sale</div>
      <div class="aff-link" onclick="copyLink(this)">https://click.udemy.com/aff?publisher=YOUR_ID</div>
      <button class="copy-btn" onclick="copyParent(this)">📋 Copy Affiliate Link</button>
    </div>
    <div class="affiliate-card">
      <div class="aff-platform"><span class="aff-logo">🔧</span><div><div class="aff-name">Shopify Partners</div><div style="color:var(--muted);font-size:0.82rem">E-Commerce Platform</div></div></div>
      <div class="aff-commission">💰 $150 Per Referral</div>
      <div class="aff-link" onclick="copyLink(this)">https://shopify.com/affiliates?ref=YOUR_ID</div>
      <button class="copy-btn" onclick="copyParent(this)">📋 Copy Affiliate Link</button>
    </div>
    <div class="affiliate-card">
      <div class="aff-platform"><span class="aff-logo">🤖</span><div><div class="aff-name">AI Tools Network</div><div style="color:var(--muted);font-size:0.82rem">Jasper, Copy.ai & More</div></div></div>
      <div class="aff-commission">💰 30% Recurring Monthly</div>
      <div class="aff-link" onclick="copyLink(this)">https://nexusultra.ai/affiliate?id=YOUR_ID</div>
      <button class="copy-btn" onclick="copyParent(this)">📋 Copy Affiliate Link</button>
    </div>
    <div class="affiliate-card">
      <div class="aff-platform"><span class="aff-logo">📧</span><div><div class="aff-name">GetResponse</div><div style="color:var(--muted);font-size:0.82rem">Email Marketing Software</div></div></div>
      <div class="aff-commission">💰 33% Recurring Commission</div>
      <div class="aff-link" onclick="copyLink(this)">https://getresponse.com/ref/YOUR_ID</div>
      <button class="copy-btn" onclick="copyParent(this)">📋 Copy Affiliate Link</button>
    </div>
    <div class="affiliate-card">
      <div class="aff-platform"><span class="aff-logo">💎</span><div><div class="aff-name">ClickFunnels</div><div style="color:var(--muted);font-size:0.82rem">Sales Funnel Builder</div></div></div>
      <div class="aff-commission">💰 40% Recurring Commission</div>
      <div class="aff-link" onclick="copyLink(this)">https://clickfunnels.com/?cfid=YOUR_ID</div>
      <button class="copy-btn" onclick="copyParent(this)">📋 Copy Affiliate Link</button>
    </div>
  </div>
</section>

<!-- SOCIAL MEDIA -->
<section id="social">
  <div class="text-center" style="max-width:700px;margin:0 auto 10px">
    <div class="section-tag">📱 Social Hub</div>
    <h2 class="section-title">Social Media <span style="color:var(--accent5)">Command Center</span></h2>
    <div class="sep center"></div>
  </div>
  <!-- Social + Affiliate Hub link -->
  <div style="max-width:1200px;margin:0 auto 32px;text-align:center">
    <a href="nisar-affiliate-platform.html" target="_blank" style="display:inline-flex;align-items:center;gap:10px;background:rgba(0,212,255,.08);border:1px solid rgba(0,212,255,.25);color:#00d4ff;font-weight:700;font-size:.88rem;padding:11px 22px;border-radius:12px;text-decoration:none;transition:all .2s;font-family:'Outfit',sans-serif" onmouseover="this.style.background='rgba(0,212,255,.15)'" onmouseout="this.style.background='rgba(0,212,255,.08)'">
      📱 Open Full Social Media Marketing Platform — Schedule, Post & Auto-Sync All Platforms →
    </a>
  </div>
    <div class="social-card" style="border-color:rgba(255,107,0,0.3)">
      <span class="social-icon">📸</span>
      <div class="social-name">Instagram</div>
      <div class="social-followers">2.4M+ Followers</div>
      <button class="social-btn" onclick="socialAction('Instagram')">📲 Promote Here</button>
    </div>
    <div class="social-card" style="border-color:rgba(29,161,242,0.3)">
      <span class="social-icon">🐦</span>
      <div class="social-name">Twitter/X</div>
      <div class="social-followers">890K+ Followers</div>
      <button class="social-btn" onclick="socialAction('Twitter/X')">📲 Promote Here</button>
    </div>
    <div class="social-card" style="border-color:rgba(0,119,181,0.3)">
      <span class="social-icon">💼</span>
      <div class="social-name">LinkedIn</div>
      <div class="social-followers">1.1M+ Connections</div>
      <button class="social-btn" onclick="socialAction('LinkedIn')">📲 Promote Here</button>
    </div>
    <div class="social-card" style="border-color:rgba(255,0,0,0.3)">
      <span class="social-icon">▶️</span>
      <div class="social-name">YouTube</div>
      <div class="social-followers">500K+ Subscribers</div>
      <button class="social-btn" onclick="socialAction('YouTube')">📲 Promote Here</button>
    </div>
    <div class="social-card" style="border-color:rgba(102,126,234,0.3)">
      <span class="social-icon">🎵</span>
      <div class="social-name">TikTok</div>
      <div class="social-followers">3.8M+ Followers</div>
      <button class="social-btn" onclick="socialAction('TikTok')">📲 Promote Here</button>
    </div>
    <div class="social-card" style="border-color:rgba(37,211,102,0.3)">
      <span class="social-icon">💬</span>
      <div class="social-name">WhatsApp Biz</div>
      <div class="social-followers">Direct Marketing</div>
      <button class="social-btn" onclick="socialAction('WhatsApp')">📲 Promote Here</button>
    </div>
    <div class="social-card" style="border-color:rgba(66,103,178,0.3)">
      <span class="social-icon">👥</span>
      <div class="social-name">Facebook</div>
      <div class="social-followers">5.2M+ Likes</div>
      <button class="social-btn" onclick="socialAction('Facebook')">📲 Promote Here</button>
    </div>
    <div class="social-card" style="border-color:rgba(255,90,95,0.3)">
      <span class="social-icon">📌</span>
      <div class="social-name">Pinterest</div>
      <div class="social-followers">780K+ Saves</div>
      <button class="social-btn" onclick="socialAction('Pinterest')">📲 Promote Here</button>
    </div>
  </div>
</section>

<!-- DIGITAL MARKETING -->
<section id="marketing" style="background:var(--surface)">
  <div class="text-center" style="max-width:700px;margin:0 auto 10px">
    <div class="section-tag">📊 Marketing Suite</div>
    <h2 class="section-title">Complete <span style="color:var(--accent4)">Marketing Arsenal</span></h2>
    <div class="sep center"></div>
  </div>
  <div class="marketing-tools">
    <div class="mkt-card">
      <div class="mkt-icon">📧</div>
      <div class="mkt-title">Email Marketing Campaigns</div>
      <div class="mkt-desc">Build email lists, create automated sequences, send bulk campaigns, and track open rates with AI optimization.</div>
      <button class="mkt-action" onclick="mktAction('Email Campaign Builder')">🚀 Launch Campaign</button>
    </div>
    <div class="mkt-card">
      <div class="mkt-icon">🔍</div>
      <div class="mkt-title">SEO & Keyword Research</div>
      <div class="mkt-desc">Find high-traffic keywords, analyze competitors, build backlinks, and optimize content for top Google rankings.</div>
      <button class="mkt-action" onclick="mktAction('SEO Analyzer')">🔍 Analyze Keywords</button>
    </div>
    <div class="mkt-card">
      <div class="mkt-icon">🎯</div>
      <div class="mkt-title">Paid Ads Manager</div>
      <div class="mkt-desc">Create and manage Google Ads, Facebook Ads, TikTok Ads with AI-powered targeting and budget optimization.</div>
      <button class="mkt-action" onclick="mktAction('Ads Manager')">🎯 Create Ad Campaign</button>
    </div>
    <div class="mkt-card">
      <div class="mkt-icon">📈</div>
      <div class="mkt-title">Analytics Dashboard</div>
      <div class="mkt-desc">Track all your marketing metrics, ROI, conversions, and audience insights in one beautiful real-time dashboard.</div>
      <button class="mkt-action" onclick="mktAction('Analytics Dashboard')">📊 View Analytics</button>
    </div>
    <div class="mkt-card">
      <div class="mkt-icon">🏆</div>
      <div class="mkt-title">Landing Page Builder</div>
      <div class="mkt-desc">Build high-converting landing pages with drag-and-drop editor, A/B testing, and built-in payment integration.</div>
      <button class="mkt-action" onclick="mktAction('Landing Page Builder')">🏗️ Build Landing Page</button>
    </div>
    <div class="mkt-card">
      <div class="mkt-icon">🤝</div>
      <div class="mkt-title">CRM & Lead Management</div>
      <div class="mkt-desc">Manage leads, track deals, automate follow-ups, and close more sales with AI-powered CRM system.</div>
      <button class="mkt-action" onclick="mktAction('CRM System')">👥 Manage Leads</button>
    </div>
  </div>
</section>

<!-- PRICING -->
<section id="pricing">
  <div class="text-center" style="max-width:700px;margin:0 auto 10px">
    <div class="section-tag">💎 Simple Pricing</div>
    <h2 class="section-title">Start <span style="color:var(--accent)">Completely Free</span></h2>
    <div class="sep center"></div>
  </div>
  <div class="pricing-grid">
    <div class="price-card">
      <div class="plan-name">STARTER</div>
      <div style="color:var(--muted);font-size:0.9rem">Perfect for beginners</div>
      <div class="plan-price">$0<span>/mo</span></div>
      <ul class="plan-features">
        <li>100 AI Prompt Generations</li>
        <li>50 Image Generations</li>
        <li>5 Video Scripts (10 min)</li>
        <li>All Game Playground Access</li>
        <li>Basic Analytics Dashboard</li>
        <li>3 Affiliate Links</li>
        <li>Community Support</li>
      </ul>
      <button class="plan-btn secondary" onclick="showToast('🎉 You are already on Free Plan!')">Current Plan</button>
    </div>
    <div class="price-card featured">
      <div class="featured-badge">⭐ MOST POPULAR</div>
      <div class="plan-name">PRO</div>
      <div style="color:var(--muted);font-size:0.9rem">For serious creators</div>
      <div class="plan-price">$29<span>/mo</span></div>
      <ul class="plan-features">
        <li>Unlimited Prompt Generations</li>
        <li>5000 Image Generations</li>
        <li>Unlimited Video Scripts (20 min)</li>
        <li>All AI Tools + Custom Builder</li>
        <li>Full Analytics + Reporting</li>
        <li>50 Affiliate Programs</li>
        <li>E-Commerce Store (100 products)</li>
        <li>Priority 24/7 Support</li>
      </ul>
      <button class="plan-btn primary" onclick="showToast('🚀 Upgrading to Pro...')">Upgrade to Pro</button>
    </div>
    <div class="price-card">
      <div class="plan-name">ENTERPRISE</div>
      <div style="color:var(--muted);font-size:0.9rem">For teams & agencies</div>
      <div class="plan-price">$99<span>/mo</span></div>
      <ul class="plan-features">
        <li>Everything in Pro</li>
        <li>White Label Platform</li>
        <li>Unlimited Team Members</li>
        <li>Custom AI Model Training</li>
        <li>Dedicated Account Manager</li>
        <li>Unlimited Affiliate Programs</li>
        <li>API Access + Webhooks</li>
        <li>99.9% SLA Guarantee</li>
      </ul>
      <button class="plan-btn secondary" onclick="showToast('📞 Contacting Sales...')">Contact Sales</button>
    </div>
  </div>
</section>

<!-- ===== PROJECT DASHBOARD GENERATOR SECTION ===== -->
<section id="proj-dashboard-section">
  <div class="pd-wrap">
    <div class="text-center" style="max-width:700px;margin:0 auto 32px">
      <div class="section-tag">📊 Project Dashboard Generator</div>
      <h2 class="section-title">Manage <span style="color:var(--accent)">Projects & Teams</span></h2>
      <div class="sep center"></div>
      <p style="color:var(--muted)">Real-time task tracking, team management, analytics charts — all in one dark dashboard.</p>
    </div>

    <div class="pd-nav">
      <button class="pd-tab active" onclick="pdSwitch('pd-overview',this)">📊 Overview</button>
      <button class="pd-tab" onclick="pdSwitch('pd-tasks',this)">✅ Tasks</button>
      <button class="pd-tab" onclick="pdSwitch('pd-team',this)">👥 Team</button>
      <button class="pd-tab" onclick="pdSwitch('pd-analytics',this)">📈 Analytics</button>
    </div>

    <!-- OVERVIEW -->
    <div id="pd-overview" class="pd-page active">
      <div class="pd-card" style="background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(244,63,94,0.06));border-color:rgba(99,102,241,0.25);text-align:center;padding:32px">
        <div style="font-size:2.5rem;margin-bottom:12px">🚀</div>
        <h2 style="font-family:'Syne',sans-serif;font-size:1.6rem;font-weight:800;margin-bottom:8px">Project Dashboard Generator</h2>
        <p style="color:var(--muted);margin-bottom:20px">Manage your projects efficiently with real-time tracking & team collaboration</p>
        <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap">
          <button class="pd-btn pd-btn-primary" onclick="pdOpenModal()">➕ Create New Task</button>
          <button class="pd-btn pd-btn-success" onclick="pdSwitch('pd-analytics',document.querySelectorAll('.pd-tab')[3])">📈 View Analytics</button>
        </div>
      </div>
      <div class="pd-stats">
        <div class="pd-stat"><div class="pd-stat-icon">📋</div><div class="pd-stat-num" id="pd-totalTasks">2</div><div class="pd-stat-label">Total Tasks</div></div>
        <div class="pd-stat"><div class="pd-stat-icon">✅</div><div class="pd-stat-num" id="pd-completedTasks">1</div><div class="pd-stat-label">Completed</div></div>
        <div class="pd-stat"><div class="pd-stat-icon">⏳</div><div class="pd-stat-num" id="pd-inProgressTasks">1</div><div class="pd-stat-label">In Progress</div></div>
        <div class="pd-stat"><div class="pd-stat-icon">👥</div><div class="pd-stat-num" id="pd-teamMembers">2</div><div class="pd-stat-label">Team Members</div></div>
      </div>
      <div class="pd-card">
        <h3>📈 Overall Project Progress</h3>
        <div class="pd-progress-track"><div class="pd-progress-fill" id="pd-progressFill" style="width:50%"></div></div>
        <div class="pd-progress-text" id="pd-progressText">50% Complete</div>
      </div>
      <div class="pd-grid">
        <div class="pd-card"><h3>⏰ Upcoming Deadlines</h3><div id="pd-upcomingDeadlines"><div class="pd-empty"><span class="pd-empty-icon">📅</span>Loading...</div></div></div>
        <div class="pd-card"><h3>🔥 Recent Activity</h3><div id="pd-recentActivity"><div class="pd-empty"><span class="pd-empty-icon">📡</span>Loading...</div></div></div>
      </div>
    </div>

    <!-- TASKS -->
    <div id="pd-tasks" class="pd-page">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;flex-wrap:wrap;gap:12px">
        <h3 style="font-family:'Syne',sans-serif;font-weight:800;font-size:1.1rem">✅ All Tasks</h3>
        <button class="pd-btn pd-btn-primary" onclick="pdOpenModal()">➕ Create Task</button>
      </div>
      <div class="pd-filter-bar">
        <select class="pd-inp" id="pd-statusFilter" onchange="pdFilterTasks()" style="margin-bottom:0">
          <option value="all">All Status</option>
          <option value="pending">⏸ Pending</option>
          <option value="progress">🔄 In Progress</option>
          <option value="completed">✅ Completed</option>
        </select>
        <select class="pd-inp" id="pd-priorityFilter" onchange="pdFilterTasks()" style="margin-bottom:0">
          <option value="all">All Priority</option>
          <option value="high">🔴 High</option>
          <option value="medium">🟡 Medium</option>
          <option value="low">🟢 Low</option>
        </select>
        <select class="pd-inp" id="pd-assigneeFilter" onchange="pdFilterTasks()" style="margin-bottom:0">
          <option value="all">All Members</option>
        </select>
        <input class="pd-search-inp" id="pd-taskSearch" placeholder="🔍 Search tasks..." oninput="pdFilterTasks()">
      </div>
      <div id="pd-taskList"><div class="pd-empty"><span class="pd-empty-icon">📋</span>Loading tasks...</div></div>
    </div>

    <!-- TEAM -->
    <div id="pd-team" class="pd-page">
      <div class="pd-card">
        <h3>👤 Add Team Member</h3>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
          <input class="pd-inp" id="pd-memberName" placeholder="Full Name *" style="margin-bottom:0">
          <input class="pd-inp" id="pd-memberEmail" placeholder="Email Address" type="email" style="margin-bottom:0">
        </div>
        <div style="margin-top:12px;display:grid;grid-template-columns:1fr 1fr;gap:12px">
          <input class="pd-inp" id="pd-memberRole" placeholder="Role (e.g. Developer)" style="margin-bottom:0">
          <select class="pd-inp" id="pd-memberDept" style="margin-bottom:0">
            <option value="">Department</option>
            <option>Engineering</option><option>Design</option><option>Marketing</option>
            <option>Sales</option><option>Management</option><option>HR</option><option>Finance</option>
          </select>
        </div>
        <button class="pd-btn pd-btn-primary" style="margin-top:14px" onclick="pdAddMember()">➕ Add Member</button>
      </div>
      <div class="pd-card">
        <h3>👥 Team Members <span id="pd-memberCountBadge" style="background:rgba(99,102,241,0.15);color:var(--accent);padding:2px 10px;border-radius:8px;font-size:0.75rem;font-weight:700">0</span></h3>
        <div id="pd-teamList"><div class="pd-empty"><span class="pd-empty-icon">👥</span>Loading team...</div></div>
      </div>
    </div>

    <!-- ANALYTICS -->
    <div id="pd-analytics" class="pd-page">
      <div class="pd-grid">
        <div class="pd-card"><h3>🍩 Task Distribution</h3><div class="pd-chart-wrap"><canvas id="pd-taskChart"></canvas></div></div>
        <div class="pd-card"><h3>📊 Priority Breakdown</h3><div class="pd-chart-wrap"><canvas id="pd-priorityChart"></canvas></div></div>
      </div>
      <div class="pd-card"><h3>👥 Team Workload</h3><div class="pd-chart-wrap"><canvas id="pd-workloadChart"></canvas></div></div>
      <div class="pd-grid" style="margin-top:0">
        <div class="pd-card" style="border-color:rgba(16,185,129,0.25)"><h3 style="color:var(--accent3)">✅ Completion Rate</h3><div style="font-family:'Syne',sans-serif;font-size:2.5rem;font-weight:800;color:var(--accent3)" id="pd-completionRate">0%</div><p style="color:var(--muted);font-size:0.82rem;margin-top:4px">of all tasks completed</p></div>
        <div class="pd-card" style="border-color:rgba(244,63,94,0.25)"><h3 style="color:var(--accent2)">🔴 High Priority Pending</h3><div style="font-family:'Syne',sans-serif;font-size:2.5rem;font-weight:800;color:var(--accent2)" id="pd-highPending">0</div><p style="color:var(--muted);font-size:0.82rem;margin-top:4px">tasks need immediate attention</p></div>
        <div class="pd-card" style="border-color:rgba(99,102,241,0.25)"><h3 style="color:var(--accent)">📋 Avg Tasks / Member</h3><div style="font-family:'Syne',sans-serif;font-size:2.5rem;font-weight:800;color:var(--accent)" id="pd-avgTasks">0</div><p style="color:var(--muted);font-size:0.82rem;margin-top:4px">tasks per team member</p></div>
      </div>
    </div>

  </div>
</section>

<!-- Project Dashboard Modal -->
<div class="pd-modal" id="pd-modal">
  <div class="pd-modal-box">
    <h2>➕ Create New Task</h2>
    <input class="pd-inp" id="pd-taskName" placeholder="Task Name *">
    <textarea class="pd-inp" id="pd-taskDesc" placeholder="Description (optional)" rows="3"></textarea>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
      <select class="pd-inp" id="pd-taskAssignee" style="margin-bottom:0"><option value="">Select Assignee</option></select>
      <input class="pd-inp" id="pd-taskDeadline" type="date" style="margin-bottom:0">
    </div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px">
      <select class="pd-inp" id="pd-taskPriority" style="margin-bottom:0">
        <option value="low">🟢 Low Priority</option>
        <option value="medium" selected>🟡 Medium Priority</option>
        <option value="high">🔴 High Priority</option>
      </select>
      <select class="pd-inp" id="pd-taskStatus" style="margin-bottom:0">
        <option value="pending">⏸ Pending</option>
        <option value="progress">🔄 In Progress</option>
        <option value="completed">✅ Completed</option>
      </select>
    </div>
    <div class="pd-btn-row" style="margin-top:20px">
      <button class="pd-btn pd-btn-primary" onclick="pdCreateTask()">✅ Create Task</button>
      <button class="pd-btn pd-btn-danger" onclick="pdCloseModal()">✖ Cancel</button>
    </div>
  </div>
</div>

<!-- ===== MESSENGER MULTI-CURRENCY BOT SECTION ===== -->
<section id="messenger-bot-section">
 <div class="mb-wrap">

  <!-- NEXUS ULTRA Link Banner -->
  <div class="mb-link-banner">
   <div>
    <h3>⚡ NEXUS ULTRA — Messenger Multi-Currency Bot</h3>
    <p>Full-stack Facebook Messenger bot with AI, multi-currency support & Meta Pay integration</p>
    <div style="margin-top:10px;display:flex;align-items:center;gap:10px;flex-wrap:wrap">
     <span style="background:rgba(255,255,255,0.15);color:#fff;padding:4px 12px;border-radius:8px;font-size:0.75rem;font-weight:700">🐍 Python / Flask</span>
     <span style="background:rgba(255,255,255,0.15);color:#fff;padding:4px 12px;border-radius:8px;font-size:0.75rem;font-weight:700">🤖 OpenAI GPT-4</span>
     <span style="background:rgba(255,255,255,0.15);color:#fff;padding:4px 12px;border-radius:8px;font-size:0.75rem;font-weight:700">💱 8 Currencies</span>
     <span style="background:rgba(255,255,255,0.15);color:#fff;padding:4px 12px;border-radius:8px;font-size:0.75rem;font-weight:700">☁️ Google Cloud</span>
    </div>
   </div>
   <div style="display:flex;flex-direction:column;gap:10px;align-items:flex-end">
    <a href="https://nexus-ultra-platforms.com" target="_blank" class="mb-visit-btn">🌐 nexus-ultra-platforms.com ↗</a>
    <a href="https://wa.me/923408060167" target="_blank" class="mb-visit-btn" style="background:rgba(255,255,255,0.15);color:#fff;border:1px solid rgba(255,255,255,0.3)">💬 WhatsApp +92 340 8060167</a>
   </div>
  </div>

  <!-- Tabs -->
  <div class="mb-nav">
   <button class="mb-tab active" onclick="mbSwitch('mb-demo',this)">💬 Live Demo</button>
   <button class="mb-tab" onclick="mbSwitch('mb-currencies',this)">💱 Currencies</button>
   <button class="mb-tab" onclick="mbSwitch('mb-code',this)">🐍 Source Code</button>
   <button class="mb-tab" onclick="mbSwitch('mb-docs',this)">📖 Docs</button>
  </div>

  <!-- ===== LIVE DEMO TAB ===== -->
  <div id="mb-demo" class="mb-page active">

   <!-- Info cards -->
   <div class="mb-info-grid">
    <div class="mb-info-card"><div class="mb-info-icon">💱</div><div><div class="mb-info-title">Multi-Currency</div><div class="mb-info-desc">PKR, USD, INR, EUR, GBP, AED, SAR + more with live exchange rates</div></div></div>
    <div class="mb-info-card"><div class="mb-info-icon">🤖</div><div><div class="mb-info-title">AI Powered</div><div class="mb-info-desc">OpenAI GPT-4 integration for intelligent responses & automation</div></div></div>
    <div class="mb-info-card"><div class="mb-info-icon">💳</div><div><div class="mb-info-title">Meta Pay</div><div class="mb-info-desc">Secure checkout via Facebook Pay — local currency display, USD processing</div></div></div>
    <div class="mb-info-card"><div class="mb-info-icon">☁️</div><div><div class="mb-info-title">Google Cloud</div><div class="mb-info-desc">Cloud Logging, auto-scaling deployment on GCP with Flask backend</div></div></div>
   </div>

   <!-- Chat Preview -->
   <div class="mb-chat-wrap">
    <div class="mb-chat-header">
     <div class="mb-chat-avatar">🤖</div>
     <div>
      <div class="mb-chat-name">NEXUS Bot — nexus-ultra-platforms.com</div>
      <div class="mb-chat-status"><span class="mb-chat-status-dot"></span> Online · AI Powered</div>
     </div>
    </div>
    <div class="mb-chat-body" id="mb-chat-body">
     <div class="mb-msg bot"><div class="mb-bubble">👋 <b>Welcome to NEXUS ULTRA Bot!</b><br><br>Pehle apni preferred currency select karein — phir hum aapko products aur prices dikhayenge!</div><div class="mb-msg-time">Just now</div></div>
     <div class="mb-msg bot"><div class="mb-bubble">🌍 <b>Select your currency:</b></div><div class="mb-msg-time">Just now</div></div>
    </div>
    <div class="mb-quick-replies" id="mb-qr-wrap">
     <button class="mb-qr" onclick="mbSelectCurrency('PKR','₨','Pakistani Rupee')">₨ PKR</button>
     <button class="mb-qr" onclick="mbSelectCurrency('USD','$','US Dollar')">$ USD</button>
     <button class="mb-qr" onclick="mbSelectCurrency('INR','₹','Indian Rupee')">₹ INR</button>
     <button class="mb-qr" onclick="mbSelectCurrency('EUR','€','Euro')">€ EUR</button>
     <button class="mb-qr" onclick="mbSelectCurrency('GBP','£','British Pound')">£ GBP</button>
     <button class="mb-qr" onclick="mbSelectCurrency('AED','د.إ','UAE Dirham')">د.إ AED</button>
    </div>
    <div class="mb-chat-input">
     <input class="mb-chat-inp" id="mb-chat-inp" placeholder="Type a message..." onkeydown="if(event.key==='Enter')mbSendMessage()">
     <button class="mb-send-btn" onclick="mbSendMessage()">➤</button>
    </div>
   </div>

  </div>

  <!-- ===== CURRENCIES TAB ===== -->
  <div id="mb-currencies" class="mb-page">

   <div class="mb-currency-grid">
    <div class="mb-currency-card selected" onclick="mbPickCurrency(this,'PKR')"><div class="mb-currency-symbol">₨</div><div class="mb-currency-code">PKR</div><div class="mb-currency-name">Pakistani Rupee</div></div>
    <div class="mb-currency-card" onclick="mbPickCurrency(this,'USD')"><div class="mb-currency-symbol">$</div><div class="mb-currency-code">USD</div><div class="mb-currency-name">US Dollar</div></div>
    <div class="mb-currency-card" onclick="mbPickCurrency(this,'INR')"><div class="mb-currency-symbol">₹</div><div class="mb-currency-code">INR</div><div class="mb-currency-name">Indian Rupee</div></div>
    <div class="mb-currency-card" onclick="mbPickCurrency(this,'EUR')"><div class="mb-currency-symbol">€</div><div class="mb-currency-code">EUR</div><div class="mb-currency-name">Euro</div></div>
    <div class="mb-currency-card" onclick="mbPickCurrency(this,'GBP')"><div class="mb-currency-symbol">£</div><div class="mb-currency-code">GBP</div><div class="mb-currency-name">British Pound</div></div>
    <div class="mb-currency-card" onclick="mbPickCurrency(this,'AED')"><div class="mb-currency-symbol">د.إ</div><div class="mb-currency-code">AED</div><div class="mb-currency-name">UAE Dirham</div></div>
    <div class="mb-currency-card" onclick="mbPickCurrency(this,'SAR')"><div class="mb-currency-symbol">﷼</div><div class="mb-currency-code">SAR</div><div class="mb-currency-name">Saudi Riyal</div></div>
    <div class="mb-currency-card" onclick="mbPickCurrency(this,'CAD')"><div class="mb-currency-symbol">C$</div><div class="mb-currency-code">CAD</div><div class="mb-currency-name">Canadian Dollar</div></div>
   </div>

   <!-- Live Converter -->
   <div class="mb-converter">
    <h3>💱 Live Currency Converter</h3>
    <div class="mb-conv-row">
     <input class="mb-conv-inp" id="mb-conv-amount" type="number" value="100" oninput="mbConvert()">
     <select class="mb-conv-select" id="mb-conv-from" onchange="mbConvert()">
      <option value="USD">USD — US Dollar</option>
      <option value="PKR">PKR — Pakistani Rupee</option>
      <option value="INR">INR — Indian Rupee</option>
      <option value="EUR">EUR — Euro</option>
      <option value="GBP">GBP — British Pound</option>
      <option value="AED">AED — UAE Dirham</option>
      <option value="SAR">SAR — Saudi Riyal</option>
      <option value="CAD">CAD — Canadian Dollar</option>
     </select>
     <div class="mb-conv-arrow" onclick="mbSwapCurrencies()">⇄</div>
     <select class="mb-conv-select" id="mb-conv-to" onchange="mbConvert()">
      <option value="PKR">PKR — Pakistani Rupee</option>
      <option value="USD">USD — US Dollar</option>
      <option value="INR">INR — Indian Rupee</option>
      <option value="EUR">EUR — Euro</option>
      <option value="GBP">GBP — British Pound</option>
      <option value="AED">AED — UAE Dirham</option>
      <option value="SAR">SAR — Saudi Riyal</option>
      <option value="CAD">CAD — Canadian Dollar</option>
     </select>
    </div>
    <div class="mb-conv-result" id="mb-conv-result">27,850.00 PKR</div>
    <div style="text-align:center;font-size:0.75rem;color:var(--muted);margin-top:8px">
     Approximate rates. Bot uses real-time exchange rate API in production.
    </div>
   </div>

   <!-- Product prices preview -->
   <div class="mb-converter">
    <h3>🛍️ Sample Product Prices</h3>
    <div id="mb-product-prices" style="display:flex;flex-direction:column;gap:12px;margin-top:4px"></div>
   </div>

  </div>

  <!-- ===== CODE TAB ===== -->
  <div id="mb-code" class="mb-page">
   <div class="mb-code-wrap">
    <div class="mb-code-header">
     <span class="mb-code-title">📄 messenger_multi_currency_bot.py — Main Bot File</span>
     <div class="mb-code-actions">
      <button class="mb-code-btn" onclick="mbCopyCode('mb-code-1',this)">📋 Copy</button>
      <a href="https://nexus-ultra-platforms.com" target="_blank" class="mb-code-btn" style="text-decoration:none">🌐 Full Source</a>
     </div>
    </div>
    <pre class="mb-code" id="mb-code-1"><span class="cm"># messenger_multi_currency_bot.py</span>
<span class="cm"># NEXUS ULTRA — nexus-ultra-platforms.com</span>
<span class="cm"># Multi-Currency Messenger Bot with Meta Pay + OpenAI</span>

<span class="kw">import</span> os, json
<span class="kw">from</span> flask <span class="kw">import</span> Flask, request, jsonify
<span class="kw">import</span> requests, openai
<span class="kw">from</span> google.cloud <span class="kw">import</span> logging <span class="kw">as</span> cloudlogging

<span class="cm"># ---------- Supported Currencies ----------</span>
SUPPORTED_CURRENCIES = {
    <span class="str">'USD'</span>: {<span class="str">'symbol'</span>: <span class="str">'$'</span>,    <span class="str">'name'</span>: <span class="str">'US Dollar'</span>},
    <span class="str">'PKR'</span>: {<span class="str">'symbol'</span>: <span class="str">'₨'</span>,   <span class="str">'name'</span>: <span class="str">'Pakistani Rupee'</span>},
    <span class="str">'INR'</span>: {<span class="str">'symbol'</span>: <span class="str">'₹'</span>,   <span class="str">'name'</span>: <span class="str">'Indian Rupee'</span>},
    <span class="str">'EUR'</span>: {<span class="str">'symbol'</span>: <span class="str">'€'</span>,   <span class="str">'name'</span>: <span class="str">'Euro'</span>},
    <span class="str">'GBP'</span>: {<span class="str">'symbol'</span>: <span class="str">'£'</span>,   <span class="str">'name'</span>: <span class="str">'British Pound'</span>},
    <span class="str">'AED'</span>: {<span class="str">'symbol'</span>: <span class="str">'د.إ'</span>, <span class="str">'name'</span>: <span class="str">'UAE Dirham'</span>},
    <span class="str">'SAR'</span>: {<span class="str">'symbol'</span>: <span class="str">'﷼'</span>,  <span class="str">'name'</span>: <span class="str">'Saudi Riyal'</span>},
    <span class="str">'CAD'</span>: {<span class="str">'symbol'</span>: <span class="str">'C$'</span>,  <span class="str">'name'</span>: <span class="str">'Canadian Dollar'</span>},
}

app = Flask(<span class="str">__name__</span>)
user_currencies = {}  <span class="cm"># user_id -> currency_code</span>
orders = {}
user_sessions = {}

<span class="cm"># ---------- Currency Selection ----------</span>
<span class="kw">def</span> <span class="fn">show_currency_selection</span>(recipient_id):
    quick_replies = [
        {<span class="str">'content_type'</span>: <span class="str">'text'</span>,
         <span class="str">'title'</span>: f<span class="str">"{info['symbol']} {code}"</span>,
         <span class="str">'payload'</span>: f<span class="str">'SET_CURRENCY_{code}'</span>}
        <span class="kw">for</span> code, info <span class="kw">in</span> SUPPORTED_CURRENCIES.items()
    ]
    call_send_api({
        <span class="str">'recipient'</span>: {<span class="str">'id'</span>: recipient_id},
        <span class="str">'message'</span>: {
            <span class="str">'text'</span>: <span class="str">'Please select your preferred currency:'</span>,
            <span class="str">'quick_replies'</span>: quick_replies
        }
    })

<span class="cm"># ---------- Checkout with Currency Conversion ----------</span>
<span class="kw">def</span> <span class="fn">start_checkout</span>(sender_id, product_id):
    user_currency = user_currencies.get(sender_id, <span class="str">'USD'</span>)
    product = get_product_details(product_id)
    usd_price = <span class="fn">float</span>(product.get(<span class="str">'price'</span>, <span class="num">0</span>))
    local_price = converter.convert(usd_price, <span class="str">'USD'</span>, user_currency)
    formatted = converter.format_price(local_price, user_currency)

    send_buttons(sender_id, f<span class="str">"""🛒 {product['name']}
Your price: {formatted} ({user_currency})
USD: ${usd_price:,.2f}
Proceed to checkout?"""</span>,
        [{<span class="str">'type'</span>:<span class="str">'postback'</span>,<span class="str">'title'</span>:<span class="str">'✅ Confirm & Pay'</span>,
          <span class="str">'payload'</span>:f<span class="str">'CONFIRM_PAYMENT_{order_id}'</span>}])

<span class="cm"># ---------- Webhook ----------</span>
<span class="dec">@app.route</span>(<span class="str">'/webhook'</span>, methods=[<span class="str">'POST'</span>])
<span class="kw">def</span> <span class="fn">handle_webhook</span>():
    data = request.get_json()
    <span class="kw">for</span> entry <span class="kw">in</span> data.get(<span class="str">'entry'</span>, []):
        <span class="kw">for</span> event <span class="kw">in</span> entry.get(<span class="str">'messaging'</span>, []):
            sender_id = event[<span class="str">'sender'</span>][<span class="str">'id'</span>]
            <span class="kw">if</span> <span class="str">'postback'</span> <span class="kw">in</span> event:
                handle_postback(sender_id, event[<span class="str">'postback'</span>])
            <span class="kw">elif</span> <span class="str">'message'</span> <span class="kw">in</span> event:
                handle_message(sender_id, event[<span class="str">'message'</span>])
    <span class="kw">return</span> <span class="str">'OK'</span>, <span class="num">200</span>

<span class="kw">if</span> __name__ == <span class="str">'__main__'</span>:
    app.run(debug=<span class="kw">True</span>, host=<span class="str">'0.0.0.0'</span>, port=<span class="num">8080</span>)</pre>
   </div>

   <div class="mb-code-wrap" style="margin-top:16px">
    <div class="mb-code-header">
     <span class="mb-code-title">📄 exchange_rate.py — Currency Converter Module</span>
     <div class="mb-code-actions">
      <button class="mb-code-btn" onclick="mbCopyCode('mb-code-2',this)">📋 Copy</button>
     </div>
    </div>
    <pre class="mb-code" id="mb-code-2"><span class="cm"># exchange_rate.py — Real-time currency conversion</span>
<span class="kw">import</span> requests
<span class="kw">from</span> datetime <span class="kw">import</span> datetime, timedelta

<span class="kw">class</span> <span class="fn">CurrencyConverter</span>:
    <span class="kw">def</span> <span class="fn">__init__</span>(self):
        self.rates_cache = {}
        self.cache_time = <span class="kw">None</span>
        self.cache_duration = timedelta(hours=<span class="num">1</span>)

    <span class="kw">def</span> <span class="fn">get_exchange_rates</span>(self, base=<span class="str">'USD'</span>):
        <span class="cm">"""Fetch live rates — cache 1 hour"""</span>
        now = datetime.now()
        <span class="kw">if</span> (self.cache_time <span class="kw">and</span>
            now - self.cache_time &lt; self.cache_duration):
            <span class="kw">return</span> self.rates_cache

        <span class="cm"># Approximate static rates (replace with live API)</span>
        self.rates_cache = {
            <span class="str">'USD'</span>: <span class="num">1.0</span>,
            <span class="str">'PKR'</span>: <span class="num">278.50</span>,
            <span class="str">'INR'</span>: <span class="num">83.12</span>,
            <span class="str">'EUR'</span>: <span class="num">0.92</span>,
            <span class="str">'GBP'</span>: <span class="num">0.79</span>,
            <span class="str">'AED'</span>: <span class="num">3.67</span>,
            <span class="str">'SAR'</span>: <span class="num">3.75</span>,
            <span class="str">'CAD'</span>: <span class="num">1.36</span>
        }
        self.cache_time = now
        <span class="kw">return</span> self.rates_cache

    <span class="kw">def</span> <span class="fn">convert</span>(self, amount, from_currency, to_currency):
        rates = self.get_exchange_rates()
        usd_amount = amount / rates.get(from_currency, <span class="num">1</span>)
        <span class="kw">return</span> usd_amount * rates.get(to_currency, <span class="num">1</span>)

    <span class="kw">def</span> <span class="fn">format_price</span>(self, amount, currency):
        symbols = {<span class="str">'USD'</span>:<span class="str">'$'</span>,<span class="str">'PKR'</span>:<span class="str">'₨'</span>,<span class="str">'INR'</span>:<span class="str">'₹'</span>,
                   <span class="str">'EUR'</span>:<span class="str">'€'</span>,<span class="str">'GBP'</span>:<span class="str">'£'</span>,<span class="str">'AED'</span>:<span class="str">'د.إ'</span>,
                   <span class="str">'SAR'</span>:<span class="str">'﷼'</span>, <span class="str">'CAD'</span>:<span class="str">'C$'</span>}
        symbol = symbols.get(currency, currency)
        <span class="kw">return</span> f<span class="str">"{symbol}{amount:,.2f}"</span>

converter = <span class="fn">CurrencyConverter</span>()</pre>
   </div>
  </div>

  <!-- ===== DOCS TAB ===== -->
  <div id="mb-docs" class="mb-page">

   <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:24px;margin-bottom:18px">
    <h3 style="font-family:'Syne',sans-serif;font-weight:800;font-size:1.05rem;margin-bottom:20px">🚀 How the Bot Works — Step by Step</h3>
    <div class="mb-workflow-steps">
     <div class="mb-step"><div class="mb-step-num">1</div><div><div class="mb-step-title">User Opens Messenger</div><div class="mb-step-desc">Facebook sends GET_STARTED postback → Bot shows currency selection with quick replies (PKR, USD, INR, EUR, GBP, AED...)</div></div></div>
     <div class="mb-step"><div class="mb-step-num">2</div><div><div class="mb-step-title">Currency Selected</div><div class="mb-step-desc">user_currencies[user_id] = 'PKR' stored in memory. Bot confirms: "✅ Currency set to Pakistani Rupee (₨PKR)" then shows sample prices.</div></div></div>
     <div class="mb-step"><div class="mb-step-num">3</div><div><div class="mb-step-title">Product Catalog</div><div class="mb-step-desc">Products fetched with USD base prices. converter.convert(99, 'USD', 'PKR') → ₨27,572. Shown in Messenger carousel with local price buttons.</div></div></div>
     <div class="mb-step"><div class="mb-step-num">4</div><div><div class="mb-step-title">Checkout Flow</div><div class="mb-step-desc">User sees local price + USD equivalent + live exchange rate. Order stored with both amounts. User confirms or changes currency.</div></div></div>
     <div class="mb-step"><div class="mb-step-num">5</div><div><div class="mb-step-title">Meta Pay Processing</div><div class="mb-step-desc">Meta Pay only accepts USD — bot converts back: local → USD. User sees their local price but payment processed in USD via Facebook Commerce API.</div></div></div>
     <div class="mb-step"><div class="mb-step-num">6</div><div><div class="mb-step-title">Receipt + Confirmation</div><div class="mb-step-desc">Success! Order receipt shows local currency amount + USD equivalent + timestamp. WhatsApp support link included.</div></div></div>
    </div>
   </div>

   <!-- Environment Variables -->
   <div class="mb-code-wrap">
    <div class="mb-code-header">
     <span class="mb-code-title">🔐 Environment Variables (.env)</span>
     <button class="mb-code-btn" onclick="mbCopyCode('mb-code-env',this)">📋 Copy</button>
    </div>
    <pre class="mb-code" id="mb-code-env"><span class="cm"># Facebook / Meta</span>
<span class="dec">MESSENGER_PAGE_ACCESS_TOKEN</span>=EAAxxxxx...
<span class="dec">MESSENGER_VERIFY_TOKEN</span>=your_verify_token
<span class="dec">MESSENGER_APP_SECRET</span>=your_app_secret
<span class="dec">COMMERCE_ACCOUNT_ID</span>=your_commerce_id

<span class="cm"># OpenAI</span>
<span class="dec">OPENAI_API_KEY</span>=sk-xxxxx...

<span class="cm"># Optional: Live Exchange Rate API</span>
<span class="dec">EXCHANGE_RATE_API_KEY</span>=your_rate_api_key

<span class="cm"># Google Cloud</span>
<span class="dec">GOOGLE_CLOUD_PROJECT</span>=your-gcp-project

<span class="cm"># App</span>
<span class="dec">PORT</span>=8080
<span class="dec">DEFAULT_CURRENCY</span>=USD</pre>
   </div>

   <!-- Links -->
   <div style="background:linear-gradient(135deg,rgba(24,119,242,0.08),rgba(99,102,241,0.06));border:1px solid rgba(24,119,242,0.2);border-radius:16px;padding:22px;margin-top:18px">
    <h3 style="font-family:'Syne',sans-serif;font-weight:800;margin-bottom:14px">🔗 Platform Links</h3>
    <div style="display:flex;flex-direction:column;gap:10px">
     <a href="https://nexus-ultra-platforms.com" target="_blank" style="display:flex;align-items:center;gap:10px;color:var(--accent);text-decoration:none;font-weight:700"><span style="font-size:1.1rem">🌐</span>nexus-ultra-platforms.com — Full Platform</a>
     <a href="https://wa.me/923408060167" target="_blank" style="display:flex;align-items:center;gap:10px;color:var(--accent3);text-decoration:none;font-weight:700"><span style="font-size:1.1rem">💬</span>WhatsApp: +92 340 8060167</a>
     <a href="mailto:nisarllc206@gmail.com" style="display:flex;align-items:center;gap:10px;color:var(--accent);text-decoration:none;font-weight:700"><span style="font-size:1.1rem">📧</span>nisarllc206@gmail.com</a>
    </div>
   </div>

  </div>

 </div><!-- end mb-wrap -->
</section>

<!-- ===== AI AUTOMATION STUDIO SECTION ===== -->
<section id="automation-studio-section">
 <div class="as-wrap">

  <!-- Header -->
  <div class="as-header">
   <div class="as-logo">
    <div class="as-logo-icon">⚡</div>
    <div>
     <div class="as-logo-title">Claude's Automation Studio</div>
     <div class="as-logo-sub">AI-Powered Full Stack Platform — nexus-ultra-platforms.com</div>
    </div>
   </div>
   <a href="https://wa.me/923408060167" target="_blank" class="as-wa-btn">
    💬 WhatsApp: +92 340 8060167
   </a>
  </div>

  <!-- 3D Logo Banner -->
  <div class="as-logo-3d-wrap">
   <div class="as-logo-3d-inner" id="as-logo-inner">
    <div class="as-grid-floor"></div>
    <div class="as-scanlines"></div>
    <div class="as-glow-ring"></div>
    <span class="as-badge tl">NEXUS ULTRA<br>PLATFORM v4.2</span>
    <span class="as-badge tr">SYS ACTIVE<br>NODE: 0x4FE2</span>
    <span class="as-badge bl">© 2025 NEXUS CORP<br>ALL RIGHTS RESERVED</span>
    <span class="as-badge br">ULTRA ENGINE<br>BUILD 2025.02</span>
    <canvas id="as-logo-canvas" width="440" height="320"></canvas>
    <div class="as-brand-text">
     <div class="as-brand-name">NEXUS ULTRA</div>
     <div class="as-brand-sub">Next Generation AI Platform</div>
     <div class="as-deco-line">
      <span></span><div class="as-deco-dot"></div><span></span>
     </div>
    </div>
   </div>
  </div>

  <!-- Studio Nav Tabs -->
  <div class="as-nav">
   <button class="as-tab active" onclick="asSwitch('as-dashboard',this)">📊 Dashboard</button>
   <button class="as-tab" onclick="asSwitch('as-workflows',this)">⚡ Workflows</button>
   <button class="as-tab" onclick="asSwitch('as-aitools',this)">🤖 AI Tools</button>
   <button class="as-tab" onclick="asSwitch('as-playground',this)">▶️ Playground</button>
  </div>

  <!-- DASHBOARD PAGE -->
  <div id="as-dashboard" class="as-page active">
   <!-- Live Stats -->
   <div class="as-stats">
    <div class="as-stat">
     <div class="as-stat-icon">⚡</div>
     <div><div class="as-stat-num" id="as-totalAuto">0</div><div class="as-stat-label">Total Automations</div></div>
    </div>
    <div class="as-stat">
     <div class="as-stat-icon">🔄</div>
     <div><div class="as-stat-num" id="as-activeWf">0</div><div class="as-stat-label">Active Workflows</div></div>
    </div>
    <div class="as-stat">
     <div class="as-stat-icon">☁️</div>
     <div><div class="as-stat-num" style="color:#7c3aed">Online</div><div class="as-stat-label">Cloud Status</div></div>
    </div>
    <div class="as-stat">
     <div class="as-stat-icon">📈</div>
     <div><div class="as-stat-num" id="as-aiProc" style="color:var(--accent4)">0%</div><div class="as-stat-label">AI Processing</div></div>
    </div>
   </div>

   <!-- Charts -->
   <div class="as-charts">
    <div class="as-card">
     <h3>📊 Weekly Performance</h3>
     <canvas id="as-perf-chart" class="as-chart-canvas"></canvas>
    </div>
    <div class="as-card">
     <h3>🌐 Platform Distribution</h3>
     <canvas id="as-platform-chart" class="as-chart-canvas"></canvas>
    </div>
   </div>
  </div>

  <!-- WORKFLOWS PAGE -->
  <div id="as-workflows" class="as-page">
   <div class="as-card">
    <h3>⚡ Active Workflows</h3>
    <div id="as-workflow-list">
     <div class="as-workflow-item">
      <div class="as-workflow-left"><div class="as-workflow-icon">🛍️</div><div><div class="as-workflow-name">Shopify Order Sync</div><div class="as-workflow-plat">Shopify Integration</div></div></div>
      <div class="as-workflow-right"><div class="as-workflow-execs"><div class="as-workflow-execs-num">1,240</div><div class="as-workflow-execs-label">Executions</div></div><span class="as-running-badge"><span class="as-running-dot"></span>running</span></div>
     </div>
     <div class="as-workflow-item">
      <div class="as-workflow-left"><div class="as-workflow-icon">📘</div><div><div class="as-workflow-name">Facebook Ad Optimizer</div><div class="as-workflow-plat">Facebook Integration</div></div></div>
      <div class="as-workflow-right"><div class="as-workflow-execs"><div class="as-workflow-execs-num">856</div><div class="as-workflow-execs-label">Executions</div></div><span class="as-running-badge"><span class="as-running-dot"></span>running</span></div>
     </div>
     <div class="as-workflow-item">
      <div class="as-workflow-left"><div class="as-workflow-icon">🐙</div><div><div class="as-workflow-name">GitHub CI/CD Pipeline</div><div class="as-workflow-plat">GitHub Integration</div></div></div>
      <div class="as-workflow-right"><div class="as-workflow-execs"><div class="as-workflow-execs-num">432</div><div class="as-workflow-execs-label">Executions</div></div><span class="as-running-badge"><span class="as-running-dot"></span>running</span></div>
     </div>
     <div class="as-workflow-item">
      <div class="as-workflow-left"><div class="as-workflow-icon">📊</div><div><div class="as-workflow-name">Google Analytics Sync</div><div class="as-workflow-plat">Google Integration</div></div></div>
      <div class="as-workflow-right"><div class="as-workflow-execs"><div class="as-workflow-execs-num">2,105</div><div class="as-workflow-execs-label">Executions</div></div><span class="as-running-badge"><span class="as-running-dot"></span>running</span></div>
     </div>
    </div>
   </div>
  </div>

  <!-- AI TOOLS PAGE -->
  <div id="as-aitools" class="as-page">
   <div class="as-tools-grid">
    <div class="as-tool-card">
     <div class="as-tool-head">
      <div style="display:flex;align-items:center;gap:12px"><div class="as-tool-icon-wrap">💬</div><div><div class="as-tool-name">Natural Language Processing</div><div class="as-tool-sub">AI-Powered Automation</div></div></div>
      <span class="as-running-badge"><span class="as-running-dot"></span>active</span>
     </div>
     <button class="as-tool-configure" onclick="showToast('🤖 NLP Tool configured!')">⚙️ Configure Tool</button>
    </div>
    <div class="as-tool-card">
     <div class="as-tool-head">
      <div style="display:flex;align-items:center;gap:12px"><div class="as-tool-icon-wrap">🖼️</div><div><div class="as-tool-name">Image Processing</div><div class="as-tool-sub">AI-Powered Automation</div></div></div>
      <span class="as-running-badge"><span class="as-running-dot"></span>active</span>
     </div>
     <button class="as-tool-configure" onclick="showToast('🖼️ Image Tool configured!')">⚙️ Configure Tool</button>
    </div>
    <div class="as-tool-card">
     <div class="as-tool-head">
      <div style="display:flex;align-items:center;gap:12px"><div class="as-tool-icon-wrap">📈</div><div><div class="as-tool-name">Predictive Analytics</div><div class="as-tool-sub">AI-Powered Automation</div></div></div>
      <span class="as-running-badge"><span class="as-running-dot"></span>active</span>
     </div>
     <button class="as-tool-configure" onclick="showToast('📈 Analytics Tool configured!')">⚙️ Configure Tool</button>
    </div>
    <div class="as-tool-card">
     <div class="as-tool-head">
      <div style="display:flex;align-items:center;gap:12px"><div class="as-tool-icon-wrap">⚡</div><div><div class="as-tool-name">Workflow Automation</div><div class="as-tool-sub">AI-Powered Automation</div></div></div>
      <span class="as-running-badge"><span class="as-running-dot"></span>active</span>
     </div>
     <button class="as-tool-configure" onclick="showToast('⚡ Workflow Tool configured!')">⚙️ Configure Tool</button>
    </div>
   </div>
  </div>

  <!-- PLAYGROUND PAGE -->
  <div id="as-playground" class="as-page">
   <div class="as-card">
    <h3>▶️ AI Playground</h3>
    <div class="as-playground">
     <div>
      <label class="as-play-label">🤖 Select AI Model</label>
      <select class="as-play-select" id="as-model-select">
       <option>GPT-4 Turbo</option>
       <option selected>Claude Sonnet 4.5</option>
       <option>Gemini Pro</option>
       <option>Claude Opus 4</option>
      </select>
      <label class="as-play-label">✍️ Input Prompt</label>
      <textarea class="as-play-textarea" id="as-prompt-input" placeholder="Enter your automation prompt here...&#10;&#10;Example: Create a workflow that syncs Shopify orders to Google Sheets every hour and sends a Slack notification..."></textarea>
      <button class="as-generate-btn" onclick="asGeneratePlayground()">⚡ Generate Response</button>
     </div>
     <div>
      <label class="as-play-label">📤 Output</label>
      <div class="as-output-box" id="as-output-box">AI response will appear here...

Select a model, enter your prompt and click Generate Response to see Claude's Automation Studio in action.</div>
     </div>
    </div>
   </div>
  </div>

  <!-- Footer Info Strip -->
  <div class="as-footer-strip">
   <div class="as-footer-col">
    <h4>🛠️ Tech Stack</h4>
    <ul>
     <li>Frontend: React.js / Next.js</li>
     <li>Backend: Node.js / Express.js</li>
     <li>Database: MongoDB / PostgreSQL</li>
     <li>Cloud: AWS / Digital Ocean</li>
    </ul>
   </div>
   <div class="as-footer-col">
    <h4>🔗 Integrations</h4>
    <ul>
     <li>GitHub Actions CI/CD</li>
     <li>Shopify API</li>
     <li>Facebook Graph API</li>
     <li>Google Cloud Platform</li>
    </ul>
   </div>
   <div class="as-footer-col">
    <h4>📞 Contact</h4>
    <ul>
     <li><a href="https://wa.me/923408060167" target="_blank" style="color:var(--accent3);text-decoration:none">💬 WhatsApp: +92 340 8060167</a></li>
     <li><a href="/cdn-cgi/l/email-protection#422c2b3123302e2e2170727402252f232b2e6c212d2f" style="color:var(--accent);text-decoration:none">📧 <span class="__cf_email__" data-cfemail="4927203a283b25252a7b797f092e24282025672a2624">[email&#160;protected]</span></a></li>
     <li><a href="https://nexus-ultra-platforms.com" target="_blank" style="color:var(--accent);text-decoration:none">🌐 nexus-ultra-platforms.com</a></li>
    </ul>
   </div>
  </div>

 </div><!-- end as-wrap -->
</section>

<!-- ===== RANANISAR AI PORTFOLIO SECTION ===== -->
<section id="portfolio-section">
  <div class="text-center" style="max-width:700px;margin:0 auto 32px">
    <div class="section-tag">🧠 Rananisar AI Studio</div>
    <h2 class="section-title">مکمل <span style="color:var(--accent)">AI Portfolio</span></h2>
    <div class="sep center"></div>
    <p style="color:var(--muted)">AI سے پیسے کمانے کا مکمل حل — Freelancing، Affiliate، Tools اور بہت کچھ</p>
  </div>

  <!-- Portfolio Sub-Nav -->
  <div class="pf-nav">
    <button class="pf-tab active" onclick="pfSwitch('pf-home',this)">🏠 ہوم</button>
    <button class="pf-tab" onclick="pfSwitch('pf-tools',this)">🛠️ ٹولز</button>
    <button class="pf-tab" onclick="pfSwitch('pf-freelancing',this)">💼 Freelancing</button>
    <button class="pf-tab" onclick="pfSwitch('pf-portfolio',this)">🎨 Portfolio</button>
    <button class="pf-tab" onclick="pfSwitch('pf-affiliate',this)">🔗 Affiliate</button>
    <button class="pf-tab" onclick="pfSwitch('pf-contact',this)">📞 رابطہ</button>
  </div>

  <!-- ===== PF HOME ===== -->
  <div id="pf-home" class="pf-page active">
    <!-- Hero -->
    <div class="pf-hero">
      <div class="pf-hero-avatar">🧠</div>
      <h1>Rananisar AI Studio</h1>
      <p>AI سے پیسے کمانے کا مکمل پلیٹ فارم — آپ کا ڈیجیٹل مستقبل یہاں سے شروع ہوتا ہے</p>
      <div class="pf-hero-tags">
        <span class="pf-tag">🤖 AI Expert</span>
        <span class="pf-tag">💼 Freelancer</span>
        <span class="pf-tag">🔗 Affiliate Marketer</span>
        <span class="pf-tag">🎬 Content Creator</span>
      </div>
      <div class="pf-hero-btns">
        <button class="pf-btn-primary" onclick="pfSwitch('pf-tools',document.querySelectorAll('.pf-tab')[1])">🛠️ ٹولز استعمال کریں</button>
        <button class="pf-btn-secondary" onclick="pfSwitch('pf-affiliate',document.querySelectorAll('.pf-tab')[4])">🔗 Affiliate بنیں</button>
      </div>
    </div>

    <!-- Stats -->
    <div class="pf-stats">
      <div class="pf-stat-card"><div class="pf-stat-num">1000+</div><div class="pf-stat-label">صارفین</div></div>
      <div class="pf-stat-card"><div class="pf-stat-num">₹1M+</div><div class="pf-stat-label">کل کمائی</div></div>
      <div class="pf-stat-card"><div class="pf-stat-num">50+</div><div class="pf-stat-label">Tools & Services</div></div>
      <div class="pf-stat-card"><div class="pf-stat-num">24/7</div><div class="pf-stat-label">سپورٹ</div></div>
    </div>

    <!-- Features -->
    <div class="pf-section-head">
      <h2>🌟 خصوصیات</h2>
      <div class="pf-divider"></div>
    </div>
    <div class="pf-features">
      <div class="pf-feat"><span class="pf-feat-icon">🎬</span><div class="pf-feat-title">ویڈیو جنریٹر</div><div class="pf-feat-desc">ایک منٹ میں خوبصورت ویڈیوں بنائیں اور YouTube پر اپ لوڈ کریں</div></div>
      <div class="pf-feat"><span class="pf-feat-icon">📝</span><div class="pf-feat-title">Claude AI Content</div><div class="pf-feat-desc">متن لکھوائیں، articles بنائیں اور Fiverr پر فروخت کریں</div></div>
      <div class="pf-feat"><span class="pf-feat-icon">🎨</span><div class="pf-feat-title">تصویریں بنائیں</div><div class="pf-feat-desc">DALL-E اور Midjourney سے خوبصورت تصاویر بنائیں</div></div>
      <div class="pf-feat"><span class="pf-feat-icon">💼</span><div class="pf-feat-title">Freelancing</div><div class="pf-feat-desc">Fiverr اور Upwork پر AI skills بیچ کر ماہانہ ₹50,000+ کمائیں</div></div>
      <div class="pf-feat"><span class="pf-feat-icon">🔗</span><div class="pf-feat-title">Affiliate Marketing</div><div class="pf-feat-desc">Claude کو promote کر کے 30% recurring commission کمائیں</div></div>
      <div class="pf-feat"><span class="pf-feat-icon">📊</span><div class="pf-feat-title">مکمل گائیڈز</div><div class="pf-feat-desc">شروع سے آخر تک تمام معلومات، step-by-step tutorials</div></div>
    </div>

    <div class="pf-highlight">
      <h3>💡 کہاں سے شروع کریں؟</h3>
      <p>اوپر دیے گئے tabs سے اپنی پسند کا section منتخب کریں اور فوری طور پر کام شروع کریں! ٹولز سے شروع کریں، پھر Freelancing اور Affiliate marketing تک آئیں۔</p>
    </div>
  </div>

  <!-- ===== PF TOOLS ===== -->
  <div id="pf-tools" class="pf-page">
    <div class="pf-section-head">
      <h2>🛠️ AI ٹولز</h2>
      <p>ان طاقتور AI tools سے اپنا کام شروع کریں</p>
      <div class="pf-divider"></div>
    </div>

    <!-- Tool category tabs -->
    <div style="display:flex;gap:8px;margin-bottom:20px;flex-wrap:wrap">
      <button class="pf-tab active" id="ptab-1" onclick="pfToolSwitch('pt-vgen',this)" style="font-size:0.8rem;padding:7px 14px">🎬 ویڈیو جنریٹر</button>
      <button class="pf-tab" id="ptab-2" onclick="pfToolSwitch('pt-cgen',this)" style="font-size:0.8rem;padding:7px 14px">📝 Content Generator</button>
      <button class="pf-tab" id="ptab-3" onclick="pfToolSwitch('pt-task',this)" style="font-size:0.8rem;padding:7px 14px">✅ Task Tracker</button>
    </div>

    <!-- Video Generator Tool -->
    <div id="pt-vgen" class="pf-page active">
      <div class="pf-section-head"><h2>📹 AI ویڈیو جنریٹر</h2><p>اپنا ویڈیو script لکھیں اور animated video بنائیں</p></div>
      <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:24px;margin-bottom:20px">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:16px">
          <div>
            <label style="font-size:0.8rem;color:var(--muted);display:block;margin-bottom:6px;font-weight:600">ویڈیو عنوان</label>
            <input class="inp" id="pf-vid-title" placeholder="مثال: AI سے پیسے کمانے کے 5 طریقے">
          </div>
          <div>
            <label style="font-size:0.8rem;color:var(--muted);display:block;margin-bottom:6px;font-weight:600">ویڈیو قسم</label>
            <select class="inp" id="pf-vid-type">
              <option>YouTube Tutorial</option>
              <option>TikTok Short</option>
              <option>Product Review</option>
              <option>Educational</option>
              <option>Marketing Video</option>
            </select>
          </div>
        </div>
        <textarea class="inp" id="pf-vid-script" placeholder="اپنا ویڈیو content یا topic یہاں لکھیں..." rows="4"></textarea>
        <select class="inp" id="pf-vid-lang">
          <option value="ur">اردو</option>
          <option value="en">English</option>
          <option value="mixed">Mixed (Urdu + English)</option>
        </select>
        <button class="gen-btn" onclick="pfGenerateVideo()">🎬 ویڈیو اسکرپٹ بنائیں</button>
        <div class="progress-bar" id="pb-pfvid" style="margin-top:12px"><div class="progress-fill"></div></div>
        <div class="output-area" id="out-pfvid" style="font-family:'Segoe UI',sans-serif;direction:rtl;text-align:right;unicode-bidi:bidi-override"></div>
      </div>
      <div class="pf-highlight"><h3>💡 نوٹ:</h3><p>اسکرپٹ بنائیں، پھر NEXUS ULTRA کے Video Generator سے مکمل production plan لیں!</p></div>
    </div>

    <!-- Content Generator -->
    <div id="pt-cgen" class="pf-page">
      <div class="pf-section-head"><h2>📝 Claude Content Generator</h2><p>AI سے مواد بنوائیں اور فروخت کریں</p></div>
      <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:24px;margin-bottom:20px">
        <select class="inp" id="pf-content-type">
          <option>مضمون (Article)</option>
          <option>سوشل میڈیا پوسٹس</option>
          <option>ای میل سیریز</option>
          <option>پروڈکٹ ڈسکرپشن</option>
          <option>SEO Blog</option>
          <option>کہانی / Story</option>
        </select>
        <input class="inp" id="pf-content-topic" placeholder="موضوع لکھیں... مثال: AI سے کمائی">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
          <select class="inp" id="pf-content-lang">
            <option>اردو</option><option>English</option><option>Mixed</option>
          </select>
          <select class="inp" id="pf-content-len">
            <option>مختصر (300 الفاظ)</option>
            <option>درمیانہ (600 الفاظ)</option>
            <option>طویل (1200 الفاظ)</option>
          </select>
        </div>
        <button class="gen-btn" onclick="pfGenerateContent()">📝 مواد بنائیں</button>
        <div class="progress-bar" id="pb-pfcont"><div class="progress-fill"></div></div>
        <div class="output-area" id="out-pfcont" style="direction:rtl;text-align:right"></div>
      </div>
      <div class="pf-highlight"><h3>💡 کمائی کا طریقہ:</h3><p>یہ مواد بنائیں اور Fiverr / Upwork پر ₹500-5000 میں فروخت کریں!</p></div>
    </div>

    <!-- Task Tracker -->
    <div id="pt-task" class="pf-page">
      <div class="pf-section-head"><h2>✅ Task Tracker</h2><p>اپنے تمام freelancing کام کو منظم رکھیں</p></div>
      <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:24px">
        <div style="display:flex;gap:10px;margin-bottom:16px">
          <input class="inp" id="pf-task-input" placeholder="نیا کام شامل کریں..." style="margin-bottom:0;flex:1">
          <select class="inp" id="pf-task-pri" style="margin-bottom:0;max-width:130px">
            <option value="high">🔴 ضروری</option>
            <option value="med" selected>🟡 درمیانہ</option>
            <option value="low">🟢 عام</option>
          </select>
          <button class="db-btn db-btn-primary" onclick="pfAddTask()" style="flex-shrink:0;padding:10px 18px">+ شامل</button>
        </div>
        <div id="pf-task-list" style="max-height:340px;overflow-y:auto"></div>
      </div>
    </div>
  </div>

  <!-- ===== PF FREELANCING ===== -->
  <div id="pf-freelancing" class="pf-page">
    <div class="pf-section-head">
      <h2>💼 Freelancing سروسز</h2>
      <p>Claude AI استعمال کر کے Fiverr اور Upwork پر خدمات فراہم کریں</p>
      <div class="pf-divider"></div>
    </div>
    <div class="pf-services">
      <div class="pf-service"><span class="pf-service-icon">📝</span><h3>Content Writing</h3><p>500-2000 الفاظ کے مضامین، blogs، articles</p><div class="pf-service-price">₹500–1,000</div><span class="pf-badge pf-badge-blue">مقبول</span></div>
      <div class="pf-service"><span class="pf-service-icon">✉️</span><h3>Email Copywriting</h3><p>5-email series، sales emails، newsletters</p><div class="pf-service-price">₹1,000–2,000</div><span class="pf-badge pf-badge-gold">High Rate</span></div>
      <div class="pf-service"><span class="pf-service-icon">📱</span><h3>Social Media Posts</h3><p>10 viral posts، captions، hashtag strategy</p><div class="pf-service-price">₹1,000–3,000</div><span class="pf-badge pf-badge-green">Trending</span></div>
      <div class="pf-service"><span class="pf-service-icon">🤖</span><h3>AI Prompting</h3><p>Custom prompt writing، Midjourney، ChatGPT</p><div class="pf-service-price">₹2,000–5,000</div><span class="pf-badge pf-badge-blue">Advanced</span></div>
      <div class="pf-service"><span class="pf-service-icon">🎓</span><h3>Course Content</h3><p>10-20 lessons، slides، scripts، quizzes</p><div class="pf-service-price">₹5,000–15,000</div><span class="pf-badge pf-badge-red">Premium</span></div>
      <div class="pf-service"><span class="pf-service-icon">🛠️</span><h3>AI Tool Building</h3><p>Custom AI tools، chatbots، automation</p><div class="pf-service-price">₹10,000–50,000</div><span class="pf-badge pf-badge-red">Expert</span></div>
    </div>
    <div class="pf-start-box">
      <h3>🚀 ابھی شروع کریں</h3>
      <p style="color:var(--muted);font-size:0.88rem">ان platforms پر اپنی profile بنائیں اور AI services offer کریں:</p>
      <div class="pf-platform-btns">
        <a href="https://fiverr.com" target="_blank" class="pf-platform-btn">🟢 Fiverr پر جائیں</a>
        <a href="https://upwork.com" target="_blank" class="pf-platform-btn">🔵 Upwork پر جائیں</a>
        <a href="https://freelancer.com" target="_blank" class="pf-platform-btn">🟠 Freelancer.com</a>
      </div>
    </div>
  </div>

  <!-- ===== PF PORTFOLIO ===== -->
  <div id="pf-portfolio" class="pf-page">
    <div class="pf-section-head">
      <h2>🎨 کامیاب منصوبے</h2>
      <p>ہمارے مکمل کیے گئے projects اور achievements</p>
      <div class="pf-divider"></div>
    </div>
    <div class="pf-portfolio-grid">
      <div class="pf-portfolio-item" onclick="showToast('🧠 AI Studio — Rananisar ka flagship project!')"><span class="pf-portfolio-icon">🧠</span><h3>AI Studio</h3><p>مکمل AI solution platform</p><span class="pf-badge pf-badge-blue">Best Project</span></div>
      <div class="pf-portfolio-item" onclick="showToast('🎬 Video Creator — 1000+ videos generated!')"><span class="pf-portfolio-icon">🎬</span><h3>Video Creator</h3><p>خودکار ویڈیو generator</p><span class="pf-badge pf-badge-green">Popular</span></div>
      <div class="pf-portfolio-item" onclick="showToast('📚 Content Hub — 1000+ articles written!')"><span class="pf-portfolio-icon">📚</span><h3>Content Hub</h3><p>1000+ AI-written articles</p><span class="pf-badge pf-badge-gold">Large Scale</span></div>
      <div class="pf-portfolio-item" onclick="showToast('💼 Business Solutions — 50+ happy clients!')"><span class="pf-portfolio-icon">💼</span><h3>Business Solutions</h3><p>50+ satisfied clients</p><span class="pf-badge pf-badge-blue">Trusted</span></div>
      <div class="pf-portfolio-item" onclick="showToast('🎓 Learning Platform — 100+ courses!')"><span class="pf-portfolio-icon">🎓</span><h3>Learning Platform</h3><p>100+ AI courses created</p><span class="pf-badge pf-badge-green">Growing</span></div>
      <div class="pf-portfolio-item" onclick="showToast('🌟 1000+ earners — Success stories!')"><span class="pf-portfolio-icon">🌟</span><h3>Success Stories</h3><p>1000+ کامیاب earners</p><span class="pf-badge pf-badge-gold">Amazing</span></div>
    </div>
    <div class="pf-stats" style="margin-top:10px">
      <div class="pf-stat-card"><div class="pf-stat-num">6</div><div class="pf-stat-label">Major Projects</div></div>
      <div class="pf-stat-card"><div class="pf-stat-num">50+</div><div class="pf-stat-label">Clients Served</div></div>
      <div class="pf-stat-card"><div class="pf-stat-num">1000+</div><div class="pf-stat-label">Users Helped</div></div>
      <div class="pf-stat-card"><div class="pf-stat-num">⭐ 4.9</div><div class="pf-stat-label">Rating</div></div>
    </div>
  </div>

  <!-- ===== PF AFFILIATE ===== -->
  <div id="pf-affiliate" class="pf-page">
    <div class="pf-section-head">
      <h2>🔗 Claude Affiliate & Freelancing</h2>
      <p>Anthropic Claude کو promote کر کے recurring income کمائیں</p>
      <div class="pf-divider"></div>
    </div>
    <div class="pf-stats">
      <div class="pf-stat-card"><div class="pf-stat-num">30%</div><div class="pf-stat-label">Commission</div></div>
      <div class="pf-stat-card"><div class="pf-stat-num">500+</div><div class="pf-stat-label">Partners</div></div>
      <div class="pf-stat-card"><div class="pf-stat-num">₹10M</div><div class="pf-stat-label">Total Paid Out</div></div>
    </div>

    <div class="pf-section-head" style="margin-top:8px"><h2>💰 Affiliate Products</h2><div class="pf-divider"></div></div>
    <div class="pf-aff-grid">
      <div class="pf-aff-card"><h3>🤖 Claude Pro</h3><p>Personal AI assistant</p><div class="pf-aff-price">30% commission — $6/ماہ</div><button class="pf-copy-link" onclick="navigator.clipboard.writeText('https://claude.ai/ref/rananisar');showToast('📋 Claude Pro affiliate link copied!')">📋 Link کاپی</button></div>
      <div class="pf-aff-card"><h3>⚙️ Claude API</h3><p>Developer & business access</p><div class="pf-aff-price">25% commission — Variable</div><button class="pf-copy-link" onclick="navigator.clipboard.writeText('https://console.anthropic.com/ref/rananisar');showToast('📋 Claude API affiliate link copied!')">📋 Link کاپی</button></div>
      <div class="pf-aff-card"><h3>👥 Claude Teams</h3><p>Team collaboration plan</p><div class="pf-aff-price">35% commission — $30/seat</div><button class="pf-copy-link" onclick="navigator.clipboard.writeText('https://claude.ai/teams/ref/rananisar');showToast('📋 Claude Teams affiliate link copied!')">📋 Link کاپی</button></div>
    </div>

    <div class="pf-section-head"><h2>📊 ماہانہ کمائی کا منصوبہ</h2><div class="pf-divider"></div></div>
    <div style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:20px;overflow-x:auto">
      <table class="pf-earn-table">
        <tr><th>طریقہ</th><th>روزانہ</th><th>ماہانہ</th></tr>
        <tr><td>Freelancing (Content)</td><td>₹500–1,000</td><td>₹15,000–30,000</td></tr>
        <tr><td>Affiliate (Claude)</td><td>₹200–500</td><td>₹6,000–15,000</td></tr>
        <tr><td>AI Tools Selling</td><td>₹300–800</td><td>₹9,000–24,000</td></tr>
        <tr><td style="color:var(--accent4);font-weight:700">کل مجموعی</td><td style="color:var(--accent4);font-weight:700">₹1,000–2,300</td><td style="color:var(--accent4);font-weight:700">₹30,000–69,000</td></tr>
      </table>
    </div>
    <div class="pf-cta-box" style="margin-top:20px">
      <h2>🚀 ابھی شروع کریں!</h2>
      <p>ہزاروں لوگ پہلے سے AI سے ₹100,000+ ماہانہ کمائی کر رہے ہیں</p>
      <button class="pf-btn-primary" onclick="pfSwitch('pf-tools',document.querySelectorAll('.pf-tab')[1])">⚡ ٹولز سے شروع کریں</button>
    </div>
  </div>

  <!-- ===== PF CONTACT ===== -->
  <div id="pf-contact" class="pf-page">
    <div class="pf-section-head">
      <h2>📞 رابطہ کریں</h2>
      <p>کوئی بھی سوال؟ ہم سے رابطہ کریں!</p>
      <div class="pf-divider"></div>
    </div>
    <div class="pf-contact-grid">
      <div class="pf-contact-card"><span class="ci">📧</span><h3>ای میل</h3><a href="/cdn-cgi/l/email-protection#e28c8b9183908e8e81d0d2d4a2858f838b8ecc818d8f"><span class="__cf_email__" data-cfemail="deb0b7adbfacb2b2bdeceee89eb9b3bfb7b2f0bdb1b3">[email&#160;protected]</span></a></div>
      <div class="pf-contact-card"><span class="ci">📱</span><h3>فون / WhatsApp</h3><a href="https://wa.me/923001234567" target="_blank">+92 300 1234567</a></div>
      <div class="pf-contact-card"><span class="ci">🌐</span><h3>ویب سائٹ</h3><a href="https://nexus-ultra-platforms.com" target="_blank">nexus-ultra-platforms.com</a></div>
      <div class="pf-contact-card"><span class="ci">💬</span><h3>WhatsApp گروپ</h3><a href="https://wa.me/923001234567" target="_blank">گروپ میں شامل ہوں</a></div>
    </div>
    <div class="pf-cta-box">
      <h2>🎯 آج ہی شروع کریں!</h2>
      <p>ہزاروں لوگ پہلے سے AI سے ₹100,000+ ماہانہ کمائی کر رہے ہیں — آپ کی باری ہے!</p>
      <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:8px">
        <button class="pf-btn-primary" onclick="pfSwitch('pf-tools',document.querySelectorAll('.pf-tab')[1])">🚀 ابھی شروع کریں</button>
        <a href="https://wa.me/923001234567" target="_blank" class="pf-btn-secondary" style="text-decoration:none;display:inline-flex;align-items:center;gap:6px">💬 WhatsApp کریں</a>
      </div>
    </div>
  </div>
</section>

<!-- ===== VIDEO GENERATOR SECTION ===== -->
<section id="video-section">
  <div class="text-center" style="max-width:700px;margin:0 auto 40px">
    <div class="section-tag">🎬 Video Generator</div>
    <h2 class="section-title">AI <span style="color:var(--accent2)">Video Studio</span></h2>
    <div class="sep center"></div>
    <p style="color:var(--muted)">Watch how NEXUS ULTRA works — cinematic animated demo with full feature walkthrough.</p>
  </div>

  <!-- Scene tabs -->
  <div class="vscene-tabs">
    <div class="vscene-tab active" onclick="switchVideoScene(0,this)">🌟 Intro</div>
    <div class="vscene-tab" onclick="switchVideoScene(1,this)">🤖 AI Studio</div>
    <div class="vscene-tab" onclick="switchVideoScene(2,this)">🎮 Games</div>
    <div class="vscene-tab" onclick="switchVideoScene(3,this)">🛒 Store</div>
    <div class="vscene-tab" onclick="switchVideoScene(4,this)">💰 Affiliate</div>
    <div class="vscene-tab" onclick="switchVideoScene(5,this)">📊 Dashboard</div>
  </div>

  <!-- Video Player -->
  <div class="video-player-wrap">
    <div class="vp-titlebar">
      <div class="vp-dot" style="background:#f43f5e"></div>
      <div class="vp-dot" style="background:#f59e0b"></div>
      <div class="vp-dot" style="background:#10b981"></div>
      <div class="vp-url-bar">nexusultra.ai/demo — Cinematic Feature Tour</div>
      <span style="font-size:0.72rem;color:var(--accent);font-family:'Space Mono',monospace;letter-spacing:1px">● LIVE PREVIEW</span>
    </div>
    <div class="vp-canvas">
      <canvas id="videoCanvas"></canvas>
    </div>
    <div class="vp-controls">
      <button class="vp-play" id="vpPlayBtn" onclick="toggleVideoPlay()">▶</button>
      <div class="vp-progress" id="vpProgress" onclick="seekVideo(event)">
        <div class="vp-progress-fill" id="vpProgressFill"></div>
      </div>
      <div class="vp-time" id="vpTime">0:00 / 0:30</div>
      <button class="vp-vol" onclick="showToast('🔊 Sound: Platform is visual-only')">🔊</button>
      <button class="vp-full" onclick="showToast('⛶ Fullscreen mode activated!')">⛶</button>
    </div>
  </div>

  <!-- Video Info Cards -->
  <div class="video-info-grid">
    <div class="video-info-card">
      <span class="vic-icon">🎬</span>
      <div class="vic-title">10–20 Min Scripts</div>
      <div class="vic-desc">Generate full video scripts with hook, intro, segments, B-roll cues, and CTA — all structured perfectly.</div>
    </div>
    <div class="video-info-card">
      <span class="vic-icon">📺</span>
      <div class="vic-title">YouTube Ready</div>
      <div class="vic-desc">Optimized for YouTube, TikTok, Reels and Shorts. Includes keywords, timestamps, and description.</div>
    </div>
    <div class="video-info-card">
      <span class="vic-icon">🎙️</span>
      <div class="vic-title">Voiceover Script</div>
      <div class="vic-desc">Every scene comes with a ready-to-record voiceover script in natural conversational tone.</div>
    </div>
    <div class="video-info-card">
      <span class="vic-icon">🎵</span>
      <div class="vic-title">Music & B-Roll Cues</div>
      <div class="vic-desc">Suggested background music moods, stock footage keywords, and on-screen graphic ideas per segment.</div>
    </div>
  </div>
</section>

<!-- ===== PROMPT SAMPLES PAGE ===== -->
<section id="prompt-samples" style="background:var(--surface)">
  <div class="text-center" style="max-width:700px;margin:0 auto 10px">
    <div class="section-tag">✨ Prompt Library</div>
    <h2 class="section-title">100+ <span style="color:var(--accent4)">Ready Prompts</span></h2>
    <div class="sep center"></div>
    <p style="color:var(--muted);margin-bottom:32px">Copy & use instantly for ChatGPT, Midjourney, DALL-E, Claude and more AI tools.</p>
  </div>

  <!-- Stats -->
  <div class="ps-stats-row">
    <div class="ps-stat"><div class="ps-stat-num">100+</div><div class="ps-stat-label">Total Prompts</div></div>
    <div class="ps-stat"><div class="ps-stat-num" style="color:var(--accent3)">8</div><div class="ps-stat-label">Categories</div></div>
    <div class="ps-stat"><div class="ps-stat-num" style="color:var(--accent2)">Free</div><div class="ps-stat-label">Forever</div></div>
    <div class="ps-stat"><div class="ps-stat-num" style="color:var(--accent4)">1-Click</div><div class="ps-stat-label">Copy</div></div>
  </div>

  <!-- Search -->
  <div class="ps-search-wrap">
    <input class="ps-search" id="psSearch" placeholder="🔍  Search prompts... e.g. 'cyberpunk', 'sales copy', 'code'" oninput="filterPrompts()">
  </div>

  <!-- Category filter -->
  <div class="ps-category-bar">
    <div class="ps-cat active" onclick="filterByCategory('all',this)">🌟 All</div>
    <div class="ps-cat" onclick="filterByCategory('chatgpt',this)">🤖 ChatGPT</div>
    <div class="ps-cat" onclick="filterByCategory('image',this)">🎨 Image AI</div>
    <div class="ps-cat" onclick="filterByCategory('video',this)">🎬 Video</div>
    <div class="ps-cat" onclick="filterByCategory('marketing',this)">📊 Marketing</div>
    <div class="ps-cat" onclick="filterByCategory('code',this)">💻 Coding</div>
    <div class="ps-cat" onclick="filterByCategory('business',this)">💼 Business</div>
    <div class="ps-cat" onclick="filterByCategory('creative',this)">✍️ Creative</div>
  </div>

  <!-- Prompt Cards Grid -->
  <div class="ps-grid" id="psGrid"></div>
</section>

<!-- footer -->
<section id="dashboard-section">
  <div style="max-width:1200px;margin:0 auto">
    <div class="text-center" style="margin-bottom:32px">
      <div class="section-tag">📊 Project Dashboard</div>
      <h2 class="section-title">Full <span style="color:var(--accent)">Project Manager</span></h2>
      <div class="sep center"></div>
      <p style="color:var(--muted)">Track tasks, manage team, and visualize your project analytics.</p>
    </div>

    <!-- Dashboard Nav Tabs -->
    <div class="db-nav">
      <button class="db-tab active" onclick="dbSwitch('db-overview',this)">📊 Overview</button>
      <button class="db-tab" onclick="dbSwitch('db-tasks',this)">✅ Tasks</button>
      <button class="db-tab" onclick="dbSwitch('db-team',this)">👥 Team</button>
      <button class="db-tab" onclick="dbSwitch('db-analytics',this)">📈 Analytics</button>
    </div>

    <!-- OVERVIEW PAGE -->
    <div id="db-overview" class="db-page active">
      <div class="db-stats">
        <div class="db-stat"><div class="db-stat-icon">📋</div><div class="db-stat-num" id="db-totalTasks">0</div><div class="db-stat-label">Total Tasks</div></div>
        <div class="db-stat"><div class="db-stat-icon">✅</div><div class="db-stat-num" id="db-completedTasks">0</div><div class="db-stat-label">Completed</div></div>
        <div class="db-stat"><div class="db-stat-icon">⏳</div><div class="db-stat-num" id="db-inProgressTasks">0</div><div class="db-stat-label">In Progress</div></div>
        <div class="db-stat"><div class="db-stat-icon">👥</div><div class="db-stat-num" id="db-teamCount">0</div><div class="db-stat-label">Team Members</div></div>
      </div>

      <div class="db-card">
        <h3>📈 Overall Progress</h3>
        <div class="db-progress-bar"><div class="db-progress-fill" id="db-progressFill" style="width:0%"></div></div>
        <p style="text-align:center;margin-top:10px;font-weight:700;color:var(--accent)" id="db-progressText">0% Complete</p>
      </div>

      <div class="db-grid">
        <div class="db-card">
          <h3>🔥 Upcoming Deadlines</h3>
          <div id="db-upcomingDeadlines"><div class="db-empty">No upcoming deadlines</div></div>
        </div>
        <div class="db-card">
          <h3>⚡ Recent Activity</h3>
          <div id="db-recentActivity"><div class="db-empty">No recent activity yet</div></div>
        </div>
      </div>
    </div>

    <!-- TASKS PAGE -->
    <div id="db-tasks" class="db-page">
      <div class="db-card">
        <h3>➕ Task Management</h3>
        <button class="db-btn db-btn-primary" onclick="dbOpenModal()">➕ Create New Task</button>
      </div>
      <div class="db-card">
        <h3>🔍 Filter Tasks</h3>
        <div class="db-filter-row">
          <select class="db-inp" id="db-statusFilter" onchange="dbFilterTasks()">
            <option value="all">All Status</option>
            <option value="pending">Pending</option>
            <option value="progress">In Progress</option>
            <option value="completed">Completed</option>
          </select>
          <select class="db-inp" id="db-priorityFilter" onchange="dbFilterTasks()">
            <option value="all">All Priority</option>
            <option value="high">High</option>
            <option value="medium">Medium</option>
            <option value="low">Low</option>
          </select>
          <select class="db-inp" id="db-assigneeFilter" onchange="dbFilterTasks()">
            <option value="all">All Members</option>
          </select>
        </div>
      </div>
      <div class="db-card">
        <h3>📋 All Tasks</h3>
        <div id="db-taskList"><div class="db-empty">No tasks yet. Create your first task!</div></div>
      </div>
    </div>

    <!-- TEAM PAGE -->
    <div id="db-team" class="db-page">
      <div class="db-card">
        <h3>👤 Add Team Member</h3>
        <input class="db-inp" id="db-memberName" placeholder="Full Name">
        <input class="db-inp" id="db-memberEmail" placeholder="Email Address" type="email">
        <input class="db-inp" id="db-memberRole" placeholder="Role / Position">
        <button class="db-btn db-btn-primary" onclick="dbAddMember()">➕ Add Member</button>
      </div>
      <div class="db-card">
        <h3>👥 Team Members</h3>
        <div id="db-teamList"><div class="db-empty">No team members yet</div></div>
      </div>
    </div>

    <!-- ANALYTICS PAGE -->
    <div id="db-analytics" class="db-page">
      <div class="db-grid">
        <div class="db-card">
          <h3>🍩 Task Distribution</h3>
          <div class="chart-wrap"><canvas id="db-taskChart"></canvas></div>
        </div>
        <div class="db-card">
          <h3>📊 Priority Breakdown</h3>
          <div class="chart-wrap"><canvas id="db-priorityChart"></canvas></div>
        </div>
      </div>
      <div class="db-card">
        <h3>📉 Team Workload</h3>
        <div class="chart-wrap"><canvas id="db-workloadChart"></canvas></div>
      </div>
    </div>
  </div>
</section>

<!-- TASK MODAL -->
<div class="db-modal" id="db-modal">
  <div class="db-modal-box">
    <h2>➕ Create New Task</h2>
    <input class="db-inp" id="db-taskName" placeholder="Task Name *">
    <textarea class="db-inp" id="db-taskDesc" placeholder="Description" rows="3" style="resize:vertical"></textarea>
    <select class="db-inp" id="db-taskAssignee">
      <option value="">Select Assignee</option>
    </select>
    <input class="db-inp" id="db-taskDeadline" type="date">
    <select class="db-inp" id="db-taskPriority">
      <option value="low">🟢 Low Priority</option>
      <option value="medium" selected>🟡 Medium Priority</option>
      <option value="high">🔴 High Priority</option>
    </select>
    <select class="db-inp" id="db-taskStatus">
      <option value="pending">⏸ Pending</option>
      <option value="progress">🔄 In Progress</option>
      <option value="completed">✅ Completed</option>
    </select>
    <div style="display:flex;gap:12px;margin-top:4px">
      <button class="db-btn db-btn-primary" onclick="dbCreateTask()">✅ Create Task</button>
      <button class="db-btn db-btn-danger" onclick="dbCloseModal()">✖ Cancel</button>
    </div>
  </div>
</div>

<!-- footer -->
<footer>
  <div class="footer-grid">
    <div class="footer-brand">
      <a href="https://nexus-ultra-platforms.com" target="_blank" class="logo" style="text-decoration:none;display:inline-block;margin-bottom:12px">⚡ NEXUS ULTRA</a>
      <p>The world's most complete AI-powered digital platform. Build, create, market, and grow everything digital — completely free to start.</p>
      <div style="margin-top:16px;display:flex;flex-direction:column;gap:8px">
        <a href="/cdn-cgi/l/email-protection#6806011b091a04040b5a585e280f05090104460b0705" style="color:var(--accent);text-decoration:none;font-size:0.88rem;display:flex;align-items:center;gap:8px">
          <span style="background:rgba(99,102,241,0.15);border:1px solid rgba(99,102,241,0.25);border-radius:8px;padding:4px 10px;font-size:0.75rem;font-weight:700">📧</span>
          <span class="__cf_email__" data-cfemail="cca2a5bfadbea0a0affefcfa8caba1ada5a0e2afa3a1">[email&#160;protected]</span>
        </a>
        <a href="https://wa.me/923001234567" target="_blank" style="color:var(--accent3);text-decoration:none;font-size:0.88rem;display:flex;align-items:center;gap:8px">
          <span style="background:rgba(16,185,129,0.15);border:1px solid rgba(16,185,129,0.25);border-radius:8px;padding:4px 10px;font-size:0.75rem;font-weight:700">💬</span>
          WhatsApp / Contact
        </a>
      </div>
      <div class="social-row" style="margin-top:20px">
        <a class="social-link" href="#">🐦</a>
        <a class="social-link" href="#">📸</a>
        <a class="social-link" href="#">💼</a>
        <a class="social-link" href="#">▶️</a>
        <a class="social-link" href="#">🎵</a>
      </div>
    </div>
    <div class="footer-col">
      <h4>🤖 AI Tools</h4>
      <a href="#">Prompt Generator</a>
      <a href="#">Image Generator</a>
      <a href="#">Video Generator</a>
      <a href="#">Code Generator</a>
      <a href="#">SEO Writer</a>
      <a href="#">Copywriting AI</a>
    </div>
    <div class="footer-col">
      <h4>💼 Business</h4>
      <a href="#ecommerce">E-Commerce</a>
      <a href="nisar-affiliate-platform.html" target="_blank" style="color:#00ff88;font-weight:700">⚡ Affiliate Hub Platform</a>
      <a href="nisar-affiliate-platform.html" target="_blank">📱 Social Media Hub</a>
      <a href="#marketing">Email Marketing</a>
      <a href="nisar-affiliate-platform.html" target="_blank">📊 Analytics Dashboard</a>
      <a href="#pricing">Pricing Plans</a>
    </div>
    <div class="footer-col">
      <h4>📞 Contact</h4>
      <a href="/cdn-cgi/l/email-protection#e38d8a9082918f8f80d1d3d5a3848e828a8fcd808c8e">📧 <span class="__cf_email__" data-cfemail="96f8ffe5f7e4fafaf5a4a6a0d6f1fbf7fffab8f5f9fb">[email&#160;protected]</span></a>
      <a href="https://wa.me/923001234567" target="_blank">💬 WhatsApp</a>
      <a href="https://nexus-ultra-platforms.com" target="_blank">🌐 nexus-ultra-platforms.com</a>
      <a href="#">Privacy Policy</a>
      <a href="#">Terms of Service</a>
    </div>
  </div>
  <div class="footer-bottom">
    <div>© 2025 <a href="https://nexus-ultra-platforms.com" target="_blank" style="color:var(--accent);text-decoration:none;font-weight:700">nexus-ultra-platforms.com</a> · <span style="color:var(--accent);font-weight:700">Rananisar AI Studio</span> · <a href="/cdn-cgi/l/email-protection#d6b8bfa5b7a4babab5e4e6e096b1bbb7bfbaf8b5b9bb" style="color:var(--accent3);text-decoration:none"><span class="__cf_email__" data-cfemail="d6b8bfa5b7a4babab5e4e6e096b1bbb7bfbaf8b5b9bb">[email&#160;protected]</span></a></div>
    <div style="color:var(--accent);font-weight:600">Made with 🤖 AI Power</div>
  </div>
</footer>

<!-- CART BUTTON -->
<!-- FLOATING AFFILIATE HUB BUTTON -->
<a href="nisar-affiliate-platform.html" target="_blank" title="Open Affiliate & Social Media Hub" style="position:fixed;bottom:100px;right:30px;z-index:998;width:52px;height:52px;border-radius:50%;background:linear-gradient(135deg,#00ff88,#00a855);display:flex;align-items:center;justify-content:center;font-size:1.3rem;text-decoration:none;box-shadow:0 6px 24px rgba(0,255,136,.5);animation:affpulse 2.5s ease-in-out infinite;transition:transform .2s" onmouseover="this.style.transform='scale(1.15)'" onmouseout="this.style.transform='scale(1)'">⚡</a>
<style>@keyframes affpulse{0%,100%{box-shadow:0 6px 24px rgba(0,255,136,.5)}50%{box-shadow:0 6px 36px rgba(0,255,136,.8)}}</style>

<button class="cart-btn" onclick="showCart()">
  🛒
  <span class="cart-count" id="cart-count">0</span>
</button>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<!-- ===== API KEY FAB BUTTON ===== -->
<button id="api-key-fab" onclick="openApiModal()" title="Anthropic API Key">
  🔑
  <span class="fab-tooltip">Anthropic API Key</span>
  <span class="fab-indicator" id="fab-indicator"></span>
</button>

<!-- ===== API KEY MODAL ===== -->
<div id="api-key-modal">
  <div class="api-modal-box">
    <div class="api-modal-head">
      <div class="api-modal-icon">🔑</div>
      <div>
        <div class="api-modal-title">Anthropic API Key</div>
        <div class="api-modal-sub">Real Claude AI — all 7 generators powered live</div>
      </div>
      <button onclick="closeApiModal()" style="margin-left:auto;background:none;border:none;color:var(--muted);font-size:1.4rem;cursor:pointer;padding:4px 8px;line-height:1">✕</button>
    </div>

    <div class="api-info-box">
      <strong>🚀 Real AI Output:</strong> Add your Anthropic API key to get <strong>actual Claude AI responses</strong> in all 7 generators — Prompt, Image, Video, Tool Builder, Code, Copywriting & SEO.<br><br>
      🔒 <strong>100% Private:</strong> Key saved only in your browser localStorage. Never sent anywhere except directly to Anthropic's servers.<br><br>
      📖 Get your free key at: <a href="https://console.anthropic.com" target="_blank">console.anthropic.com</a> → API Keys
    </div>

    <div class="api-key-input-wrap">
      <input type="password" class="api-key-input" id="apiKeyInput" placeholder="sk-ant-api03-xxxxxxxxxxxxxxxx..." autocomplete="off" oninput="onApiKeyInput()" onkeydown="if(event.key==='Enter')saveApiKey()">
      <button class="api-key-toggle" id="apiKeyToggle" onclick="toggleApiKeyVisibility()">👁</button>
    </div>

    <div class="api-status-row">
      <span class="api-status-dot" id="apiStatusDot"></span>
      <span class="api-status-text" id="apiStatusText">No API key — using template output mode</span>
    </div>

    <div class="api-modal-btns">
      <button class="api-save-btn" onclick="saveApiKey()">💾 Save & Test Connection</button>
      <button class="api-clear-btn" onclick="clearApiKey()">🗑 Clear Key</button>
    </div>

    <div class="api-usage-row">
      <div class="api-usage-stat">
        <div class="api-usage-num" id="apiCallCount">0</div>
        <div class="api-usage-label">API Calls</div>
      </div>
      <div class="api-usage-stat">
        <div class="api-usage-num" id="apiTokenCount">0</div>
        <div class="api-usage-label">Tokens Used</div>
      </div>
      <div class="api-usage-stat">
        <div class="api-usage-num" id="apiModelDisplay">—</div>
        <div class="api-usage-label">AI Model</div>
      </div>
      <div class="api-usage-stat">
        <div class="api-usage-num" id="apiStatusDisplay">Offline</div>
        <div class="api-usage-label">Status</div>
      </div>
    </div>
  </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// ===== NAVIGATION =====
function toggleNav(){
  document.getElementById('navLinks').classList.toggle('open')
}
function scrollTo(id){
  document.getElementById(id)?.scrollIntoView({behavior:'smooth'})
}

// ===== TABS =====
function openTab(id){
  document.querySelectorAll('.studio-tab').forEach(t=>t.classList.remove('active'))
  document.querySelectorAll('.studio-panel').forEach(p=>p.classList.remove('active'))
  event.currentTarget.classList.add('active')
  document.getElementById('tab-'+id).classList.add('active')
}

// ===== TOAST =====
let toastTimer;
function showToast(msg){
  const t=document.getElementById('toast')
  t.textContent=msg;t.classList.add('show')
  clearTimeout(toastTimer)
  toastTimer=setTimeout(()=>t.classList.remove('show'),3000)
}

// ===== CART =====
let cartCount=0
function addCart(name,price){
  cartCount++
  document.getElementById('cart-count').textContent=cartCount
  showToast(`✅ Added: ${name} ($${price})`)
}
function showCart(){showToast(`🛒 Cart: ${cartCount} items — Checkout coming soon!`)}

// ===== PROGRESS =====
function runProgress(id,callback){
  const pb=document.getElementById('pb-'+id)
  pb.classList.add('active')
  const fill=pb.querySelector('.progress-fill')
  fill.style.animation='none';fill.style.width='0%'
  void fill.offsetWidth
  fill.style.animation='progress-anim 2s ease infinite,move 3s linear forwards'
  setTimeout(()=>{pb.classList.remove('active');callback()},2800)
}
function showOutput(id,text){
  const el=document.getElementById('out-'+id)
  el.textContent=text;el.classList.add('visible')
}

// ===== API KEY MANAGEMENT =====
let nexusApiKey = localStorage.getItem('nexus_api_key') || ''
let nexusApiCalls = parseInt(localStorage.getItem('nexus_api_calls') || '0')
let nexusApiTokens = parseInt(localStorage.getItem('nexus_api_tokens') || '0')
const NEXUS_MODEL = 'claude-sonnet-4-20250514'

function openApiModal(){
  document.getElementById('api-key-modal').classList.add('open')
  const inp = document.getElementById('apiKeyInput')
  if(nexusApiKey) inp.value = nexusApiKey
  updateApiUI()
}
function closeApiModal(){
  document.getElementById('api-key-modal').classList.remove('open')
}
function toggleApiKeyVisibility(){
  const inp = document.getElementById('apiKeyInput')
  const btn = document.getElementById('apiKeyToggle')
  if(inp.type === 'password'){ inp.type = 'text'; btn.textContent = '🙈' }
  else { inp.type = 'password'; btn.textContent = '👁' }
}
function onApiKeyInput(){
  const v = document.getElementById('apiKeyInput').value.trim()
  const dot = document.getElementById('apiStatusDot')
  const txt = document.getElementById('apiStatusText')
  if(v.startsWith('sk-ant-')){
    dot.className='api-status-dot';txt.className='api-status-text'
    txt.textContent = 'Valid key format detected — click Save to connect'
  } else if(v.length > 0){
    dot.className='api-status-dot error';txt.className='api-status-text error'
    txt.textContent = 'Invalid key format (must start with sk-ant-)'
  } else {
    dot.className='api-status-dot';txt.className='api-status-text'
    txt.textContent = 'No API key — using template output mode'
  }
}
async function saveApiKey(){
  const v = document.getElementById('apiKeyInput').value.trim()
  if(!v){ showToast('⚠️ Please enter your API key!'); return }
  if(!v.startsWith('sk-ant-')){ showToast('❌ Key must start with sk-ant-'); return }
  
  const dot = document.getElementById('apiStatusDot')
  const txt = document.getElementById('apiStatusText')
  dot.className='api-status-dot'; txt.className='api-status-text'
  txt.textContent = '🔄 Testing connection...'
  
  try {
    const res = await callClaudeAPI('Say "NEXUS ULTRA Connected!" in exactly 3 words.', v)
    nexusApiKey = v
    localStorage.setItem('nexus_api_key', v)
    dot.className='api-status-dot connected'; txt.className='api-status-text connected'
    txt.textContent = '✅ Connected! Real Claude AI is now powering all generators'
    updateApiUI()
    showToast('🚀 API Key Connected! Real AI activated!')
    setTimeout(closeApiModal, 1800)
  } catch(e){
    dot.className='api-status-dot error'; txt.className='api-status-text error'
    txt.textContent = '❌ Connection failed: ' + (e.message || 'Invalid key or network error')
    showToast('❌ Connection failed — check your API key')
  }
}
function clearApiKey(){
  nexusApiKey = ''
  nexusApiCalls = 0; nexusApiTokens = 0
  localStorage.removeItem('nexus_api_key')
  localStorage.removeItem('nexus_api_calls')
  localStorage.removeItem('nexus_api_tokens')
  document.getElementById('apiKeyInput').value = ''
  updateApiUI()
  showToast('🗑️ API key cleared — template mode restored')
}
function updateApiUI(){
  const connected = !!nexusApiKey
  const dot = document.getElementById('apiStatusDot')
  const txt = document.getElementById('apiStatusText')
  const fab = document.getElementById('fab-indicator')
  const statusDisplay = document.getElementById('apiStatusDisplay')
  const modelDisplay = document.getElementById('apiModelDisplay')
  
  if(connected){
    dot.className='api-status-dot connected'; txt.className='api-status-text connected'
    txt.textContent = '✅ Connected — Real Claude AI active on all generators'
    fab.className='fab-indicator connected'
    statusDisplay.textContent='Online'; statusDisplay.style.color='#10b981'
    modelDisplay.textContent='Sonnet'
  } else {
    dot.className='api-status-dot'; txt.className='api-status-text'
    txt.textContent = 'No API key — using template output mode'
    fab.className='fab-indicator'
    statusDisplay.textContent='Offline'; statusDisplay.style.color=''
    modelDisplay.textContent='—'
  }
  document.getElementById('apiCallCount').textContent = nexusApiCalls
  document.getElementById('apiTokenCount').textContent = nexusApiTokens > 1000 ? (nexusApiTokens/1000).toFixed(1)+'K' : nexusApiTokens
}
function trackApiUsage(inputTokens, outputTokens){
  nexusApiCalls++; nexusApiTokens += (inputTokens || 0) + (outputTokens || 0)
  localStorage.setItem('nexus_api_calls', nexusApiCalls)
  localStorage.setItem('nexus_api_tokens', nexusApiTokens)
  document.getElementById('apiCallCount').textContent = nexusApiCalls
  document.getElementById('apiTokenCount').textContent = nexusApiTokens > 1000 ? (nexusApiTokens/1000).toFixed(1)+'K' : nexusApiTokens
}

// ===== CORE API CALLER =====
async function callClaudeAPI(prompt, keyOverride){
  const key = keyOverride || nexusApiKey
  if(!key) throw new Error('No API key')
  
  const response = await fetch('https://api.anthropic.com/v1/messages', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'x-api-key': key,
      'anthropic-version': '2023-06-01',
      'anthropic-dangerous-direct-browser-access': 'true'
    },
    body: JSON.stringify({
      model: NEXUS_MODEL,
      max_tokens: 1500,
      messages: [{ role: 'user', content: prompt }]
    })
  })
  
  if(!response.ok){
    const err = await response.json().catch(()=>({}))
    throw new Error(err.error?.message || `HTTP ${response.status}`)
  }
  const data = await response.json()
  trackApiUsage(data.usage?.input_tokens, data.usage?.output_tokens)
  return data.content?.[0]?.text || ''
}

// ===== SMART GENERATOR: real API or fallback template =====
async function smartGenerate(pbId, outId, apiPrompt, templateFn, successMsg){
  const pb = document.getElementById('pb-'+pbId)
  const outEl = document.getElementById('out-'+outId)
  
  pb.classList.add('active')
  const fill = pb.querySelector('.progress-fill')
  fill.style.animation = 'none'; fill.style.width = '0%'
  void fill.offsetWidth
  
  if(nexusApiKey){
    // Show real-time loading state
    outEl.style.display = 'block'
    outEl.classList.add('visible')
    outEl.innerHTML = `<div class="api-loading"><div class="api-spinner"></div>🤖 Claude AI generating real response... (${NEXUS_MODEL})</div>`
    fill.style.animation = 'progress-anim 2s ease infinite'
    
    try {
      const result = await callClaudeAPI(apiPrompt)
      pb.classList.remove('active')
      outEl.textContent = result
      showToast(`✅ ${successMsg} (Real Claude AI)`)
      updateApiUI()
    } catch(e){
      pb.classList.remove('active')
      outEl.textContent = '❌ API Error: ' + e.message + '\n\nFalling back to template mode...\n\n' + templateFn()
      showToast('⚠️ API error — showing template output')
    }
  } else {
    // Template mode
    fill.style.animation = 'progress-anim 2s ease infinite, move 2.8s linear forwards'
    setTimeout(()=>{
      pb.classList.remove('active')
      outEl.textContent = templateFn()
      outEl.classList.add('visible')
      showToast(`✅ ${successMsg} (Add API key for real AI!)`)
    }, 2800)
  }
}

// ===== AI GENERATORS =====
const prompts={
  'ChatGPT Prompt':n=>`Act as an expert ${n} consultant with 15+ years of experience. Provide comprehensive, actionable insights using the STAR framework (Situation, Task, Action, Result). Include real examples, step-by-step strategies, common mistakes to avoid, and measurable outcomes. Format your response with clear sections, bullet points, and a practical action plan. Begin with the most impactful information first.`,
  'Midjourney Image Prompt':n=>`/imagine ${n}, hyperrealistic 8K photography, golden hour lighting, shot with Canon EOS R5, 85mm f/1.4 lens, shallow depth of field, bokeh background, dramatic shadows, professional color grading, Nat Geo style composition, award-winning photograph --ar 16:9 --q 2 --v 6`,
  'DALL-E Art Prompt':n=>`Create a stunning, photorealistic image of ${n}. Style: cinematic, ultra-detailed, dramatic lighting with warm golden tones and cool blue shadows. Composition: rule of thirds, leading lines toward the focal point. Include intricate details, textures, and depth. Resolution: ultra-high quality, professional photography standard.`,
  'Video Script Prompt':n=>`Write a compelling YouTube video script about "${n}". Structure: 1) Hook (0-30s): Start with a shocking stat or question, 2) Promise (30s-1min): What viewers will learn, 3) Main Content (1-8min): 5 key points with examples, 4) CTAs throughout, 5) Outro (final 30s): Summary + subscribe CTA. Use conversational tone, short sentences, and strategic pause points.`,
  'Marketing Copy Prompt':n=>`Write high-converting marketing copy for "${n}" using proven frameworks: AIDA (Attention, Interest, Desire, Action) and PAS (Problem, Agitate, Solution). Include: power headline, emotional hooks, benefits over features, social proof elements, urgency triggers, and a clear CTA. Target audience: busy professionals aged 25-45 who want results fast.`,
}

function generatePrompt(){
  const type = document.getElementById('prompt-type').value
  const topic = document.getElementById('prompt-topic').value || 'digital marketing'
  if(type==='Select Prompt Type...'){ showToast('⚠️ Please select a prompt type!'); return }
  const fn = prompts[type] || ((n)=>`Professional ${type} for: "${n}"\n\nContext: You are a world-class expert. Provide detailed, actionable guidance with concrete examples.`)
  
  const apiPrompt = `You are an expert AI prompt engineer. Create an optimized, professional ${type} about: "${topic}".

Make it highly specific, detailed and immediately usable. Include:
- Clear instructions/parameters
- Style and format specifications  
- Quality enhancers
- Platform-specific syntax if applicable (e.g. Midjourney parameters)

Topic: ${topic}
Type: ${type}

Respond with ONLY the prompt text, ready to use directly.`

  smartGenerate('prompt','prompt', apiPrompt, ()=>fn(topic), 'Prompt Generated!')
}

function generateImage(){
  const p = document.getElementById('img-prompt').value || 'beautiful futuristic cityscape'
  const s = document.getElementById('img-style').value || 'Photorealistic'
  const r = document.getElementById('img-ratio').value || '16:9 Landscape'

  const apiPrompt = `You are an expert AI image prompt engineer. Create the BEST optimized image prompts for: "${p}" in ${s} style, ${r} ratio.

Provide three versions:
1. MIDJOURNEY VERSION (with /imagine prefix and proper parameters: --ar, --q, --v, --s)
2. DALL-E 3 VERSION (conversational description in quotes)  
3. STABLE DIFFUSION VERSION (comma-separated tags, quality boosters)

Also include:
- Lighting recommendations
- Camera/lens specs (for photorealistic)
- Color palette
- Mood/atmosphere

Make each version highly detailed and professional.`

  const template = ()=>`🎨 OPTIMIZED IMAGE PROMPT:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Subject: ${p}
Style: ${s} | Ratio: ${r}

FOR MIDJOURNEY:
/imagine ${p}, ${s.toLowerCase()} style, 8K ultra HD, cinematic, dramatic lighting, hyperdetailed --ar 16:9 --q 2 --v 6 --s 750

FOR DALL-E 3:
"A ${s.toLowerCase()} image of ${p}. Ultra-high quality, 8K resolution, professional photography, dramatic lighting, rich colors."

FOR STABLE DIFFUSION:
${p}, ${s.toLowerCase()}, masterpiece, best quality, ultra detailed, 8k, RAW photo, photorealistic, sharp focus, professional lighting`

  smartGenerate('image','image', apiPrompt, template, 'Image Prompt Ready!')
}

let selectedDuration='10'
function selVid(el,dur){
  document.querySelectorAll('.vid-opt').forEach(v=>v.classList.remove('sel'))
  el.classList.add('sel'); selectedDuration=dur
}

function generateVideo(){
  const topic = document.getElementById('vid-topic').value || 'AI Technology Revolution'
  const genre = document.getElementById('vid-genre').value || 'YouTube Tutorial'
  const dur = selectedDuration

  const apiPrompt = `You are an expert YouTube video scriptwriter and content strategist. Create a complete ${dur}-minute ${genre} production plan for: "${topic}"

Include ALL of these sections:

🎯 HOOK (0-15 seconds): A shocking opening line or question
📖 INTRO (15s-1min): Host introduction + what viewer will gain
📋 SCENE BREAKDOWN: Timestamp-by-timestamp content outline
🎤 SAMPLE SCRIPT: Write the actual voiceover for first 2 minutes
🎯 3 HOOK VARIATIONS: Different opening options to test  
📸 B-ROLL LIST: 10 specific stock footage suggestions
🎵 MUSIC MOOD: Background music recommendations per section
📊 GRAPHICS: On-screen text, lower thirds, animations needed
🔑 SEO: Title variations (5), description (150 words), 15 tags
📱 SHORTS VERSION: 60-second adaptation for TikTok/Reels

Make it highly specific for topic: "${topic}"`

  const template = ()=>`🎬 VIDEO PRODUCTION PLAN: "${topic}"
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
TYPE: ${genre} | DURATION: ${dur} minutes
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 SCENE BREAKDOWN:
[0:00-0:30] HOOK - "Did you know ${topic} could change everything?"
[0:30-2:00] INTRO - Channel intro, promise of value
[2:00-4:00] SEGMENT 1 - Core concept with 3 examples
[4:00-6:00] SEGMENT 2 - Deep dive with B-roll
[6:00-8:00] SEGMENT 3 - Practical applications
[8:00-9:30] SEGMENT 4 - Step-by-step tutorial
[9:30-${dur}:00] OUTRO - Summary, CTA, next video teaser

🎯 SCRIPT HOOKS:
• "90% of people don't know this about ${topic}..."
• "I spent 100 hours researching ${topic}..."
• "This ${topic} hack will save you 10 hours a week..."`

  smartGenerate('video','video', apiPrompt, template, 'Video Plan Generated!')
}

function generateTool(){
  const name = document.getElementById('tool-name').value || 'My AI Tool'
  const type = document.getElementById('tool-type').value || 'Chatbot'

  const apiPrompt = `You are a senior AI product architect. Design a complete AI tool blueprint for: "${name}" (type: ${type})

Include:
⚙️ SYSTEM PROMPT: Full production-ready system prompt (500+ words)
📋 CONVERSATION FLOW: 5 example user→AI exchanges
🔧 INTEGRATION SPEC: APIs, webhooks, databases to connect
📊 FEATURE LIST: 10 core features with descriptions  
💡 PROMPT TEMPLATES: 5 ready-to-use prompt templates
🚀 DEPLOYMENT: Step-by-step build instructions
💰 MONETIZATION: 3 ways to sell this tool
📈 SCALING: How to grow to 1000+ users

Make it immediately buildable.`

  const template = ()=>`🤖 AI TOOL BLUEPRINT: "${name}"
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
TYPE: ${type} | STATUS: Ready to Build

⚙️ SYSTEM PROMPT:
You are "${name}", an advanced AI ${type.toLowerCase()} specialized in helping users achieve their goals efficiently.

📋 WORKFLOW:
1. Parse & Understand User Intent
2. Context Analysis → History & Preferences
3. AI Processing → Optimal Response
4. Quality Check → Accuracy & Tone
5. Deliver Formatted, Actionable Output

🔧 INTEGRATIONS: OpenAI/Claude API, Slack, Email, Zapier
📊 ANALYTICS: Response tracking, conversion metrics
🚀 DEPLOYMENT: Web widget, API endpoint, mobile app`

  smartGenerate('tool','tool', apiPrompt, template, 'AI Tool Blueprint Ready!')
}

function generateCode(){
  const req = document.getElementById('code-req').value || 'Create a REST API endpoint'
  const lang = document.getElementById('code-lang').value || 'JavaScript'

  const apiPrompt = `You are a senior ${lang} developer with 10+ years experience. Write clean, production-ready ${lang} code for: "${req}"

Requirements:
- Complete, working code (not pseudocode)
- Proper error handling and edge cases
- Comments explaining complex parts
- Best practices and design patterns
- Security considerations
- Performance optimizations

Include:
1. Main implementation code
2. Usage example
3. Unit test skeleton
4. Any required dependencies/imports

Language: ${lang}
Task: ${req}`

  const template = ()=>`// ${lang} Code for: ${req}
// Generated by NEXUS ULTRA AI Studio
// Add your Anthropic API key for real AI-generated code!

async function solution() {
  // TODO: Implement: ${req}
  try {
    // Your ${lang} implementation here
    const result = await processRequest()
    return result
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

// Usage:
// solution().then(console.log).catch(console.error)`

  smartGenerate('code','code', apiPrompt, template, 'Code Generated!')
}

function generateCopy(){
  const product = document.getElementById('copy-product').value || 'Amazing Product'
  const type = document.getElementById('copy-type').value || 'Sales Page'
  const tone = document.getElementById('copy-tone')?.value || 'Professional'

  const apiPrompt = `You are a world-class copywriter who has written $100M+ in revenue-generating copy. Write high-converting ${type} copy for: "${product}"

Use these proven frameworks:
- PAS (Problem-Agitate-Solution)
- AIDA (Attention-Interest-Desire-Action)  
- FAB (Features-Advantages-Benefits)

Include ALL of these elements:
🔥 5 HEADLINE OPTIONS (A/B testable)
💥 OPENING HOOK (2-3 sentences, creates instant curiosity)
😣 PAIN POINTS (3 specific, emotional problems)
✅ BENEFITS (5 specific, quantified outcomes)
💬 SOCIAL PROOF (3 testimonial templates)
⚡ URGENCY/SCARCITY (ethical, not fake)
🎯 CTA VARIATIONS (3 different button texts)
📧 EMAIL SUBJECT LINES (5 options)

Tone: ${tone}
Product: ${product}
Format: ${type}`

  const template = ()=>`📝 ${type.toUpperCase()}: ${product}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔥 HEADLINE OPTIONS:
1. "Finally! The ${product} That Actually Works"
2. "Join 50,000+ People Who Transformed With ${product}"
3. "Stop Struggling. Start Succeeding With ${product}"

💥 HOOK:
Imagine waking up tomorrow with your biggest problem solved. That's exactly what ${product} does every single day.

✅ BENEFITS:
• Save 10+ hours every week automatically
• Increase results by 300% in 30 days
• No experience needed — works for beginners

🎯 CTA: "YES! I Want ${product} Now →"`

  smartGenerate('copy','copy', apiPrompt, template, 'Copy Generated!')
}

function generateSEO(){
  const kw = document.getElementById('seo-keyword').value || 'digital marketing'

  const apiPrompt = `You are an expert SEO strategist and content architect. Create a complete SEO article strategy for the keyword: "${kw}"

Include ALL of:
📊 KEYWORD ANALYSIS: Search intent, competition level, related keywords (20)
📝 ARTICLE OUTLINE: Full H1-H4 structure (3000-word article)
🔍 META DATA: Title tag (60 chars), meta description (160 chars), OG tags
📈 CONTENT BRIEF: Word count, readability score, keyword density targets
🔗 LINK STRATEGY: 5 internal link suggestions + 5 authority external sites
🖼️ IMAGE STRATEGY: Alt text templates, image types needed
📱 FEATURED SNIPPET: Optimize for position zero — answer box format
❓ FAQ SECTION: 8 questions people ask about "${kw}" with brief answers
🏆 COMPETITOR GAPS: 5 angles competitors miss on this topic
📅 CONTENT CALENDAR: 10 related articles to build topical authority`

  const template = ()=>`🔍 SEO ARTICLE OUTLINE: "${kw}"
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Title: "The Ultimate Guide to ${kw} in 2024"
Meta: "Discover everything about ${kw}. Expert tips, strategies & tools that actually work."
Keyword Density: 1.5% | Reading Level: Grade 8

H1: The Complete Guide to ${kw} (2024)
H2: What is ${kw} and Why It Matters
H2: Top 10 ${kw} Strategies That Work
  H3: Strategy 1: Start With Research
  H3: Strategy 2: Content Optimization
H2: Best Tools for ${kw} in 2024
H2: Common ${kw} Mistakes to Avoid
H2: FAQs About ${kw}
H2: Conclusion & Next Steps`

  smartGenerate('seo','seo', apiPrompt, template, 'SEO Outline Ready!')
}

// Initialize API state on load
window.addEventListener('DOMContentLoaded', ()=>{
  updateApiUI()
  // Show API key prompt if not set
  if(!nexusApiKey){
    setTimeout(()=>{
      showToast('🔑 Add Anthropic API key for real Claude AI! Click the 🔑 button.')
    }, 2000)
  }
})


// ===== GAMES =====
let currentGame=null, snakeInterval=null

function loadGame(game){
  const area=document.getElementById('game-area')
  const content=document.getElementById('game-content')
  area.classList.add('active')
  area.scrollIntoView({behavior:'smooth',block:'center'})
  
  if(game==='snake') loadSnake(content)
  else if(game==='quiz') loadQuiz(content)
  else if(game==='memory') loadMemory(content)
  else if(game==='math') loadMath(content)
  else if(game==='word') loadWord(content)
  else if(game==='click') loadClick(content)
}

// SNAKE GAME
function loadSnake(c){
  c.innerHTML=`
    <h3 style="text-align:center;font-family:'Syne',sans-serif;margin-bottom:8px">🐍 Snake Classic</h3>
    <div class="score-display">Score: <span id="snake-score">0</span></div>
    <canvas id="snakeCanvas" width="400" height="400"></canvas>
    <div class="game-controls">
      <button class="game-btn" onclick="startSnake()">▶️ Start</button>
      <button class="game-btn" onclick="clearInterval(snakeInterval);showToast('Game Paused')">⏸ Pause</button>
    </div>
    <p style="text-align:center;color:var(--muted);font-size:0.82rem">Use Arrow Keys / WASD to move</p>`
  
  const canvas=document.getElementById('snakeCanvas')
  if(canvas&&window.innerWidth<500)canvas.style.width='100%'
}

let snake,food,dir,gameScore
function startSnake(){
  clearInterval(snakeInterval)
  snake=[{x:10,y:10}];dir={x:1,y:0};gameScore=0
  spawnFood()
  document.getElementById('snake-score').textContent=0
  snakeInterval=setInterval(drawSnake,120)
  document.addEventListener('keydown',handleSnakeKey)
}
function spawnFood(){
  food={x:Math.floor(Math.random()*20),y:Math.floor(Math.random()*20)}
}
function handleSnakeKey(e){
  const m={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0},
           w:{x:0,y:-1},s:{x:0,y:1},a:{x:-1,y:0},d:{x:1,y:0}}
  if(m[e.key]){e.preventDefault();dir=m[e.key]}
}
function drawSnake(){
  const canvas=document.getElementById('snakeCanvas')
  if(!canvas)return
  const ctx=canvas.getContext('2d'),sz=20,cols=20,rows=20
  ctx.fillStyle='#060a14';ctx.fillRect(0,0,400,400)
  
  const head={x:(snake[0].x+dir.x+cols)%cols,y:(snake[0].y+dir.y+rows)%rows}
  if(snake.some(s=>s.x===head.x&&s.y===head.y)){
    clearInterval(snakeInterval)
    showToast(`💀 Game Over! Score: ${gameScore}`)
    ctx.fillStyle='rgba(244,63,94,0.3)';ctx.fillRect(0,0,400,400)
    ctx.fillStyle='#fff';ctx.font='bold 32px Syne';ctx.textAlign='center'
    ctx.fillText('GAME OVER',200,200);ctx.font='18px Outfit'
    ctx.fillText(`Score: ${gameScore}`,200,235);return
  }
  snake.unshift(head)
  if(head.x===food.x&&head.y===food.y){gameScore+=10;spawnFood();document.getElementById('snake-score').textContent=gameScore}
  else snake.pop()
  
  // Draw food
  ctx.fillStyle='#f43f5e';ctx.beginPath();ctx.arc((food.x*sz)+sz/2,(food.y*sz)+sz/2,sz/2-2,0,Math.PI*2);ctx.fill()
  
  // Draw snake
  snake.forEach((s,i)=>{
    const grad=ctx.createLinearGradient(s.x*sz,s.y*sz,(s.x+1)*sz,(s.y+1)*sz)
    grad.addColorStop(0,i===0?'#6366f1':'#7c3aed')
    grad.addColorStop(1,i===0?'#f43f5e':'#6366f1')
    ctx.fillStyle=grad
    ctx.beginPath();ctx.roundRect(s.x*sz+1,s.y*sz+1,sz-2,sz-2,4);ctx.fill()
  })
}

// QUIZ GAME
const quizData=[
  {q:"What does AI stand for?",opts:["Automated Intelligence","Artificial Intelligence","Advanced Interface","Algorithmic Input"],ans:1},
  {q:"Which company created ChatGPT?",opts:["Google","Microsoft","OpenAI","Meta"],ans:2},
  {q:"What is Machine Learning?",opts:["Programming with loops","AI learning from data","Internet security","Cloud computing"],ans:1},
  {q:"What is a Neural Network modeled after?",opts:["Computer circuits","Human brain","Solar system","Internet structure"],ans:1},
  {q:"What does GPT stand for?",opts:["General Program Tool","Generative Pre-trained Transformer","Google Processing Technology","Global Programming Task"],ans:1},
  {q:"Which language is most used for AI?",opts:["Java","C++","Python","JavaScript"],ans:2},
  {q:"What is 'Deep Learning'?",opts:["Learning underwater","Multi-layer neural networks","Memorizing data","Internet research"],ans:1},
  {q:"What is NLP in AI?",opts:["Network Layer Protocol","Natural Language Processing","Numeric Learning Process","Neural Link Program"],ans:1},
  {q:"Who is known as the 'Father of AI'?",opts:["Alan Turing","John McCarthy","Elon Musk","Bill Gates"],ans:1},
  {q:"What is a 'prompt' in AI?",opts:["A warning message","Input text given to AI","Computer memory","Network speed"],ans:1},
]
let qIdx=0,qScore=0
function loadQuiz(c){
  qIdx=0;qScore=0
  c.innerHTML=`<h3 style="font-family:'Syne',sans-serif;margin-bottom:8px">🧠 AI Knowledge Quiz</h3>
    <div class="score-display">Score: <span id="q-score">0</span> / 10</div>
    <div id="quiz-container"><div class="question" id="q-text"></div><div class="quiz-options" id="q-opts"></div></div>
    <div id="q-result" style="display:none;text-align:center;padding:20px"></div>`
  showQuestion()
}
function showQuestion(){
  if(qIdx>=quizData.length){
    document.getElementById('quiz-container').style.display='none'
    document.getElementById('q-result').style.display='block'
    document.getElementById('q-result').innerHTML=`<div style="font-size:3rem;margin-bottom:12px">${qScore>=7?'🏆':qScore>=5?'👏':'😅'}</div>
    <h3 style="font-family:'Syne',sans-serif">Quiz Complete!</h3>
    <p style="font-size:1.2rem;color:var(--accent);font-weight:700">${qScore}/10 Correct</p>
    <p style="color:var(--muted)">${qScore>=8?'Excellent! You\'re an AI expert!':qScore>=5?'Good job! Keep learning!':'Keep studying AI topics!'}</p>
    <button class="gen-btn" style="margin-top:16px" onclick="loadQuiz(document.getElementById('game-content'))">🔄 Play Again</button>`
    return
  }
  const q=quizData[qIdx]
  document.getElementById('q-text').textContent=`Q${qIdx+1}. ${q.q}`
  document.getElementById('q-opts').innerHTML=q.opts.map((o,i)=>`<div class="quiz-opt" onclick="answerQ(this,${i},${q.ans})">${String.fromCharCode(65+i)}. ${o}</div>`).join('')
}
function answerQ(el,chosen,correct){
  document.querySelectorAll('.quiz-opt').forEach((o,i)=>{
    o.style.pointerEvents='none'
    if(i===correct)o.classList.add('correct')
    else if(i===chosen&&chosen!==correct)o.classList.add('wrong')
  })
  if(chosen===correct){qScore++;document.getElementById('q-score').textContent=qScore}
  setTimeout(()=>{qIdx++;showQuestion()},1200)
}

// MEMORY GAME
const memEmojis=['🤖','🎨','🎬','💡','🎮','💰','📱','🛒']
let memCards=[],memFlipped=[],memSolved=0
function loadMemory(c){
  memSolved=0;memFlipped=[]
  const cards=[...memEmojis,...memEmojis].sort(()=>Math.random()-0.5)
  memCards=cards.map(e=>({emoji:e,flipped:false,solved:false}))
  c.innerHTML=`<h3 style="font-family:'Syne',sans-serif;margin-bottom:12px;text-align:center">🃏 Memory Cards</h3>
    <p style="text-align:center;color:var(--muted);margin-bottom:16px">Match all pairs to win!</p>
    <div id="mem-grid" style="display:grid;grid-template-columns:repeat(4,1fr);gap:8px;max-width:380px;margin:0 auto"></div>`
  renderMemory()
}
function renderMemory(){
  const g=document.getElementById('mem-grid')
  g.innerHTML=memCards.map((c,i)=>`
    <div onclick="flipMem(${i})" style="height:80px;border-radius:10px;display:flex;align-items:center;justify-content:center;
    font-size:1.8rem;cursor:${c.solved?'default':'pointer'};transition:0.3s;
    background:${c.solved?'rgba(16,185,129,0.2)':c.flipped?'var(--card)':'var(--surface)'};
    border:1px solid ${c.solved?'var(--accent3)':c.flipped?'var(--accent)':'var(--border)'}">
    ${c.flipped||c.solved?c.emoji:'❓'}</div>`).join('')
}
function flipMem(i){
  if(memCards[i].flipped||memCards[i].solved||memFlipped.length>=2)return
  memCards[i].flipped=true;memFlipped.push(i);renderMemory()
  if(memFlipped.length===2){
    const [a,b]=memFlipped
    if(memCards[a].emoji===memCards[b].emoji){
      memCards[a].solved=memCards[b].solved=true;memSolved++
      memFlipped=[];renderMemory()
      if(memSolved===memEmojis.length)showToast('🏆 You won the Memory Game!')
    } else {
      setTimeout(()=>{memCards[a].flipped=memCards[b].flipped=false;memFlipped=[];renderMemory()},1000)
    }
  }
}

// MATH CHALLENGE
let mathScore=0,mathTimer,mathTime=30
function loadMath(c){
  mathScore=0;mathTime=30
  c.innerHTML=`<h3 style="font-family:'Syne',sans-serif;margin-bottom:8px;text-align:center">🔢 Math Challenge</h3>
    <div class="score-display">Score: <span id="m-score">0</span> | Time: <span id="m-time">30</span>s</div>
    <div id="m-question" style="font-size:2rem;text-align:center;font-family:'Syne',sans-serif;margin:16px 0"></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;max-width:300px;margin:0 auto" id="m-opts"></div>`
  newMathQ();mathTimer=setInterval(()=>{mathTime--;document.getElementById('m-time').textContent=mathTime;if(mathTime<=0){clearInterval(mathTimer);showToast(`⏰ Time's up! Score: ${mathScore}`)}},1000)
}
function newMathQ(){
  const ops=['+','-','×'],op=ops[Math.floor(Math.random()*3)]
  let a=Math.floor(Math.random()*20)+1,b=Math.floor(Math.random()*20)+1
  let ans;if(op==='+')ans=a+b;else if(op==='-'){if(b>a)[a,b]=[b,a];ans=a-b}else{a=Math.floor(Math.random()*12)+1;b=Math.floor(Math.random()*12)+1;ans=a*b}
  document.getElementById('m-question').textContent=`${a} ${op} ${b} = ?`
  const opts=[ans,ans+(Math.floor(Math.random()*5)+1),ans-(Math.floor(Math.random()*5)+1),ans+(Math.floor(Math.random()*10)+6)].sort(()=>Math.random()-0.5)
  document.getElementById('m-opts').innerHTML=opts.map(o=>`<button class="game-btn" onclick="checkMath(${o},${ans})">${o}</button>`).join('')
}
function checkMath(chosen,correct){
  if(chosen===correct){mathScore++;document.getElementById('m-score').textContent=mathScore;showToast('✅ Correct!')}
  else showToast(`❌ Wrong! Answer was ${correct}`)
  newMathQ()
}

// WORD SCRAMBLE
const words=[{word:'ARTIFICIAL',hint:'Related to AI'},{ word:'DIGITAL',hint:'Non-physical'},{ word:'MARKETING',hint:'Promote products'},{ word:'DEVELOPER',hint:'Creates software'},{ word:'PLATFORM',hint:'A software base'},{ word:'GENERATE',hint:'To create or produce'},{ word:'CREATIVE',hint:'Ability to create'}]
let wordIdx=0
function loadWord(c){
  wordIdx=0
  c.innerHTML=`<h3 style="font-family:'Syne',sans-serif;margin-bottom:12px;text-align:center">📚 Word Scramble</h3>
    <p style="text-align:center;color:var(--muted);margin-bottom:16px">Unscramble the word!</p>
    <div id="w-scramble" style="font-size:2.5rem;text-align:center;letter-spacing:8px;font-family:'Space Mono',monospace;color:var(--accent);margin-bottom:16px"></div>
    <div id="w-hint" style="text-align:center;color:var(--muted);font-size:0.9rem;margin-bottom:16px"></div>
    <input class="inp" id="w-input" placeholder="Type your answer..." oninput="checkWord()">
    <div id="w-feedback" style="text-align:center;margin-top:12px;font-weight:600"></div>`
  showWord()
}
function showWord(){
  const w=words[wordIdx%words.length]
  const scrambled=w.word.split('').sort(()=>Math.random()-0.5).join('')
  document.getElementById('w-scramble').textContent=scrambled
  document.getElementById('w-hint').textContent=`Hint: ${w.hint}`
  document.getElementById('w-input').value=''
  document.getElementById('w-feedback').textContent=''
}
function checkWord(){
  const input=document.getElementById('w-input').value.toUpperCase().trim()
  const w=words[wordIdx%words.length]
  if(input===w.word){
    document.getElementById('w-feedback').innerHTML='<span style="color:var(--accent3)">✅ Correct! Next word in 1.5s...</span>'
    setTimeout(()=>{wordIdx++;showWord()},1500)
  }
}

// CLICK SPEED
let clickCount=0,clickTimer
function loadClick(c){
  c.innerHTML=`<h3 style="font-family:'Syne',sans-serif;margin-bottom:12px;text-align:center">🎯 Click Speed Test</h3>
    <div class="score-display">Clicks: <span id="click-count">0</span> in <span id="click-time">10</span>s</div>
    <div style="text-align:center">
      <button id="click-target" class="btn-primary" style="width:200px;height:200px;border-radius:50%;font-size:2rem" onclick="doClick()">
        👆<br>CLICK ME!
      </button>
    </div>
    <p id="click-result" style="text-align:center;color:var(--muted);margin-top:16px">Click the button to start!</p>`
}
let clickStarted=false,clickTimeLeft=10
function doClick(){
  clickCount++
  if(!clickStarted){
    clickStarted=true;clickCount=0;clickTimeLeft=10
    clearInterval(clickTimer)
    clickTimer=setInterval(()=>{
      clickTimeLeft--;document.getElementById('click-time').textContent=clickTimeLeft
      if(clickTimeLeft<=0){
        clearInterval(clickTimer);clickStarted=false
        const cps=(clickCount/10).toFixed(1)
        const rating=clickCount>80?'🏆 Legendary!':clickCount>60?'⚡ Amazing!':clickCount>40?'👍 Good!':'😅 Keep practicing!'
        document.getElementById('click-result').textContent=`${rating} ${clickCount} clicks (${cps} CPS)`
        showToast(`🎯 Score: ${clickCount} clicks!`)
      }
    },1000)
  }
  document.getElementById('click-count').textContent=clickCount
}

// ===== PORTFOLIO SECTION =====
// ===== PROJECT DASHBOARD GENERATOR =====
function showProjDashboard(){
  document.getElementById('proj-dashboard-section').classList.add('visible')
  setTimeout(()=>{
    document.getElementById('proj-dashboard-section').scrollIntoView({behavior:'smooth'})
    pdUpdateUI()
  },50)
}

const pdData={
  tasks:[
    {id:1,name:'Design Homepage',desc:'Create UI mockups and wireframes',assignee:'Alice Johnson',deadline:'2025-04-20',priority:'high',status:'progress',created:new Date().toISOString()},
    {id:2,name:'Setup Database',desc:'Configure MongoDB and set up schemas',assignee:'Bob Smith',deadline:'2025-04-15',priority:'high',status:'completed',created:new Date().toISOString()},
    {id:3,name:'API Integration',desc:'Connect frontend to REST API',assignee:'Alice Johnson',deadline:'2025-04-28',priority:'medium',status:'pending',created:new Date().toISOString()}
  ],
  team:[
    {id:1,name:'Alice Johnson',email:'alice@nexus-ultra-platforms.com',role:'Project Manager',dept:'Management'},
    {id:2,name:'Bob Smith',email:'bob@nexus-ultra-platforms.com',role:'Developer',dept:'Engineering'}
  ],
  activity:[
    {msg:'Project Dashboard initialized on NEXUS ULTRA',time:new Date().toLocaleTimeString()},
    {msg:'3 sample tasks loaded',time:new Date().toLocaleTimeString()},
    {msg:'2 team members added',time:new Date().toLocaleTimeString()}
  ]
}
let pdCharts={}

function pdSwitch(pageId,btn){
  document.querySelectorAll('#proj-dashboard-section .pd-page').forEach(p=>p.classList.remove('active'))
  document.querySelectorAll('.pd-tab').forEach(t=>t.classList.remove('active'))
  document.getElementById(pageId).classList.add('active')
  if(btn)btn.classList.add('active')
  if(pageId==='pd-analytics')pdUpdateCharts()
}
function pdOpenModal(){
  pdUpdateAssigneeDropdown()
  document.getElementById('pd-modal').classList.add('open')
}
function pdCloseModal(){document.getElementById('pd-modal').classList.remove('open')}

function pdCreateTask(){
  const name=document.getElementById('pd-taskName').value.trim()
  if(!name){showToast('⚠️ Please enter a task name!');return}
  const task={
    id:Date.now(),name,
    desc:document.getElementById('pd-taskDesc').value,
    assignee:document.getElementById('pd-taskAssignee').value,
    deadline:document.getElementById('pd-taskDeadline').value,
    priority:document.getElementById('pd-taskPriority').value,
    status:document.getElementById('pd-taskStatus').value,
    created:new Date().toISOString()
  }
  pdData.tasks.push(task)
  pdLogActivity(`Task created: "${name}"`)
  pdCloseModal()
  pdUpdateUI()
  document.getElementById('pd-taskName').value=''
  document.getElementById('pd-taskDesc').value=''
  showToast('✅ Task Created!')
}

function pdDeleteTask(id){
  const t=pdData.tasks.find(t=>t.id===id)
  if(t)pdLogActivity(`Task deleted: "${t.name}"`)
  pdData.tasks=pdData.tasks.filter(t=>t.id!==id)
  pdUpdateUI();showToast('🗑️ Task Deleted!')
}

function pdToggleTaskStatus(id){
  const t=pdData.tasks.find(t=>t.id===id)
  if(!t)return
  const cycle={pending:'progress',progress:'completed',completed:'pending'}
  t.status=cycle[t.status]
  pdLogActivity(`"${t.name}" → ${t.status}`)
  pdUpdateUI();showToast(`🔄 Status: ${t.status}`)
}

function pdAddMember(){
  const name=document.getElementById('pd-memberName').value.trim()
  if(!name){showToast('⚠️ Enter member name!');return}
  pdData.team.push({
    id:Date.now(),name,
    email:document.getElementById('pd-memberEmail').value,
    role:document.getElementById('pd-memberRole').value,
    dept:document.getElementById('pd-memberDept').value
  })
  pdLogActivity(`Team member added: "${name}"`)
  pdUpdateUI()
  document.getElementById('pd-memberName').value=''
  document.getElementById('pd-memberEmail').value=''
  document.getElementById('pd-memberRole').value=''
  showToast('👤 Member Added!')
}

function pdDeleteMember(id){
  const m=pdData.team.find(m=>m.id===id)
  if(m)pdLogActivity(`Member removed: "${m.name}"`)
  pdData.team=pdData.team.filter(m=>m.id!==id)
  pdUpdateUI();showToast('🗑️ Member Removed!')
}

function pdLogActivity(msg){
  pdData.activity.unshift({msg,time:new Date().toLocaleTimeString()})
  if(pdData.activity.length>10)pdData.activity.pop()
}
function pdUpdateAssigneeDropdown(){
  const opts='<option value="">Select Assignee</option>'+pdData.team.map(m=>`<option value="${m.name}">${m.name}</option>`).join('')
  document.getElementById('pd-taskAssignee').innerHTML=opts
}
function pdFilterTasks(){
  const st=document.getElementById('pd-statusFilter').value
  const pr=document.getElementById('pd-priorityFilter').value
  const as=document.getElementById('pd-assigneeFilter').value
  const q=(document.getElementById('pd-taskSearch').value||'').toLowerCase()
  let filtered=pdData.tasks
  if(st!=='all')filtered=filtered.filter(t=>t.status===st)
  if(pr!=='all')filtered=filtered.filter(t=>t.priority===pr)
  if(as!=='all')filtered=filtered.filter(t=>t.assignee===as)
  if(q)filtered=filtered.filter(t=>t.name.toLowerCase().includes(q)||(t.desc||'').toLowerCase().includes(q))
  pdRenderTasks(filtered)
}
function pdRenderTasks(tasks){
  const list=document.getElementById('pd-taskList')
  if(!tasks.length){list.innerHTML='<div class="pd-empty"><span class="pd-empty-icon">🔍</span>No tasks match your filters</div>';return}
  list.innerHTML=tasks.map(t=>`
    <div class="pd-task-item priority-${t.priority} ${t.status==='completed'?'done':''}">
      <div style="flex:1">
        <div class="pd-task-name ${t.status==='completed'?'done-text':''}">${t.name}</div>
        <div class="pd-task-meta">
          ${t.assignee?`<span style="font-size:0.75rem;color:var(--muted)">👤 ${t.assignee}</span>`:''}
          ${t.deadline?`<span style="font-size:0.75rem;color:var(--muted)">📅 ${t.deadline}</span>`:''}
          <span class="pd-badge pd-badge-${t.priority}">${t.priority}</span>
          <span class="pd-badge pd-badge-${t.status}">${t.status}</span>
        </div>
        ${t.desc?`<div style="font-size:0.75rem;color:var(--muted);margin-top:5px">${t.desc}</div>`:''}
      </div>
      <div class="pd-task-actions">
        <button class="pd-act-btn done-btn" onclick="pdToggleTaskStatus(${t.id})" title="Cycle Status">🔄</button>
        <button class="pd-act-btn del" onclick="pdDeleteTask(${t.id})" title="Delete">🗑</button>
      </div>
    </div>`).join('')
}
function pdUpdateUI(){
  const total=pdData.tasks.length
  const completed=pdData.tasks.filter(t=>t.status==='completed').length
  const inProg=pdData.tasks.filter(t=>t.status==='progress').length
  const pct=total?Math.round((completed/total)*100):0

  const safe=(id,val)=>{const el=document.getElementById(id);if(el)el.textContent=val}
  const safeStyle=(id,prop,val)=>{const el=document.getElementById(id);if(el)el.style[prop]=val}

  safe('pd-totalTasks',total);safe('pd-completedTasks',completed)
  safe('pd-inProgressTasks',inProg);safe('pd-teamMembers',pdData.team.length)
  safeStyle('pd-progressFill','width',pct+'%')
  safe('pd-progressText',pct+'% Complete')
  safe('pd-memberCountBadge',pdData.team.length)
  safe('pd-completionRate',pct+'%')
  safe('pd-highPending',pdData.tasks.filter(t=>t.priority==='high'&&t.status!=='completed').length)
  safe('pd-avgTasks',pdData.team.length?(total/pdData.team.length).toFixed(1):0)

  pdFilterTasks()

  // Assignee filter
  const af=document.getElementById('pd-assigneeFilter')
  if(af){
    const cur=af.value
    af.innerHTML='<option value="all">All Members</option>'+pdData.team.map(m=>`<option value="${m.name}">${m.name}</option>`).join('')
    af.value=cur
  }

  // Team list
  const tl=document.getElementById('pd-teamList')
  if(tl)tl.innerHTML=pdData.team.length
    ?pdData.team.map(m=>`
      <div class="pd-member-item">
        <div class="pd-member-avatar">${m.name.charAt(0).toUpperCase()}</div>
        <div style="flex:1">
          <div class="pd-member-name">${m.name}</div>
          <div class="pd-member-meta">${[m.role,m.dept,m.email].filter(Boolean).join(' · ')} <span style="color:var(--accent);font-weight:700;margin-left:6px">${pdData.tasks.filter(t=>t.assignee===m.name).length} tasks</span></div>
        </div>
        <button class="pd-act-btn del" onclick="pdDeleteMember(${m.id})">🗑</button>
      </div>`).join('')
    :'<div class="pd-empty"><span class="pd-empty-icon">👥</span>No team members yet</div>'

  // Deadlines
  const ud=document.getElementById('pd-upcomingDeadlines')
  if(ud){
    const upcoming=pdData.tasks.filter(t=>t.deadline&&t.status!=='completed').sort((a,b)=>new Date(a.deadline)-new Date(b.deadline)).slice(0,4)
    ud.innerHTML=upcoming.length
      ?upcoming.map(t=>`<div class="pd-deadline-item"><div class="pd-deadline-name">${t.name}</div><div class="pd-deadline-date">📅 ${t.deadline} · <span class="pd-badge pd-badge-${t.priority}">${t.priority}</span></div></div>`).join('')
      :'<div class="pd-empty"><span class="pd-empty-icon">📅</span>No upcoming deadlines</div>'
  }

  // Activity
  const ra=document.getElementById('pd-recentActivity')
  if(ra)ra.innerHTML=pdData.activity.slice(0,8).map(a=>`<div class="pd-activity-item"><span class="pd-activity-dot"></span>${a.msg}<span class="pd-activity-time">${a.time}</span></div>`).join('')
}

function pdUpdateCharts(){
  const tasks=pdData.tasks
  const completed=tasks.filter(t=>t.status==='completed').length
  const inProg=tasks.filter(t=>t.status==='progress').length
  const pending=tasks.filter(t=>t.status==='pending').length
  const high=tasks.filter(t=>t.priority==='high').length
  const med=tasks.filter(t=>t.priority==='medium').length
  const low=tasks.filter(t=>t.priority==='low').length
  const chartOpts={responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:'#e8eaf6',font:{family:'Outfit',size:12}}}}}
  const gridColor='rgba(99,102,241,0.08)',tickColor='#7b83b0'

  if(pdCharts.task)pdCharts.task.destroy()
  pdCharts.task=new Chart(document.getElementById('pd-taskChart'),{
    type:'doughnut',
    data:{labels:['Completed','In Progress','Pending'],datasets:[{data:[completed,inProg,pending],backgroundColor:['#10b981','#06b6d4','#f43f5e'],borderWidth:0,hoverOffset:8}]},
    options:{...chartOpts}
  })
  if(pdCharts.priority)pdCharts.priority.destroy()
  pdCharts.priority=new Chart(document.getElementById('pd-priorityChart'),{
    type:'bar',
    data:{labels:['🔴 High','🟡 Medium','🟢 Low'],datasets:[{label:'Tasks',data:[high,med,low],backgroundColor:['rgba(244,63,94,0.75)','rgba(245,158,11,0.75)','rgba(16,185,129,0.75)'],borderRadius:8,borderSkipped:false}]},
    options:{...chartOpts,scales:{x:{ticks:{color:tickColor},grid:{display:false}},y:{ticks:{color:tickColor,stepSize:1},grid:{color:gridColor}}}}
  })
  const names=pdData.team.map(m=>m.name)
  const counts=pdData.team.map(m=>tasks.filter(t=>t.assignee===m.name).length)
  if(pdCharts.workload)pdCharts.workload.destroy()
  pdCharts.workload=new Chart(document.getElementById('pd-workloadChart'),{
    type:'bar',
    data:{labels:names.length?names:['No team'],datasets:[{label:'Tasks Assigned',data:counts.length?counts:[0],backgroundColor:'rgba(99,102,241,0.7)',borderRadius:8,borderSkipped:false}]},
    options:{...chartOpts,indexAxis:'y',scales:{x:{ticks:{color:tickColor,stepSize:1},grid:{color:gridColor}},y:{ticks:{color:tickColor},grid:{display:false}}}}
  })
}

setTimeout(()=>pdUpdateUI(),700)

// ===== AI AUTOMATION STUDIO =====
// ===== MESSENGER MULTI-CURRENCY BOT =====
function showMessengerBot(){
  const sec = document.getElementById('messenger-bot-section')
  sec.classList.add('visible')
  setTimeout(()=>{
    sec.scrollIntoView({behavior:'smooth'})
    mbInitConverter()
    mbUpdateProductPrices()
  },80)
}

function mbSwitch(pageId, btn){
  document.querySelectorAll('#messenger-bot-section .mb-page').forEach(p=>p.classList.remove('active'))
  document.querySelectorAll('.mb-tab').forEach(t=>t.classList.remove('active'))
  document.getElementById(pageId).classList.add('active')
  if(btn) btn.classList.add('active')
  if(pageId==='mb-currencies'){ mbInitConverter(); mbUpdateProductPrices() }
}

// Exchange rates (approx)
const MB_RATES = {USD:1,PKR:278.5,INR:83.12,EUR:0.92,GBP:0.79,AED:3.67,SAR:3.75,CAD:1.36}
const MB_SYMBOLS = {USD:'$',PKR:'₨',INR:'₹',EUR:'€',GBP:'£',AED:'د.إ',SAR:'﷼',CAD:'C$'}

function mbConvertAmount(amount, from, to){
  return (amount / MB_RATES[from]) * MB_RATES[to]
}
function mbFormat(amount, currency){
  return (MB_SYMBOLS[currency]||currency) + amount.toLocaleString('en',{minimumFractionDigits:2,maximumFractionDigits:2})
}

// Selected currency for demo
let mbSelectedCurrency = 'PKR'

function mbPickCurrency(el, code){
  document.querySelectorAll('.mb-currency-card').forEach(c=>c.classList.remove('selected'))
  el.classList.add('selected')
  mbSelectedCurrency = code
  mbUpdateProductPrices()
  showToast('💱 Currency: '+code)
}

function mbInitConverter(){ mbConvert() }

function mbConvert(){
  const amount = parseFloat(document.getElementById('mb-conv-amount')?.value) || 100
  const from = document.getElementById('mb-conv-from')?.value || 'USD'
  const to = document.getElementById('mb-conv-to')?.value || 'PKR'
  const result = mbConvertAmount(amount, from, to)
  const el = document.getElementById('mb-conv-result')
  if(el) el.textContent = mbFormat(result, to) + ' (' + to + ')'
}

function mbSwapCurrencies(){
  const f = document.getElementById('mb-conv-from')
  const t = document.getElementById('mb-conv-to')
  if(!f||!t) return
  const tmp = f.value; f.value = t.value; t.value = tmp
  mbConvert()
}

function mbUpdateProductPrices(){
  const products = [
    {name:'AI Consultation',usd:99,icon:'🤖'},
    {name:'Custom AI Bot',usd:499,icon:'⚡'},
    {name:'Premium Package',usd:999,icon:'💎'}
  ]
  const el = document.getElementById('mb-product-prices')
  if(!el) return
  const cur = mbSelectedCurrency || 'PKR'
  el.innerHTML = products.map(p=>{
    const local = mbConvertAmount(p.usd, 'USD', cur)
    return `<div style="display:flex;align-items:center;justify-content:space-between;padding:12px 14px;background:var(--surface);border:1px solid var(--border);border-radius:10px">
      <div style="display:flex;align-items:center;gap:10px"><span style="font-size:1.2rem">${p.icon}</span><div><div style="font-weight:700;font-size:0.88rem">${p.name}</div><div style="font-size:0.72rem;color:var(--muted)">Base: $${p.usd}</div></div></div>
      <div style="text-align:right"><div style="font-family:'Syne',sans-serif;font-weight:800;color:var(--accent);font-size:1rem">${mbFormat(local,cur)}</div><div style="font-size:0.68rem;color:var(--muted)">${cur}</div></div>
    </div>`
  }).join('')
}

// ===== Live Chat Demo =====
const mbBotResponses = {
  PKR:{sym:'₨',name:'Pakistani Rupee',
    products:[{n:'AI Consultation',usd:99},{n:'Custom AI Bot',usd:499},{n:'Premium Package',usd:999}]},
  USD:{sym:'$',name:'US Dollar',
    products:[{n:'AI Consultation',usd:99},{n:'Custom AI Bot',usd:499},{n:'Premium Package',usd:999}]},
  INR:{sym:'₹',name:'Indian Rupee',
    products:[{n:'AI Consultation',usd:99},{n:'Custom AI Bot',usd:499},{n:'Premium Package',usd:999}]},
  EUR:{sym:'€',name:'Euro',
    products:[{n:'AI Consultation',usd:99},{n:'Custom AI Bot',usd:499},{n:'Premium Package',usd:999}]},
  GBP:{sym:'£',name:'British Pound',
    products:[{n:'AI Consultation',usd:99},{n:'Custom AI Bot',usd:499},{n:'Premium Package',usd:999}]},
  AED:{sym:'د.إ',name:'UAE Dirham',
    products:[{n:'AI Consultation',usd:99},{n:'Custom AI Bot',usd:499},{n:'Premium Package',usd:999}]}
}

let mbDemoCurrency = null

function mbAddMsg(text, type='bot', delay=0){
  setTimeout(()=>{
    const body = document.getElementById('mb-chat-body')
    if(!body) return
    const div = document.createElement('div')
    div.className = 'mb-msg '+type
    const now = new Date().toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'})
    div.innerHTML = `<div class="mb-bubble">${text}</div><div class="mb-msg-time">${now}</div>`
    body.appendChild(div)
    body.scrollTop = body.scrollHeight
  }, delay)
}

function mbSetQuickReplies(replies){
  const wrap = document.getElementById('mb-qr-wrap')
  if(!wrap) return
  wrap.innerHTML = replies.map(r=>
    `<button class="mb-qr" onclick="${r.action}">${r.label}</button>`
  ).join('')
}

function mbSelectCurrency(code, sym, name){
  mbDemoCurrency = code
  // User message
  mbAddMsg(sym+' '+code, 'user')
  // Clear quick replies immediately
  const wrap = document.getElementById('mb-qr-wrap')
  if(wrap) wrap.innerHTML = ''
  // Bot confirms
  const local_99  = mbConvertAmount(99,  'USD', code)
  const local_499 = mbConvertAmount(499, 'USD', code)
  const local_999 = mbConvertAmount(999, 'USD', code)
  mbAddMsg(`✅ <b>Currency set to ${name} (${sym}${code})</b><br><br>Sample prices in ${code}:<br>• AI Consultation: ${mbFormat(local_99,code)}<br>• Custom AI Bot: ${mbFormat(local_499,code)}<br>• Premium Package: ${mbFormat(local_999,code)}<br><br>Want to see our full catalog?`, 'bot', 600)
  // Show product buttons
  setTimeout(()=>{
    mbSetQuickReplies([
      {label:'🛍️ Show Products', action:`mbShowProducts()`},
      {label:'💰 Change Currency', action:`mbChangeCurrency()`},
      {label:'🌐 nexus-ultra-platforms.com', action:`window.open('https://nexus-ultra-platforms.com','_blank')`}
    ])
  }, 1000)
}

function mbShowProducts(){
  if(!mbDemoCurrency){mbChangeCurrency();return}
  const code = mbDemoCurrency
  mbAddMsg('🛍️ Show Products', 'user')
  const p1 = mbFormat(mbConvertAmount(99,'USD',code), code)
  const p2 = mbFormat(mbConvertAmount(499,'USD',code), code)
  mbAddMsg(`🛍️ <b>Our Products (${code})</b><br><br>🤖 <b>AI Consultation</b><br>${p1} · 1-hour personal AI session<br><br>⚡ <b>Custom AI Bot</b><br>${p2} · Full bot development<br><br>Powered by NEXUS ULTRA<br>🌐 nexus-ultra-platforms.com`, 'bot', 500)
  setTimeout(()=>{
    mbSetQuickReplies([
      {label:`🛒 Buy AI Consultation`, action:`mbBuyProduct('AI Consultation',99)`},
      {label:`🛒 Buy Custom Bot`, action:`mbBuyProduct('Custom AI Bot',499)`},
      {label:'💰 Change Currency', action:`mbChangeCurrency()`}
    ])
  }, 900)
}

function mbBuyProduct(name, usd){
  if(!mbDemoCurrency) return
  const code = mbDemoCurrency
  const local = mbConvertAmount(usd, 'USD', code)
  const formatted = mbFormat(local, code)
  mbAddMsg('🛒 Buy '+name, 'user')
  mbAddMsg(`🛒 <b>${name}</b><br><br>Your price: <b>${formatted}</b> (${code})<br>USD: $${usd.toFixed(2)}<br>Rate: 1 USD = ${MB_RATES[code]} ${code}<br><br>Proceed to checkout?`, 'bot', 500)
  setTimeout(()=>{
    mbSetQuickReplies([
      {label:'✅ Confirm & Pay', action:`mbConfirmPay('${name}','${formatted}')`},
      {label:'💰 Change Currency', action:`mbChangeCurrency()`},
      {label:'❌ Cancel', action:`mbCancelCheckout()`}
    ])
  }, 900)
}

function mbConfirmPay(name, formatted){
  mbAddMsg('✅ Confirm & Pay', 'user')
  mbAddMsg(`💳 <b>Complete Payment</b><br><br>Amount: <b>${formatted}</b><br>Will be processed via Meta Pay (USD)<br><br><a href="https://nexus-ultra-platforms.com" target="_blank" style="color:#1877F2;font-weight:700">🌐 nexus-ultra-platforms.com</a>`, 'bot', 500)
  setTimeout(()=>{
    mbAddMsg(`✅ <b>Payment Successful!</b><br><br>🧾 Order Receipt<br>Product: ${name}<br>Amount: ${formatted}<br><br>Thank you! For support:<br>💬 <a href="https://wa.me/923408060167" target="_blank" style="color:#25d366">WhatsApp +92 340 8060167</a>`, 'bot')
    mbSetQuickReplies([
      {label:'🛍️ Shop More', action:`mbShowProducts()`},
      {label:'💬 WhatsApp Support', action:`window.open('https://wa.me/923408060167','_blank')`},
      {label:'🌐 Visit Platform', action:`window.open('https://nexus-ultra-platforms.com','_blank')`}
    ])
  }, 1200)
}

function mbCancelCheckout(){
  mbAddMsg('❌ Cancel', 'user')
  mbAddMsg('Checkout cancelled. Kuch aur madad? 😊', 'bot', 400)
  mbSetQuickReplies([
    {label:'🛍️ Products', action:`mbShowProducts()`},
    {label:'💰 Currency', action:`mbChangeCurrency()`}
  ])
}

function mbChangeCurrency(){
  mbAddMsg('💰 Change Currency', 'user')
  mbAddMsg('🌍 <b>Select your currency:</b>', 'bot', 400)
  setTimeout(()=>{
    mbSetQuickReplies([
      {label:'₨ PKR', action:`mbSelectCurrency('PKR','₨','Pakistani Rupee')`},
      {label:'$ USD', action:`mbSelectCurrency('USD','$','US Dollar')`},
      {label:'₹ INR', action:`mbSelectCurrency('INR','₹','Indian Rupee')`},
      {label:'€ EUR', action:`mbSelectCurrency('EUR','€','Euro')`},
      {label:'£ GBP', action:`mbSelectCurrency('GBP','£','British Pound')`},
      {label:'د.إ AED', action:`mbSelectCurrency('AED','د.إ','UAE Dirham')`}
    ])
  }, 700)
}

function mbSendMessage(){
  const inp = document.getElementById('mb-chat-inp')
  if(!inp||!inp.value.trim()) return
  const msg = inp.value.trim()
  inp.value = ''
  mbAddMsg(msg, 'user')
  // Smart AI-like responses
  const low = msg.toLowerCase()
  setTimeout(()=>{
    if(low.includes('price')||low.includes('cost')||low.includes('kitna')){
      mbAddMsg(`💰 Prices depend on your selected currency!<br>Currently: ${mbDemoCurrency||'not set'}<br><br>Select currency to see local prices:`, 'bot')
      if(!mbDemoCurrency) mbChangeCurrency()
    } else if(low.includes('buy')||low.includes('purchase')||low.includes('kharid')){
      mbShowProducts()
    } else if(low.includes('currency')||low.includes('change')){
      mbChangeCurrency()
    } else if(low.includes('hello')||low.includes('hi')||low.includes('salam')){
      mbAddMsg('👋 <b>Walaikum Assalam!</b><br><br>Welcome to NEXUS ULTRA Bot!<br>🌐 nexus-ultra-platforms.com<br><br>I can help you with:<br>• 💱 Multi-currency pricing<br>• 🛍️ Product catalog<br>• 💳 Meta Pay checkout', 'bot')
    } else if(low.includes('help')||low.includes('madad')){
      mbAddMsg(`🤖 <b>Bot Commands:</b><br><br>• "hi" — Welcome message<br>• "price" — See prices<br>• "buy" — Browse products<br>• "currency" — Change currency<br><br>🌐 <a href="https://nexus-ultra-platforms.com" target="_blank" style="color:#1877F2">nexus-ultra-platforms.com</a>`, 'bot')
    } else {
      mbAddMsg(`🤖 Samajh gaya! "<i>${msg}</i>"<br><br>Main ek AI-powered Messenger bot hoon.<br>Currency select karein ya products dekhein?`, 'bot')
      mbSetQuickReplies([
        {label:'💱 Select Currency', action:`mbChangeCurrency()`},
        {label:'🛍️ Products', action:`mbShowProducts()`},
        {label:'🌐 Platform', action:`window.open('https://nexus-ultra-platforms.com','_blank')`}
      ])
    }
  }, 700)
}

function mbCopyCode(id, btn){
  const el = document.getElementById(id)
  if(!el) return
  navigator.clipboard.writeText(el.innerText).then(()=>{
    btn.textContent = '✅ Copied!'
    btn.classList.add('copy-success')
    setTimeout(()=>{btn.textContent='📋 Copy';btn.classList.remove('copy-success')},2000)
  })
}

// ===== AUTOMATION STUDIO JS =====
function showAutomationStudio(){
  const sec = document.getElementById('automation-studio-section')
  sec.classList.add('visible')
  setTimeout(()=>{
    sec.scrollIntoView({behavior:'smooth'})
    asInitCharts()
    asStartMetrics()
    asInitLogo()
  },80)
}

function asSwitch(pageId, btn){
  document.querySelectorAll('#automation-studio-section .as-page').forEach(p=>p.classList.remove('active'))
  document.querySelectorAll('.as-tab').forEach(t=>t.classList.remove('active'))
  document.getElementById(pageId).classList.add('active')
  if(btn)btn.classList.add('active')
  if(pageId==='as-dashboard')asInitCharts()
}

// Live metrics ticker
let asMetricsInterval = null
let asTotalAuto = 0
function asStartMetrics(){
  if(asMetricsInterval) return
  asMetricsInterval = setInterval(()=>{
    asTotalAuto = Math.min(asTotalAuto + Math.floor(Math.random()*5), 150)
    const wf = Math.floor(Math.random()*12)+8
    const proc = Math.floor(Math.random()*100)
    const el1=document.getElementById('as-totalAuto')
    const el2=document.getElementById('as-activeWf')
    const el3=document.getElementById('as-aiProc')
    if(el1)el1.textContent=asTotalAuto
    if(el2)el2.textContent=wf
    if(el3)el3.textContent=proc+'%'
  },2000)
}

// Charts
let asChartInited = false
let asCharts = {}
function asInitCharts(){
  if(asChartInited) return
  asChartInited = true

  const perfCtx = document.getElementById('as-perf-chart')
  const platCtx = document.getElementById('as-platform-chart')
  if(!perfCtx||!platCtx) return

  // Performance Line Chart
  if(asCharts.perf) asCharts.perf.destroy()
  asCharts.perf = new Chart(perfCtx, {
    type:'line',
    data:{
      labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
      datasets:[
        {label:'Automations',data:[45,52,48,61,55,40,38],borderColor:'#3b82f6',backgroundColor:'rgba(59,130,246,0.1)',borderWidth:2,tension:0.4,fill:true},
        {label:'Success',data:[42,50,46,58,53,39,37],borderColor:'#10b981',backgroundColor:'rgba(16,185,129,0.08)',borderWidth:2,tension:0.4,fill:true}
      ]
    },
    options:{
      responsive:true,maintainAspectRatio:false,
      plugins:{legend:{labels:{color:'#e8eaf6',font:{family:'Outfit'}}}},
      scales:{
        x:{ticks:{color:'#7b83b0'},grid:{color:'rgba(99,102,241,0.08)'}},
        y:{ticks:{color:'#7b83b0'},grid:{color:'rgba(99,102,241,0.08)'}}
      }
    }
  })

  // Platform Pie Chart
  if(asCharts.plat) asCharts.plat.destroy()
  asCharts.plat = new Chart(platCtx, {
    type:'doughnut',
    data:{
      labels:['Shopify','Facebook','Google','GitHub','Others'],
      datasets:[{data:[30,25,20,15,10],backgroundColor:['#95BF47','#1877F2','#4285F4','#6366f1','#7b83b0'],borderWidth:0,hoverOffset:8}]
    },
    options:{
      responsive:true,maintainAspectRatio:false,
      plugins:{legend:{labels:{color:'#e8eaf6',font:{family:'Outfit',size:11}},position:'right'}}
    }
  })
}

// Playground generate
async function asGeneratePlayground(){
  const model = document.getElementById('as-model-select').value
  const prompt = document.getElementById('as-prompt-input').value.trim()
  const out = document.getElementById('as-output-box')
  if(!prompt){showToast('⚠️ Enter a prompt first!');return}

  out.textContent = '⚡ Generating response from '+model+'...\n\n'
  out.style.color = 'var(--accent)'

  if(nexusApiKey && model.toLowerCase().includes('claude')){
    // Use real Claude API
    out.textContent = '🤖 Connecting to Claude API...\n\nModel: '+model+'\nPrompt: '+prompt.substring(0,60)+'...\n\n'
    try {
      const result = await callClaudeAPI('You are Claude\'s Automation Studio AI assistant on NEXUS ULTRA Platform. Help with automation workflows, integrations and AI tasks.\n\nUser prompt: '+prompt)
      out.textContent = result
      out.style.color = 'var(--text)'
      showToast('✅ Real Claude AI response!')
    } catch(e){
      out.textContent = '❌ API Error: '+e.message+'\n\n(Add API key via 🔑 button for real Claude responses)'
      out.style.color = 'var(--accent2)'
    }
  } else {
    // Demo response
    setTimeout(()=>{
      const responses = {
        'GPT-4 Turbo': `🤖 GPT-4 Turbo Response:\n\nFor your request "${prompt}":\n\n1. WORKFLOW DESIGN:\n   • Trigger: Schedule/Webhook/API event\n   • Process: Data transformation & validation\n   • Action: Execute automation logic\n   • Notify: Send confirmation\n\n2. INTEGRATION POINTS:\n   • REST API endpoints\n   • OAuth 2.0 authentication\n   • Rate limiting: 1000 req/min\n\n3. ESTIMATED EXECUTION TIME: ~1.2 seconds\n\n✅ Ready to deploy to production.`,
        'Claude Sonnet 4.5': `⚡ Claude Sonnet 4.5 Response:\n\nAutomation Blueprint for: "${prompt}"\n\n📋 WORKFLOW STEPS:\n1. Initialize connection to target platform\n2. Authenticate using stored credentials\n3. Fetch/process required data\n4. Apply business logic transformation\n5. Execute action & log results\n6. Send success notification\n\n🔧 RECOMMENDED STACK:\n• Runtime: Node.js 20+\n• Queue: Redis/BullMQ\n• Storage: PostgreSQL\n• Deploy: Docker + AWS ECS\n\n💡 Add your Anthropic API key (🔑 button) for real Claude responses!`,
        'Gemini Pro': `🌟 Gemini Pro Response:\n\nProcessing automation request: "${prompt}"\n\n✅ SOLUTION ARCHITECTURE:\n• Microservices pattern recommended\n• Event-driven with message queues\n• Horizontal scaling enabled\n• 99.9% uptime SLA achievable\n\n🚀 DEPLOYMENT READY in 3 steps:\n1. Configure environment variables\n2. Run docker-compose up\n3. Monitor via dashboard\n\nEstimated cost: $0.002 per 1000 executions`
      }
      out.textContent = responses[model] || responses['Claude Sonnet 4.5']
      out.style.color = 'var(--text)'
      showToast('✅ Response generated!')
    }, 1800)
  }
}

// ===== 3D LOGO CANVAS (from uploaded design) =====
let asLogoInited = false
function asInitLogo(){
  if(asLogoInited) return
  asLogoInited = true

  // Generate stars
  const inner = document.getElementById('as-logo-inner')
  if(!inner) return
  const starsDiv = document.createElement('div')
  starsDiv.style.cssText='position:absolute;inset:0;pointer-events:none;z-index:1'
  for(let i=0;i<100;i++){
    const s=document.createElement('span')
    const sz=Math.random()*2+0.5
    s.style.cssText=`position:absolute;border-radius:50%;background:white;
      left:${Math.random()*100}%;top:${Math.random()*100}%;
      width:${sz}px;height:${sz}px;
      opacity:${(Math.random()*0.6+0.1).toFixed(2)};
      animation:twinkle${Math.floor(Math.random()*3)} ${(Math.random()*3+1.5).toFixed(1)}s infinite alternate;`
    starsDiv.appendChild(s)
  }
  inner.insertBefore(starsDiv, inner.firstChild)

  // 3D Canvas render
  const canvas = document.getElementById('as-logo-canvas')
  if(!canvas) return
  const ctx = canvas.getContext('2d')
  const W=canvas.width, H=canvas.height
  const ccx=W/2, ccy=H/2-10
  let lt=0, asRaf=null

  function asProject(x,y,z,rx,ry){
    let x1=x*Math.cos(ry)-z*Math.sin(ry)
    let z1=x*Math.sin(ry)+z*Math.cos(ry)
    let y1=y*Math.cos(rx)-z1*Math.sin(rx)
    let z2=y*Math.sin(rx)+z1*Math.cos(rx)
    const fov=380
    const sc=fov/(fov+z2)
    return{sx:x1*sc+ccx,sy:y1*sc+ccy,scale:sc,z:z2}
  }
  function hexPts(r,n=6){
    const p=[]
    for(let i=0;i<n;i++){const a=(Math.PI*2/n)*i-Math.PI/6;p.push([r*Math.cos(a),r*Math.sin(a)])}
    return p
  }
  function torusPt(R,r,u,v){
    return[(R+r*Math.cos(v))*Math.cos(u),(R+r*Math.cos(v))*Math.sin(u),r*Math.sin(v)]
  }
  function asDrawFrame(){
    ctx.clearRect(0,0,W,H)
    lt+=0.012
    const ry=lt, rx=0.3+Math.sin(lt*0.4)*0.15

    // Torus
    const TR=90,tr=11,su=40,sv=14
    const tf=[]
    for(let i=0;i<su;i++)for(let j=0;j<sv;j++){
      const u0=(Math.PI*2/su)*i,u1=(Math.PI*2/su)*(i+1)
      const v0=(Math.PI*2/sv)*j,v1=(Math.PI*2/sv)*(j+1)
      const pp=[torusPt(TR,tr,u0,v0),torusPt(TR,tr,u1,v0),torusPt(TR,tr,u1,v1),torusPt(TR,tr,u0,v1)]
        .map(p=>asProject(...p,rx,ry))
      const mz=(pp[0].z+pp[1].z+pp[2].z+pp[3].z)/4
      const hue=((u0+v0)*180/Math.PI+lt*60)%360
      const light=35+(mz+150)*0.15
      tf.push({pp,z:mz,hue,light})
    }
    tf.sort((a,b)=>a.z-b.z)
    for(const f of tf){
      ctx.beginPath();ctx.moveTo(f.pp[0].sx,f.pp[0].sy)
      for(let i=1;i<4;i++)ctx.lineTo(f.pp[i].sx,f.pp[i].sy)
      ctx.closePath()
      const alpha=Math.min(1,0.5+(f.z+150)*0.002)
      ctx.fillStyle=`hsla(${f.hue},100%,${f.light}%,${alpha})`
      ctx.strokeStyle='rgba(0,0,0,0.2)';ctx.lineWidth=0.3;ctx.fill();ctx.stroke()
    }

    // Hex prism
    const hexR=52,hexD=24,hex=hexPts(hexR),f3=[]
    for(const sign of[1,-1]){
      const fv=hex.map(([x,y])=>asProject(x,y,sign*hexD,rx,ry))
      f3.push({verts:fv,z:fv.reduce((s,v)=>s+v.z,0)/6,type:'face',sign})
    }
    for(let i=0;i<6;i++){
      const j=(i+1)%6
      const[x0,y0]=hex[i],[x1,y1]=hex[j]
      const p0=asProject(x0,y0,hexD,rx,ry),p1=asProject(x1,y1,hexD,rx,ry)
      const p2=asProject(x1,y1,-hexD,rx,ry),p3=asProject(x0,y0,-hexD,rx,ry)
      f3.push({verts:[p0,p1,p2,p3],z:(p0.z+p1.z+p2.z+p3.z)/4,type:'side',idx:i})
    }
    f3.sort((a,b)=>a.z-b.z)
    for(const f of f3){
      ctx.beginPath();ctx.moveTo(f.verts[0].sx,f.verts[0].sy)
      for(let i=1;i<f.verts.length;i++)ctx.lineTo(f.verts[i].sx,f.verts[i].sy)
      ctx.closePath()
      if(f.type==='face'){
        const g=ctx.createRadialGradient(ccx,ccy,0,ccx,ccy,hexR*0.9)
        if(f.sign>0){g.addColorStop(0,'rgba(0,245,255,0.95)');g.addColorStop(0.5,'rgba(0,180,255,0.7)');g.addColorStop(1,'rgba(0,50,120,0.4)')}
        else{g.addColorStop(0,'rgba(255,0,110,0.8)');g.addColorStop(1,'rgba(100,0,60,0.3)')}
        ctx.fillStyle=g
      } else {
        const brightness=30+(f.z+100)*0.15
        ctx.fillStyle=`hsla(${190+f.idx*60},100%,${brightness}%,0.85)`
      }
      ctx.fill();ctx.strokeStyle='rgba(0,245,255,0.6)';ctx.lineWidth=1.2;ctx.stroke()
    }

    // N glyph
    const sc0=hexPts(hexR)[0]
    const scl=asProject(sc0[0],sc0[1],hexD+1,rx,ry).scale
    const nsz=24*scl
    ctx.save();ctx.translate(ccx,ccy)
    ctx.transform(Math.cos(ry),Math.sin(ry)*Math.sin(rx),0,Math.cos(rx),0,0)
    ctx.font=`bold ${nsz}px 'Syne',monospace`;ctx.textAlign='center';ctx.textBaseline='middle'
    ctx.fillStyle='rgba(0,0,0,0.85)';ctx.fillText('N',1,1)
    ctx.fillStyle='#fff';ctx.shadowColor='rgba(0,245,255,1)';ctx.shadowBlur=12
    ctx.fillText('N',0,0);ctx.restore()

    // Particles
    for(let i=0;i<10;i++){
      const angle=(Math.PI*2/10)*i+lt*0.8
      const dist=70+Math.sin(lt*2+i)*7
      const pp=asProject(dist*Math.cos(angle),0,dist*Math.sin(angle),rx,ry)
      const sz=2+Math.sin(lt*3+i)*1
      const hue=(i*36+lt*60)%360
      ctx.beginPath();ctx.arc(pp.sx,pp.sy,sz,0,Math.PI*2)
      ctx.fillStyle=`hsla(${hue},100%,70%,${0.6+Math.sin(lt*2+i)*0.3})`
      ctx.shadowColor=`hsla(${hue},100%,70%,1)`;ctx.shadowBlur=10
      ctx.fill();ctx.shadowBlur=0
    }
    asRaf=requestAnimationFrame(asDrawFrame)
  }
  asDrawFrame()
}

function showPortfolioSection(){
  document.getElementById('portfolio-section').classList.add('visible')
  setTimeout(()=>document.getElementById('portfolio-section').scrollIntoView({behavior:'smooth'}),50)
}

function pfSwitch(pageId, btn){
  document.querySelectorAll('#portfolio-section .pf-page').forEach(p=>p.classList.remove('active'))
  document.querySelectorAll('.pf-tab').forEach(t=>t.classList.remove('active'))
  document.getElementById(pageId).classList.add('active')
  if(btn)btn.classList.add('active')
}

function pfToolSwitch(pageId, btn){
  document.querySelectorAll('#pt-vgen,#pt-cgen,#pt-task').forEach(p=>p.classList.remove('active'))
  document.querySelectorAll('#pf-tools .pf-tab').forEach(t=>t.classList.remove('active'))
  document.getElementById(pageId).classList.add('active')
  if(btn)btn.classList.add('active')
}

// Portfolio Video Script Generator
function pfGenerateVideo(){
  const title=document.getElementById('pf-vid-title').value||'AI سے پیسے کمانے کے طریقے'
  const type=document.getElementById('pf-vid-type').value
  const lang=document.getElementById('pf-vid-lang').value
  const pb=document.getElementById('pb-pfvid')
  pb.classList.add('active')
  const fill=pb.querySelector('.progress-fill')
  fill.style.animation='none';fill.style.width='0%'
  void fill.offsetWidth
  fill.style.animation='progress-anim 2s ease infinite,move 3s linear forwards'
  setTimeout(()=>{
    pb.classList.remove('active')
    const out=document.getElementById('out-pfvid')
    out.style.display='block'
    out.style.direction='rtl'
    out.style.textAlign='right'
    out.textContent=`🎬 ویڈیو اسکرپٹ: "${title}"
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
قسم: ${type} | زبان: ${lang}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎯 HOOK (0-5 سیکنڈ):
"کیا آپ جانتے ہیں کہ ${title} سے آپ ہر مہینے ₹50,000+ کما سکتے ہیں؟ آج میں آپ کو وہ راز بتاؤں گا جو زیادہ تر لوگ نہیں جانتے!"

📖 INTRO (5-30 سیکنڈ):
السلام علیکم! میں ہوں Rananisar اور آپ دیکھ رہے ہیں Rananisar AI Studio۔ آج کی اس ویڈیو میں ہم سیکھیں گے ${title} کے بارے میں مکمل طریقہ۔

🎬 MAIN CONTENT (30s-4 منٹ):
━━━━━━━━━━━━━━━━━━━━
نکتہ 1️⃣: شروعات کیسے کریں
- پہلے Claude AI account بنائیں
- پھر اپنی skill identify کریں
- مثال: content writing، prompting، AI tools

نکتہ 2️⃣: Fiverr Profile بنائیں
- Professional gig description
- اپنی AI skills showcase کریں
- پہلے 5 orders پر discount دیں

نکتہ 3️⃣: Affiliate Marketing
- Claude کا affiliate program join کریں
- ہر sale پر 30% commission پائیں
- Social media پر promote کریں

نکتہ 4️⃣: مستقل آمدنی
- ابتدائی طور پر ₹500-1000 روزانہ
- 3 مہینے بعد ₹2000-5000 روزانہ ممکن

🎤 OUTRO (آخری 30 سیکنڈ):
"تو دوستو، آج کی ویڈیو میں بس یہی تھا۔ اگر آپ کو یہ معلومات مفید لگی تو Like کریں، Channel Subscribe کریں، اور اپنے دوستوں کے ساتھ ضرور شیئر کریں۔ اگلی ویڈیو میں ملتے ہیں!"

📊 ویڈیو کے لیے تجاویز:
🎵 Music: Soft background music (40% volume)
📸 B-Roll: Screen recordings، phone shots، city views
🎨 Thumbnail: Bold text + bright colors + face
#️⃣ Tags: AI کمائی، freelancing، ${title}، Pakistan earn`
    showToast('🎬 ویڈیو اسکرپٹ تیار ہے!')
  },2800)
}

// Portfolio Content Generator
function pfGenerateContent(){
  const type=document.getElementById('pf-content-type').value
  const topic=document.getElementById('pf-content-topic').value||'AI سے کمائی'
  const pb=document.getElementById('pb-pfcont')
  pb.classList.add('active')
  const fill=pb.querySelector('.progress-fill')
  fill.style.animation='none';fill.style.width='0%'
  void fill.offsetWidth;fill.style.animation='progress-anim 2s ease infinite,move 3s linear forwards'
  setTimeout(()=>{
    pb.classList.remove('active')
    const out=document.getElementById('out-pfcont')
    out.style.display='block';out.style.direction='rtl';out.style.textAlign='right'
    out.textContent=`📝 ${type}: "${topic}"
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

عنوان: ${topic} - مکمل گائیڈ 2024

تعارف:
آج کے ڈیجیٹل دور میں ${topic} نے لاکھوں لوگوں کی زندگی بدل دی ہے۔ اس مضمون میں ہم سیکھیں گے کہ آپ کس طرح گھر بیٹھے AI کی مدد سے اچھی خاصی آمدنی حاصل کر سکتے ہیں۔

اہم نکات:
• Claude AI ایک طاقتور tool ہے جو ہر قسم کا مواد بنا سکتا ہے
• Fiverr اور Upwork پر AI services کی بہت مانگ ہے
• شروعاتی طور پر ₹500-1000 روزانہ کمانا ممکن ہے
• 6 مہینے کی محنت سے ₹50,000+ ماہانہ ممکن

عملی قدم:
1. Claude AI کا account بنائیں (مفت)
2. اپنی پہلی service Fiverr پر list کریں
3. 5 مفت samples بنا کر portfolio بنائیں
4. پہلے 10 orders پر 50% discount دیں
5. Reviews جمع کریں اور prices بڑھائیں

نتیجہ:
${topic} ایک حقیقی کاروباری موقع ہے۔ آج ہی شروع کریں اور اپنا مستقبل روشن بنائیں۔`
    showToast('📝 مواد تیار ہے! Fiverr پر بیچیں!')
  },2800)
}

// Portfolio Task Tracker
let pfTasks=[]
function pfAddTask(){
  const input=document.getElementById('pf-task-input')
  const pri=document.getElementById('pf-task-pri').value
  const name=input.value.trim()
  if(!name){showToast('⚠️ کام کا نام لکھیں!');return}
  pfTasks.unshift({id:Date.now(),name,pri,done:false})
  input.value=''
  pfRenderTasks()
  showToast('✅ کام شامل ہو گیا!')
}
function pfToggleTask(id){
  const t=pfTasks.find(t=>t.id===id);if(t)t.done=!t.done
  pfRenderTasks()
}
function pfDeleteTask(id){
  pfTasks=pfTasks.filter(t=>t.id!==id);pfRenderTasks()
  showToast('🗑️ کام ہٹا دیا گیا!')
}
function pfRenderTasks(){
  const list=document.getElementById('pf-task-list')
  if(!pfTasks.length){list.innerHTML='<div style="text-align:center;color:var(--muted);padding:24px;font-size:0.88rem">کوئی کام نہیں — اوپر نیا کام شامل کریں</div>';return}
  const priColors={high:'var(--accent2)',med:'var(--accent4)',low:'var(--accent3)'}
  const priLabels={high:'🔴 ضروری',med:'🟡 درمیانہ',low:'🟢 عام'}
  list.innerHTML=pfTasks.map(t=>`
    <div style="display:flex;align-items:center;gap:10px;padding:12px 14px;background:var(--surface);border:1px solid var(--border);border-radius:10px;margin-bottom:8px;${t.done?'opacity:0.5':''}">
      <div onclick="pfToggleTask(${t.id})" style="width:20px;height:20px;border-radius:50%;border:2px solid ${priColors[t.pri]};cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;background:${t.done?priColors[t.pri]:'transparent'}">
        ${t.done?'✓':''}
      </div>
      <div style="flex:1;${t.done?'text-decoration:line-through;color:var(--muted)':''}">
        <div style="font-size:0.88rem;font-family:'Outfit',sans-serif;direction:rtl;text-align:right">${t.name}</div>
        <div style="font-size:0.7rem;color:${priColors[t.pri]};margin-top:2px">${priLabels[t.pri]}</div>
      </div>
      <button onclick="pfDeleteTask(${t.id})" style="background:rgba(244,63,94,0.1);border:1px solid rgba(244,63,94,0.2);color:var(--accent2);width:28px;height:28px;border-radius:6px;cursor:pointer;font-size:0.8rem;flex-shrink:0">🗑</button>
    </div>`).join('')
}

// Initialize task list
pfRenderTasks()


function showVideoSection(){
  document.getElementById('video-section').classList.add('visible')
  setTimeout(()=>{
    document.getElementById('video-section').scrollIntoView({behavior:'smooth'})
    initVideoPlayer()
  },50)
}
function showPromptSamples(){
  document.getElementById('prompt-samples').classList.add('visible')
  setTimeout(()=>{
    document.getElementById('prompt-samples').scrollIntoView({behavior:'smooth'})
    renderPromptCards()
  },50)
}

// ===== ANIMATED VIDEO PLAYER (Canvas) =====
const videoScenes=[
  {
    name:'Intro',
    bg:['#04050a','#0d0620'],
    orbs:[{x:0.2,y:0.2,r:280,c:'rgba(99,102,241,0.25)'},{x:0.8,y:0.8,r:220,c:'rgba(244,63,94,0.2)'}],
    title:'⚡ NEXUS ULTRA',
    subtitle:'The Complete Digital Platform',
    items:['🤖 50+ AI Tools','🎮 6 Live Games','💰 Affiliate Hub','🛒 E-Commerce Store'],
    accent:'#6366f1',duration:30
  },
  {
    name:'AI Studio',
    bg:['#04050a','#0a0520'],
    orbs:[{x:0.8,y:0.1,r:250,c:'rgba(124,58,237,0.3)'},{x:0.1,y:0.9,r:180,c:'rgba(99,102,241,0.2)'}],
    title:'🤖 AI Studio',
    subtitle:'7 Powerful Generators',
    items:['✍️ Prompt Generator','🎨 Image Generator','🎬 Video Scripts','💻 Code Generator'],
    accent:'#7c3aed',duration:30
  },
  {
    name:'Games',
    bg:['#04050a','#12050a'],
    orbs:[{x:0.5,y:0.2,r:260,c:'rgba(244,63,94,0.25)'},{x:0.2,y:0.8,r:200,c:'rgba(245,158,11,0.2)'}],
    title:'🎮 Game Playground',
    subtitle:'6 Fun Games Built In',
    items:['🐍 Snake Classic','🧠 AI Knowledge Quiz','🃏 Memory Cards','🎯 Click Speed Test'],
    accent:'#f43f5e',duration:30
  },
  {
    name:'Store',
    bg:['#04050a','#041210'],
    orbs:[{x:0.3,y:0.3,r:240,c:'rgba(16,185,129,0.25)'},{x:0.8,y:0.7,r:200,c:'rgba(6,182,212,0.2)'}],
    title:'🛒 E-Commerce',
    subtitle:'Digital Products Store',
    items:['💡 Prompt Packs','📊 SEO Toolkit','🎨 Canva Templates','🤖 AI Courses'],
    accent:'#10b981',duration:30
  },
  {
    name:'Affiliate',
    bg:['#04050a','#12100a'],
    orbs:[{x:0.7,y:0.3,r:260,c:'rgba(245,158,11,0.25)'},{x:0.2,y:0.7,r:180,c:'rgba(244,63,94,0.2)'}],
    title:'💰 Affiliate Hub',
    subtitle:'Earn Recurring Commissions',
    items:['🛍️ Amazon: 10% / Sale','💎 ClickFunnels: 40%','🔧 Shopify: $150/ref','🤖 AI Tools: 30%/mo'],
    accent:'#f59e0b',duration:30
  },
  {
    name:'Dashboard',
    bg:['#04050a','#050a14'],
    orbs:[{x:0.4,y:0.4,r:280,c:'rgba(6,182,212,0.22)'},{x:0.8,y:0.2,r:200,c:'rgba(99,102,241,0.18)'}],
    title:'📊 Project Dashboard',
    subtitle:'Full Team & Task Manager',
    items:['✅ Task Tracking','👥 Team Management','📈 Analytics Charts','🔔 Live Updates'],
    accent:'#06b6d4',duration:30
  },
]

let vpCanvas,vpCtx,vpFrame=0,vpTotalFrames=900,vpPlaying=false,vpRAF=null
let vpCurrentScene=0,vpSceneFrame=0
let vpParticles=[]

function initVideoPlayer(){
  vpCanvas=document.getElementById('videoCanvas')
  if(!vpCanvas)return
  const wrap=vpCanvas.parentElement
  vpCanvas.width=wrap.offsetWidth||800
  vpCanvas.height=Math.round(vpCanvas.width*9/16)
  vpCtx=vpCanvas.getContext('2d')
  vpParticles=Array.from({length:40},()=>({
    x:Math.random()*vpCanvas.width,
    y:Math.random()*vpCanvas.height,
    vx:(Math.random()-0.5)*0.4,
    vy:-0.3-Math.random()*0.5,
    r:Math.random()*2+0.5,
    opacity:Math.random()*0.4+0.1,
    color:['#6366f1','#f43f5e','#10b981','#f59e0b','#06b6d4'][Math.floor(Math.random()*5)]
  }))
  drawVideoFrame()
  document.getElementById('vpTime').textContent=`0:00 / ${fmtTime(vpTotalFrames/30)}`
}

function fmtTime(s){const m=Math.floor(s/60);return `${m}:${String(Math.floor(s%60)).padStart(2,'0')}`}

function drawVideoFrame(){
  if(!vpCtx||!vpCanvas)return
  const W=vpCanvas.width,H=vpCanvas.height
  const sc=videoScenes[vpCurrentScene]
  const pct=Math.min(vpSceneFrame/180,1)// 6s per scene @30fps

  // Background gradient
  const bg=vpCtx.createLinearGradient(0,0,W,H)
  bg.addColorStop(0,sc.bg[0]);bg.addColorStop(1,sc.bg[1])
  vpCtx.fillStyle=bg;vpCtx.fillRect(0,0,W,H)

  // Grid
  vpCtx.strokeStyle='rgba(99,102,241,0.06)';vpCtx.lineWidth=1
  for(let x=0;x<W;x+=50){vpCtx.beginPath();vpCtx.moveTo(x,0);vpCtx.lineTo(x,H);vpCtx.stroke()}
  for(let y=0;y<H;y+=50){vpCtx.beginPath();vpCtx.moveTo(0,y);vpCtx.lineTo(W,y);vpCtx.stroke()}

  // Orbs
  sc.orbs.forEach(o=>{
    const grd=vpCtx.createRadialGradient(o.x*W,o.y*H,0,o.x*W,o.y*H,o.r+Math.sin(vpFrame*0.02)*20)
    grd.addColorStop(0,o.c);grd.addColorStop(1,'transparent')
    vpCtx.fillStyle=grd;vpCtx.fillRect(0,0,W,H)
  })

  // Particles
  vpParticles.forEach(p=>{
    p.x+=p.vx;p.y+=p.vy
    if(p.y<-10){p.y=H+10;p.x=Math.random()*W}
    vpCtx.beginPath();vpCtx.arc(p.x,p.y,p.r,0,Math.PI*2)
    vpCtx.fillStyle=p.color.replace(')',`,${p.opacity})`).replace('rgb','rgba').replace('rgba(rgba','rgba')
    try{vpCtx.fillStyle=p.color;vpCtx.globalAlpha=p.opacity;vpCtx.fill();vpCtx.globalAlpha=1}catch(e){}
  })

  const ease=t=>t<0.5?2*t*t:1-Math.pow(-2*t+2,2)/2
  const ep=ease(Math.min(pct*2,1))

  // Title card bg
  const cY=H*0.5
  vpCtx.save()
  vpCtx.globalAlpha=ep
  const cardW=Math.min(W*0.85,600),cardH=H*0.7
  const cardX=(W-cardW)/2,cardY=(H-cardH)/2
  const rr=vpCtx.createLinearGradient(cardX,cardY,cardX+cardW,cardY+cardH)
  rr.addColorStop(0,'rgba(17,20,37,0.85)');rr.addColorStop(1,'rgba(11,13,24,0.9)')
  roundRect(vpCtx,cardX,cardY,cardW,cardH,20,rr,'rgba(99,102,241,0.2)',1)

  // Accent line
  vpCtx.strokeStyle=sc.accent;vpCtx.lineWidth=3;vpCtx.globalAlpha=ep*0.8
  vpCtx.beginPath();vpCtx.moveTo(cardX+20,cardY+8);vpCtx.lineTo(cardX+60,cardY+8);vpCtx.stroke()

  // Title
  vpCtx.globalAlpha=ep
  vpCtx.font=`900 ${Math.round(H*0.085)}px Syne,sans-serif`
  vpCtx.textAlign='center';vpCtx.fillStyle='#e8eaf6'
  vpCtx.shadowColor=sc.accent;vpCtx.shadowBlur=20
  vpCtx.fillText(sc.title,W/2,cardY+cardH*0.28)
  vpCtx.shadowBlur=0

  // Subtitle
  vpCtx.font=`600 ${Math.round(H*0.042)}px Outfit,sans-serif`
  vpCtx.fillStyle='rgba(200,204,240,0.55)'
  vpCtx.fillText(sc.subtitle,W/2,cardY+cardH*0.4)

  // Divider
  vpCtx.strokeStyle=`${sc.accent}44`;vpCtx.lineWidth=1
  vpCtx.beginPath();vpCtx.moveTo(cardX+40,cardY+cardH*0.47);vpCtx.lineTo(cardX+cardW-40,cardY+cardH*0.47);vpCtx.stroke()

  // Feature list items
  sc.items.forEach((item,i)=>{
    const ip=ease(Math.min(Math.max((pct-i*0.08)*3,0),1))
    vpCtx.globalAlpha=ep*ip
    const iy=cardY+cardH*(0.57+i*0.1)
    // dot
    vpCtx.fillStyle=sc.accent;vpCtx.beginPath();vpCtx.arc(cardX+50,iy-4,5,0,Math.PI*2);vpCtx.fill()
    // text
    vpCtx.font=`500 ${Math.round(H*0.036)}px Outfit,sans-serif`
    vpCtx.fillStyle='rgba(232,234,246,0.85)';vpCtx.textAlign='left'
    vpCtx.fillText(item,cardX+70,iy)
  })

  // Scene indicator dots
  vpCtx.textAlign='center'
  videoScenes.forEach((_,i)=>{
    vpCtx.globalAlpha=i===vpCurrentScene?0.9:0.3
    vpCtx.fillStyle=i===vpCurrentScene?sc.accent:'#7b83b0'
    vpCtx.beginPath();vpCtx.arc(W/2+(i-videoScenes.length/2+0.5)*16,H-20,i===vpCurrentScene?5:3,0,Math.PI*2);vpCtx.fill()
  })

  // Progress bar on video itself
  vpCtx.globalAlpha=0.5
  vpCtx.fillStyle='rgba(255,255,255,0.1)';vpCtx.fillRect(0,H-3,W,3)
  vpCtx.fillStyle=sc.accent;vpCtx.fillRect(0,H-3,W*(vpFrame/vpTotalFrames),3)
  vpCtx.globalAlpha=1
  vpCtx.restore()

  // Time top right
  vpCtx.font=`700 ${Math.round(H*0.04)}px Space Mono,monospace`
  vpCtx.fillStyle='rgba(255,255,255,0.25)';vpCtx.textAlign='right'
  vpCtx.fillText(fmtTime(vpFrame/30),W-16,28)

  // NEXUS watermark
  vpCtx.font=`800 ${Math.round(H*0.038)}px Syne,sans-serif`
  vpCtx.textAlign='left';vpCtx.fillStyle='rgba(99,102,241,0.3)'
  vpCtx.fillText('⚡ NEXUS ULTRA',16,28)
}

function roundRect(ctx,x,y,w,h,r,fill,stroke,lw=1){
  ctx.beginPath();ctx.moveTo(x+r,y);ctx.lineTo(x+w-r,y);ctx.quadraticCurveTo(x+w,y,x+w,y+r)
  ctx.lineTo(x+w,y+h-r);ctx.quadraticCurveTo(x+w,y+h,x+w-r,y+h)
  ctx.lineTo(x+r,y+h);ctx.quadraticCurveTo(x,y+h,x,y+h-r)
  ctx.lineTo(x,y+r);ctx.quadraticCurveTo(x,y,x+r,y);ctx.closePath()
  if(fill){ctx.fillStyle=fill;ctx.fill()}
  if(stroke){ctx.strokeStyle=stroke;ctx.lineWidth=lw;ctx.stroke()}
}

function vpTick(){
  if(!vpPlaying)return
  vpFrame=(vpFrame+1)%vpTotalFrames
  vpSceneFrame++
  // Switch scene every 150 frames (~5s at 30fps)
  const sceneLen=Math.floor(vpTotalFrames/videoScenes.length)
  const newScene=Math.floor(vpFrame/sceneLen)%videoScenes.length
  if(newScene!==vpCurrentScene){
    vpCurrentScene=newScene;vpSceneFrame=0
    document.querySelectorAll('.vscene-tab').forEach((t,i)=>t.classList.toggle('active',i===vpCurrentScene))
  }
  drawVideoFrame()
  const fillPct=(vpFrame/vpTotalFrames*100)
  document.getElementById('vpProgressFill').style.width=fillPct+'%'
  document.getElementById('vpTime').textContent=`${fmtTime(vpFrame/30)} / ${fmtTime(vpTotalFrames/30)}`
  vpRAF=requestAnimationFrame(vpTick)
}

function toggleVideoPlay(){
  vpPlaying=!vpPlaying
  document.getElementById('vpPlayBtn').textContent=vpPlaying?'⏸':'▶'
  if(vpPlaying){if(!vpCanvas)initVideoPlayer();vpTick()}
  else cancelAnimationFrame(vpRAF)
}

function seekVideo(e){
  const bar=document.getElementById('vpProgress')
  const rect=bar.getBoundingClientRect()
  const pct=(e.clientX-rect.left)/rect.width
  vpFrame=Math.floor(pct*vpTotalFrames)
  vpCurrentScene=Math.floor(vpFrame/(vpTotalFrames/videoScenes.length))%videoScenes.length
  vpSceneFrame=vpFrame%(vpTotalFrames/videoScenes.length)
  drawVideoFrame()
  document.getElementById('vpProgressFill').style.width=(pct*100)+'%'
  document.getElementById('vpTime').textContent=`${fmtTime(vpFrame/30)} / ${fmtTime(vpTotalFrames/30)}`
  document.querySelectorAll('.vscene-tab').forEach((t,i)=>t.classList.toggle('active',i===vpCurrentScene))
}

function switchVideoScene(idx,tab){
  document.querySelectorAll('.vscene-tab').forEach(t=>t.classList.remove('active'))
  tab.classList.add('active')
  vpCurrentScene=idx
  vpSceneFrame=0
  const sceneLen=Math.floor(vpTotalFrames/videoScenes.length)
  vpFrame=idx*sceneLen
  if(!vpCanvas)initVideoPlayer()
  drawVideoFrame()
  document.getElementById('vpProgressFill').style.width=(vpFrame/vpTotalFrames*100)+'%'
  document.getElementById('vpTime').textContent=`${fmtTime(vpFrame/30)} / ${fmtTime(vpTotalFrames/30)}`
}

// Resize canvas on window resize
window.addEventListener('resize',()=>{
  if(vpCanvas){
    const wrap=vpCanvas.parentElement
    vpCanvas.width=wrap.offsetWidth||800
    vpCanvas.height=Math.round(vpCanvas.width*9/16)
    drawVideoFrame()
  }
})

// ===== PROMPT SAMPLES DATA =====
const allPrompts=[
  // CHATGPT
  {id:1,cat:'chatgpt',platform:'ChatGPT',icon:'🤖',iconBg:'rgba(16,185,129,0.15)',iconColor:'#10b981',title:'Ultra Sales Email',platformColor:'#10b981',
   prompt:`You are an elite copywriter with 20+ years of experience. Write a high-converting cold sales email for [PRODUCT] targeting [AUDIENCE]. Use the PAS framework (Problem-Agitate-Solution). Include: powerful subject line, 3 pain points, your unique solution, 2 social proof elements, urgency trigger, and a clear CTA. Max 250 words. Conversational yet professional tone.`},
  {id:2,cat:'chatgpt',platform:'ChatGPT',icon:'🤖',iconBg:'rgba(16,185,129,0.15)',iconColor:'#10b981',title:'10x Your Productivity',platformColor:'#10b981',
   prompt:`Act as a world-class productivity coach. Create a personalized 30-day productivity system for someone who [USER_SITUATION]. Include: morning routine (exact times), deep work blocks, energy management, distraction elimination tactics, weekly review process, and 5 game-changing habits. Format as a day-by-day action plan with specific tools and apps.`},
  {id:3,cat:'chatgpt',platform:'ChatGPT',icon:'🤖',iconBg:'rgba(16,185,129,0.15)',iconColor:'#10b981',title:'Business Plan Generator',platformColor:'#10b981',
   prompt:`You are McKinsey senior consultant. Create a comprehensive business plan for [BUSINESS IDEA] targeting [MARKET]. Include: executive summary, market analysis with TAM/SAM/SOM, competitive landscape, unique value proposition, revenue model (3 streams), go-to-market strategy, financial projections (3 years), and key risks with mitigation. Be specific with numbers.`},
  {id:4,cat:'chatgpt',platform:'ChatGPT',icon:'🤖',iconBg:'rgba(16,185,129,0.15)',iconColor:'#10b981',title:'Viral Content Strategy',platformColor:'#10b981',
   prompt:`You are a top social media strategist who has grown accounts to 1M+ followers. Create a 90-day viral content strategy for [NICHE/BRAND]. Include: content pillars, posting schedule, hook formulas that get shares, 30 content ideas with hooks, engagement tactics, hashtag strategy, and metrics to track. Focus on [PLATFORM].`},

  // IMAGE AI
  {id:5,cat:'image',platform:'Midjourney',icon:'🎨',iconBg:'rgba(99,102,241,0.15)',iconColor:'#6366f1',title:'Cyberpunk Portrait',platformColor:'#6366f1',
   prompt:`/imagine portrait of a futuristic cyberpunk warrior, neon blue and magenta lighting, rain-soaked skin reflecting city lights, intricate tattoos, augmented eye implants glowing red, bokeh background of a Tokyo night market, ultra-sharp focus, 8K resolution, shot on Sony A7R IV, f/1.8 aperture, cinematic color grade --ar 2:3 --q 2 --v 6.1 --s 750`},
  {id:6,cat:'image',platform:'DALL-E 3',icon:'🎨',iconBg:'rgba(99,102,241,0.15)',iconColor:'#6366f1',title:'Fantasy City at Dawn',platformColor:'#6366f1',
   prompt:`Create a breathtaking fantasy city built on floating islands at golden hour. Crystal spires piercing clouds, waterfalls cascading into the void below, airships drifting between towers, ancient stone architecture meeting futuristic glass, warm amber sun rays, volumetric god rays through mist, hyperdetailed architecture, epic scale, award-winning digital art, 8K resolution.`},
  {id:7,cat:'image',platform:'Midjourney',icon:'🎨',iconBg:'rgba(99,102,241,0.15)',iconColor:'#6366f1',title:'Product Photography',platformColor:'#6366f1',
   prompt:`/imagine [PRODUCT NAME] luxury product photography, minimalist white marble surface, subtle shadow, single dramatic side lighting from left, water droplets for freshness, macro lens detail, premium brand aesthetic, white background, studio quality, commercial photography style, shot with Hasselblad camera, post-processed in Lightroom --ar 1:1 --q 2 --s 500`},
  {id:8,cat:'image',platform:'Stable Diffusion',icon:'🎨',iconBg:'rgba(99,102,241,0.15)',iconColor:'#6366f1',title:'Anime Character Design',platformColor:'#6366f1',
   prompt:`masterpiece, best quality, ultra-detailed, 1girl, silver white hair, heterochromia eyes (blue and violet), futuristic mecha armor, glowing energy core, cherry blossoms falling, sunset sky, dynamic pose, dramatic lighting, cinematic composition, anime style, by makoto shinkai, trending on artstation, 4K, vibrant colors, perfect anatomy`},

  // VIDEO
  {id:9,cat:'video',platform:'YouTube Script',icon:'🎬',iconBg:'rgba(244,63,94,0.15)',iconColor:'#f43f5e',title:'Hook + Intro Formula',platformColor:'#f43f5e',
   prompt:`Write a YouTube video hook and intro for a video about [TOPIC]. The hook must be a shocking statistic or controversial statement (max 2 sentences) that makes viewers stop scrolling. Then write a 45-second intro that: teases the 3 biggest reveals, builds curiosity without spoiling, establishes credibility, and ends with a pattern interrupt. Target audience: [AUDIENCE]. Tone: conversational and energetic.`},
  {id:10,cat:'video',platform:'TikTok Script',icon:'🎬',iconBg:'rgba(244,63,94,0.15)',iconColor:'#f43f5e',title:'60-Second Viral TikTok',platformColor:'#f43f5e',
   prompt:`Write a viral TikTok script (60 seconds max) about [TOPIC]. Structure: Second 0-3: Attention grab with bold statement. Second 3-15: The problem or story setup. Second 15-45: The juicy content with 3 quick tips/revelations. Second 45-55: Surprising twist or aha moment. Second 55-60: Strong CTA. Include on-screen text suggestions and transitions. Make it feel authentic, not scripted.`},
  {id:11,cat:'video',platform:'Video Description',icon:'🎬',iconBg:'rgba(244,63,94,0.15)',iconColor:'#f43f5e',title:'SEO Video Description',platformColor:'#f43f5e',
   prompt:`Write a YouTube SEO-optimized description for a video titled: "[VIDEO TITLE]". Include: compelling 2-line opener with main keyword, 150-word summary with 5 naturally placed keywords, chapter timestamps (at least 6), 3 relevant links, social media links placeholder, subscribe CTA, and 15 relevant hashtags at bottom. Primary keyword: [KEYWORD]. Secondary keywords: [3 MORE KEYWORDS].`},

  // MARKETING
  {id:12,cat:'marketing',platform:'ChatGPT',icon:'📊',iconBg:'rgba(245,158,11,0.15)',iconColor:'#f59e0b',title:'Facebook Ad Copy',platformColor:'#f59e0b',
   prompt:`Write 3 versions of Facebook ad copy for [PRODUCT] targeting [AUDIENCE]. For each version use a different framework: 1) AIDA (Attention-Interest-Desire-Action), 2) PAS (Problem-Agitate-Solution), 3) Story-based emotional appeal. Each ad should have: scroll-stopping first line, body (max 150 words), CTA button text, and a suggested image description. Tone: [BRAND VOICE].`},
  {id:13,cat:'marketing',platform:'ChatGPT',icon:'📊',iconBg:'rgba(245,158,11,0.15)',iconColor:'#f59e0b',title:'Email Sequence (7-Day)',platformColor:'#f59e0b',
   prompt:`Create a 7-day email nurture sequence for [PRODUCT/SERVICE] targeting [AUDIENCE]. Email 1: Welcome + quick win. Email 2: Story/origin. Email 3: Education (key insight). Email 4: Social proof. Email 5: Address objection. Email 6: Case study. Email 7: Hard offer + urgency. For each: subject line (A + B version), preview text, body (200-300 words), CTA. Conversational tone, no spam words.`},
  {id:14,cat:'marketing',platform:'Claude',icon:'📊',iconBg:'rgba(245,158,11,0.15)',iconColor:'#f59e0b',title:'SEO Blog Article',platformColor:'#f59e0b',
   prompt:`Write a comprehensive 2000-word SEO blog article about [TOPIC] optimized for the keyword "[PRIMARY KEYWORD]". Structure: H1 with keyword, engaging intro with hook (150 words), 5 H2 sections with H3 subsections, include LSI keywords naturally, 2 statistics per section, expert quotes (can be hypothetical), FAQ section (5 questions), strong conclusion with CTA. Readability: Grade 8. Tone: authoritative yet conversational.`},

  // CODE
  {id:15,cat:'code',platform:'ChatGPT/Claude',icon:'💻',iconBg:'rgba(6,182,212,0.15)',iconColor:'#06b6d4',title:'REST API Builder',platformColor:'#06b6d4',
   prompt:`You are a senior backend developer. Build a complete REST API for [APP FEATURE] using Node.js + Express + MongoDB. Include: complete file structure, authentication middleware (JWT), input validation, error handling, rate limiting, API endpoints with CRUD operations, database models with Mongoose, environment config, and Dockerfile. Code must be production-ready with comments. Include Postman collection JSON.`},
  {id:16,cat:'code',platform:'ChatGPT/Claude',icon:'💻',iconBg:'rgba(6,182,212,0.15)',iconColor:'#06b6d4',title:'React Component Kit',platformColor:'#06b6d4',
   prompt:`Build a complete React component: [COMPONENT NAME]. Requirements: TypeScript, Tailwind CSS styling, responsive design (mobile-first), accessibility (ARIA labels, keyboard nav), dark/light mode support, animation with Framer Motion, prop types with JSDoc comments, unit tests with Jest + RTL, and Storybook stories. Include: index.ts barrel export and usage examples.`},
  {id:17,cat:'code',platform:'ChatGPT/Claude',icon:'💻',iconBg:'rgba(6,182,212,0.15)',iconColor:'#06b6d4',title:'Python Automation Script',platformColor:'#06b6d4',
   prompt:`Write a Python automation script that [TASK DESCRIPTION]. Requirements: Clean architecture with functions/classes, comprehensive error handling with try/except, logging system, progress indicators with tqdm, config file support (YAML), CLI arguments with argparse, unit tests with pytest, requirements.txt, and README. Make it beginner-friendly with detailed inline comments.`},

  // BUSINESS
  {id:18,cat:'business',platform:'ChatGPT',icon:'💼',iconBg:'rgba(99,102,241,0.15)',iconColor:'#6366f1',title:'Investor Pitch Deck',platformColor:'#6366f1',
   prompt:`Create a compelling investor pitch deck outline for [STARTUP NAME] in [INDUSTRY]. Include 12 slides: 1) Problem (market pain), 2) Solution (your product), 3) Market Size (TAM/SAM/SOM with sources), 4) Product Demo (key screens), 5) Business Model (revenue streams), 6) Traction (metrics), 7) Competition Matrix, 8) Go-to-Market Strategy, 9) Team, 10) Financials (3-yr projections), 11) Funding Ask, 12) Vision slide. For each: key message + 3 bullet points + visual suggestion.`},
  {id:19,cat:'business',platform:'ChatGPT',icon:'💼',iconBg:'rgba(99,102,241,0.15)',iconColor:'#6366f1',title:'LinkedIn Authority Posts',platformColor:'#6366f1',
   prompt:`Write 5 LinkedIn posts that establish thought leadership in [INDUSTRY/NICHE]. Each post should: start with a bold/controversial hook (1 sentence), use line breaks for mobile readability, tell a mini-story or share a counter-intuitive insight, include actionable takeaway, end with an engaging question to drive comments. Mix formats: one storytelling, one list, one hot take, one case study, one prediction. 200-300 words each.`},
  {id:20,cat:'business',platform:'Claude',icon:'💼',iconBg:'rgba(99,102,241,0.15)',iconColor:'#6366f1',title:'Competitive Analysis',platformColor:'#6366f1',
   prompt:`Conduct a comprehensive competitive analysis for [YOUR COMPANY] vs [COMPETITORS]. For each competitor analyze: pricing strategy, target market, key features, marketing channels, strengths, weaknesses, customer reviews sentiment. Then: identify market gaps, blue ocean opportunities, our competitive advantages, positioning recommendations, and 3 strategies to capture market share. Format as executive report with tables.`},

  // CREATIVE
  {id:21,cat:'creative',platform:'ChatGPT',icon:'✍️',iconBg:'rgba(244,63,94,0.15)',iconColor:'#f43f5e',title:'Short Story (Thriller)',platformColor:'#f43f5e',
   prompt:`Write a gripping 800-word thriller short story with this premise: [YOUR PREMISE]. Requirements: First-person narrator with unreliable perspective, story opens in medias res (middle of action), 3-act structure compressed, twist ending the reader won't see coming, sensory-rich descriptions (sound, smell, texture), short punchy sentences during tense moments, longer flowing sentences during calm. Tone: dark, atmospheric, Hitchcock-inspired.`},
  {id:22,cat:'creative',platform:'ChatGPT',icon:'✍️',iconBg:'rgba(244,63,94,0.15)',iconColor:'#f43f5e',title:'Brand Storytelling',platformColor:'#f43f5e',
   prompt:`Write an authentic brand origin story for [BRAND NAME] in [INDUSTRY]. Structure: 1) The founder's frustration/problem moment (personal and specific), 2) The failed attempts and struggles, 3) The breakthrough insight, 4) Early days and first customers, 5) The mission crystallized, 6) Where we are now and what we stand for. Tone: honest, vulnerable, inspiring. 500 words. Include a memorable tagline at the end.`},
  {id:23,cat:'creative',platform:'Midjourney',icon:'🎨',iconBg:'rgba(244,63,94,0.15)',iconColor:'#f43f5e',title:'Logo Design Prompt',platformColor:'#f43f5e',
   prompt:`/imagine minimalist vector logo for [BRAND NAME] in [INDUSTRY], clean geometric design, [PRIMARY COLOR] and white color palette, symbol only (no text), scalable icon that works at 16px and 512px, modern and timeless style, professional brand identity, flat design, simple shapes, memorable and unique, white background for visibility --ar 1:1 --q 2 --style raw --s 250`},
  {id:24,cat:'creative',platform:'ChatGPT',icon:'✍️',iconBg:'rgba(244,63,94,0.15)',iconColor:'#f43f5e',title:'Product Naming System',platformColor:'#f43f5e',
   prompt:`Generate 20 creative product names for [PRODUCT TYPE] in [INDUSTRY]. For each name provide: the name itself, the meaning/etymology, emotional association, target audience fit, domain availability check format (.com likely?), trademark search note. Group into 4 categories: 1) Abstract/coined words, 2) Descriptive portmanteaus, 3) Metaphorical names, 4) Power words. Then recommend top 3 with rationale.`},
]

let activeCategory='all',searchQuery=''

function renderPromptCards(){
  const grid=document.getElementById('psGrid')
  if(!grid)return
  let filtered=allPrompts
  if(activeCategory!=='all')filtered=filtered.filter(p=>p.cat===activeCategory)
  if(searchQuery){
    const q=searchQuery.toLowerCase()
    filtered=filtered.filter(p=>p.title.toLowerCase().includes(q)||p.prompt.toLowerCase().includes(q)||p.platform.toLowerCase().includes(q))
  }
  if(!filtered.length){grid.innerHTML='<div style="grid-column:1/-1;text-align:center;padding:40px;color:var(--muted)">No prompts found. Try a different search!</div>';return}
  grid.innerHTML=filtered.map(p=>`
    <div class="ps-card">
      <span class="ps-platform-tag" style="background:${p.iconBg};color:${p.iconColor};border:1px solid ${p.iconColor}44">${p.platform}</span>
      <div class="ps-card-header">
        <div class="ps-card-icon" style="background:${p.iconBg}">${p.icon}</div>
        <div class="ps-card-meta">
          <div class="ps-card-title">${p.title}</div>
          <div class="ps-card-cat">${p.cat} · ${p.platform}</div>
        </div>
      </div>
      <div class="ps-card-prompt">${p.prompt}</div>
      <div class="ps-card-footer">
        <button class="ps-copy-btn" onclick="copyPrompt(${p.id})">📋 Copy Prompt</button>
        <button class="ps-use-btn" onclick="usePromptInStudio(${p.id})">⚡ Use Now</button>
      </div>
    </div>
  `).join('')
}

function filterByCategory(cat,el){
  activeCategory=cat
  document.querySelectorAll('.ps-cat').forEach(c=>c.classList.remove('active'))
  el.classList.add('active')
  renderPromptCards()
}

function filterPrompts(){
  searchQuery=document.getElementById('psSearch').value
  renderPromptCards()
}

function copyPrompt(id){
  const p=allPrompts.find(p=>p.id===id)
  if(!p)return
  navigator.clipboard.writeText(p.prompt).then(()=>showToast(`📋 "${p.title}" prompt copied!`))
}

function usePromptInStudio(id){
  const p=allPrompts.find(p=>p.id===id)
  if(!p)return
  // scroll to AI studio and paste prompt
  document.getElementById('ai-studio').scrollIntoView({behavior:'smooth'})
  setTimeout(()=>{
    const promptInput=document.getElementById('prompt-topic')
    if(promptInput){promptInput.value=p.title;promptInput.focus()}
    const outputArea=document.getElementById('out-prompt')
    outputArea.textContent=p.prompt
    outputArea.classList.add('visible')
    showToast(`⚡ "${p.title}" loaded in AI Studio!`)
  },800)
}

// Init prompt samples when section visible
document.addEventListener('DOMContentLoaded',()=>{
  renderPromptCards()
})
setTimeout(renderPromptCards,500)


const dbData={tasks:[],team:[],activity:[]}

function showDashboard(){
  // Smooth scroll to dashboard section
  document.getElementById('dashboard-section').classList.add('visible')
  setTimeout(()=>document.getElementById('dashboard-section').scrollIntoView({behavior:'smooth'}),50)
}

function dbSwitch(pageId,btn){
  document.querySelectorAll('.db-page').forEach(p=>p.classList.remove('active'))
  document.querySelectorAll('.db-tab').forEach(t=>t.classList.remove('active'))
  document.getElementById(pageId).classList.add('active')
  btn.classList.add('active')
  if(pageId==='db-analytics')dbUpdateCharts()
}

function dbOpenModal(){
  dbUpdateAssigneeDropdowns()
  document.getElementById('db-modal').classList.add('open')
}
function dbCloseModal(){document.getElementById('db-modal').classList.remove('open')}

function dbCreateTask(){
  const name=document.getElementById('db-taskName').value.trim()
  if(!name){showToast('⚠️ Please enter a task name!');return}
  const task={
    id:Date.now(),
    name,
    desc:document.getElementById('db-taskDesc').value,
    assignee:document.getElementById('db-taskAssignee').value,
    deadline:document.getElementById('db-taskDeadline').value,
    priority:document.getElementById('db-taskPriority').value,
    status:document.getElementById('db-taskStatus').value,
    created:new Date().toISOString()
  }
  dbData.tasks.push(task)
  dbAddActivity(`Task created: "${name}"`)
  dbCloseModal()
  dbUpdateUI()
  document.getElementById('db-taskName').value=''
  document.getElementById('db-taskDesc').value=''
  showToast('✅ Task Created!')
}

function dbDeleteTask(id){
  const t=dbData.tasks.find(t=>t.id===id)
  if(t){dbAddActivity(`Task deleted: "${t.name}"`)}
  dbData.tasks=dbData.tasks.filter(t=>t.id!==id)
  dbUpdateUI()
  showToast('🗑️ Task Deleted!')
}

function dbToggleStatus(id){
  const t=dbData.tasks.find(t=>t.id===id)
  if(!t)return
  const cycle={pending:'progress',progress:'completed',completed:'pending'}
  t.status=cycle[t.status]
  dbAddActivity(`"${t.name}" → ${t.status}`)
  dbUpdateUI()
  showToast(`🔄 Status: ${t.status}`)
}

function dbAddMember(){
  const name=document.getElementById('db-memberName').value.trim()
  if(!name){showToast('⚠️ Enter member name!');return}
  dbData.team.push({id:Date.now(),name,email:document.getElementById('db-memberEmail').value,role:document.getElementById('db-memberRole').value})
  dbAddActivity(`Team member added: "${name}"`)
  dbUpdateUI()
  dbUpdateAssigneeDropdowns()
  document.getElementById('db-memberName').value=''
  document.getElementById('db-memberEmail').value=''
  document.getElementById('db-memberRole').value=''
  showToast('👤 Member Added!')
}

function dbDeleteMember(id){
  const m=dbData.team.find(m=>m.id===id)
  if(m)dbAddActivity(`Member removed: "${m.name}"`)
  dbData.team=dbData.team.filter(m=>m.id!==id)
  dbUpdateUI();dbUpdateAssigneeDropdowns()
  showToast('🗑️ Member Removed!')
}

function dbAddActivity(msg){
  dbData.activity.unshift({msg,time:new Date().toLocaleTimeString()})
  if(dbData.activity.length>8)dbData.activity.pop()
}

function dbFilterTasks(){
  const st=document.getElementById('db-statusFilter').value
  const pr=document.getElementById('db-priorityFilter').value
  const as=document.getElementById('db-assigneeFilter').value
  let filtered=dbData.tasks
  if(st!=='all')filtered=filtered.filter(t=>t.status===st)
  if(pr!=='all')filtered=filtered.filter(t=>t.priority===pr)
  if(as!=='all')filtered=filtered.filter(t=>t.assignee===as)
  dbRenderTasks(filtered)
}

function dbUpdateAssigneeDropdowns(){
  const opts=dbData.team.map(m=>`<option value="${m.name}">${m.name}</option>`).join('')
  const allOpt='<option value="">Select Assignee</option>'+opts
  document.getElementById('db-taskAssignee').innerHTML=allOpt
  document.getElementById('db-assigneeFilter').innerHTML='<option value="all">All Members</option>'+opts
}

function dbRenderTasks(tasks){
  const list=document.getElementById('db-taskList')
  if(!tasks.length){list.innerHTML='<div class="db-empty">No tasks match filters.</div>';return}
  list.innerHTML=tasks.map(t=>{
    const pr={'high':'db-badge-high','medium':'db-badge-medium','low':'db-badge-low'}[t.priority]||''
    const st={'completed':'db-badge-completed','progress':'db-badge-progress','pending':'db-badge-pending'}[t.status]||''
    const dl=t.deadline?`📅 ${t.deadline}`:''
    const asgn=t.assignee?`👤 ${t.assignee}`:''
    return `<div class="task-row">
      <div class="task-row-info">
        <div class="task-row-title">${t.name}<span class="db-badge ${pr}">${t.priority}</span><span class="db-badge ${st}">${t.status}</span></div>
        <div class="task-row-meta">${[asgn,dl].filter(Boolean).join('  |  ')}</div>
      </div>
      <div class="task-row-actions">
        <button class="db-btn" style="background:rgba(6,182,212,0.1);border:1px solid rgba(6,182,212,0.3);color:var(--accent5);padding:7px 12px;font-size:0.8rem" onclick="dbToggleStatus(${t.id})">🔄</button>
        <button class="db-btn db-btn-danger" style="padding:7px 12px;font-size:0.8rem" onclick="dbDeleteTask(${t.id})">🗑️</button>
      </div>
    </div>`
  }).join('')
}

function dbUpdateUI(){
  const total=dbData.tasks.length
  const completed=dbData.tasks.filter(t=>t.status==='completed').length
  const inProg=dbData.tasks.filter(t=>t.status==='progress').length
  const pct=total?Math.round((completed/total)*100):0

  document.getElementById('db-totalTasks').textContent=total
  document.getElementById('db-completedTasks').textContent=completed
  document.getElementById('db-inProgressTasks').textContent=inProg
  document.getElementById('db-teamCount').textContent=dbData.team.length
  document.getElementById('db-progressFill').style.width=pct+'%'
  document.getElementById('db-progressText').textContent=pct+'% Complete'

  // Upcoming deadlines
  const now=new Date()
  const upcoming=dbData.tasks.filter(t=>t.deadline&&t.status!=='completed').sort((a,b)=>new Date(a.deadline)-new Date(b.deadline)).slice(0,4)
  document.getElementById('db-upcomingDeadlines').innerHTML=upcoming.length
    ?upcoming.map(t=>`<div class="task-row" style="margin-bottom:8px"><div class="task-row-info"><div class="task-row-title" style="font-size:0.88rem">${t.name}</div><div class="task-row-meta">📅 ${t.deadline}</div></div></div>`).join('')
    :'<div class="db-empty">No upcoming deadlines</div>'

  // Activity
  document.getElementById('db-recentActivity').innerHTML=dbData.activity.length
    ?dbData.activity.map(a=>`<div style="padding:8px 0;border-bottom:1px solid var(--border);font-size:0.85rem"><span style="color:var(--accent3)">●</span> ${a.msg} <span style="color:var(--muted);font-size:0.75rem;float:right">${a.time}</span></div>`).join('')
    :'<div class="db-empty">No activity yet</div>'

  // Team list
  document.getElementById('db-teamList').innerHTML=dbData.team.length
    ?dbData.team.map(m=>`<div class="member-row"><div style="display:flex;align-items:center;gap:12px">
      <div class="member-avatar">${m.name.charAt(0).toUpperCase()}</div>
      <div><div style="font-weight:700">${m.name}</div><div style="font-size:0.78rem;color:var(--muted)">${m.role||'—'} ${m.email?'· '+m.email:''}</div></div></div>
      <button class="db-btn db-btn-danger" style="padding:6px 12px;font-size:0.8rem" onclick="dbDeleteMember(${m.id})">🗑️</button>
    </div>`).join('')
    :'<div class="db-empty">No team members yet</div>'

  // Render tasks list
  dbFilterTasks()
}

// CHARTS
let dbCharts={}
function dbUpdateCharts(){
  const tasks=dbData.tasks
  const completed=tasks.filter(t=>t.status==='completed').length
  const inProg=tasks.filter(t=>t.status==='progress').length
  const pending=tasks.filter(t=>t.status==='pending').length
  const high=tasks.filter(t=>t.priority==='high').length
  const med=tasks.filter(t=>t.priority==='medium').length
  const low=tasks.filter(t=>t.priority==='low').length

  const chartDefaults={responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:'#e8eaf6',font:{family:'Outfit'}}}}}

  if(dbCharts.task){dbCharts.task.destroy()}
  dbCharts.task=new Chart(document.getElementById('db-taskChart'),{
    type:'doughnut',
    data:{labels:['Completed','In Progress','Pending'],
      datasets:[{data:[completed,inProg,pending],backgroundColor:['#10b981','#06b6d4','#f43f5e'],borderWidth:0,hoverOffset:8}]},
    options:{...chartDefaults}
  })

  if(dbCharts.priority){dbCharts.priority.destroy()}
  dbCharts.priority=new Chart(document.getElementById('db-priorityChart'),{
    type:'bar',
    data:{labels:['High','Medium','Low'],
      datasets:[{label:'Tasks',data:[high,med,low],backgroundColor:['rgba(244,63,94,0.7)','rgba(245,158,11,0.7)','rgba(16,185,129,0.7)'],borderRadius:8,borderSkipped:false}]},
    options:{...chartDefaults,scales:{x:{ticks:{color:'#7b83b0'},grid:{display:false}},y:{ticks:{color:'#7b83b0',stepSize:1},grid:{color:'rgba(99,102,241,0.08)'}}}}
  })

  const memberNames=dbData.team.map(m=>m.name)
  const memberTaskCounts=dbData.team.map(m=>tasks.filte
